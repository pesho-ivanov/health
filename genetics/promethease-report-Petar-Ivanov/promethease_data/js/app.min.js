!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require){!function(){require("../../bower_components/angular/angular.js"),require("../../bower_components/angular-route/angular-route.js"),require("../../bower_components/angular-touch/angular-touch.js"),require("../../bower_components/angular-perfect-scrollbar/src/angular-perfect-scrollbar.js"),require("../../vendor_libs/position.js"),require("../../vendor_libs/tooltip.js"),require("../../vendor_libs/popover.js"),require("../../vendor_libs/bindhtmlunsafe.js"),require("../../vendor_libs/headroom.min.js"),require("../../vendor_libs/angular.headroom.min.js"),require("./directives/GenosDirectives"),require("./services/GenosDB"),require("./services/GenosSort"),require("./services/GenosFilters"),require("./services/GenosCollection"),require("./services/GenosProviders");var genosController=require("./controllers/GenosController"),genosGraphController=require("./controllers/GenosGraphController");angular.module("promethease",["GenosDirectives","GenosDB","GenosFilters","GenosCollection","GenosSort","GenosProviders","perfect_scrollbar","ui.bootstrap.tooltip","ui.bootstrap.popover","headroom"]).controller("GenosController",genosController.GenosController).controller("GenosGraphController",genosGraphController.GenosGraphController)}()},{"../../bower_components/angular-perfect-scrollbar/src/angular-perfect-scrollbar.js":16,"../../bower_components/angular-route/angular-route.js":17,"../../bower_components/angular-touch/angular-touch.js":18,"../../bower_components/angular/angular.js":19,"../../vendor_libs/angular.headroom.min.js":157,"../../vendor_libs/bindhtmlunsafe.js":158,"../../vendor_libs/headroom.min.js":163,"../../vendor_libs/popover.js":164,"../../vendor_libs/position.js":165,"../../vendor_libs/tooltip.js":167,"./controllers/GenosController":7,"./controllers/GenosGraphController":8,"./directives/GenosDirectives":9,"./services/GenosCollection":11,"./services/GenosDB":12,"./services/GenosFilters":13,"./services/GenosProviders":14,"./services/GenosSort":15}],2:[function(require,module){var React=require("react");module.exports=BlockItemView=React.createClass({displayName:"BlockItemView",statics:{cloak:function(view){!view.state.cloaked&&view.isMounted()&&view.setState({cloaked:!0})},unCloak:function(view){view.state.cloaked&&view.isMounted()&&view.setState({cloaked:!1})},setBoring:function(view){view.isMounted()&&view.setState({boring:!0})},hideDetails:function(view){view.isMounted()&&view.state.showDetails&&view.setState({showDetails:!1})}},getInitialState:function(){return{cloaked:this.state&&this.state.cloaked||!1,showMore:this.state&&this.state.showMore||!1,showEditMode:this.state&&this.state.showEditMode||!1,boring:this.state&&this.state.boring||!1,showDetails:this.state&&this.state.showDetails||!1}},shouldComponentUpdate:function(nextProps,nextState){var cloakState=this.state.cloaked!==nextState.cloaked,showMoreState=this.state.showMore!==nextState.showMore,editMoreState=this.state.showEditMode!==nextState.showEditMode,boringState=this.state.boring!==nextState.boring,detailsState=this.state.showDetails!==nextState.showDetails;return cloakState||editMoreState||showMoreState||boringState||detailsState},componentDidMount:function(){var el=this.getDOMNode();if(el){var height=el.offsetHeight;this.props.top||(this.props.top=el.offsetTop),this.props.height||(this.props.height=height),el.style.minHeight=this.props.height+"px";var img=this.refs.genosImage?this.refs.genosImage.getDOMNode():void 0;img&&(img.onload=function(){this.props.imgHeight=img.getBoundingClientRect().height+"px",img.parentNode.style.height=this.props.imgHeight}.bind(this))}},componentDidUpdate:function(prevProps,prevState){if(this.state.showMore!==prevState.showMore||this.state.boring!==prevState.boring){var el=this.getDOMNode();el.style.minHeight="";var height=el.offsetHeight;this.props.height=height,el.style.minHeight=height+"px"}},timeFormat:function(time){return parseInt(time/1e6,10)},toggleEditMode:function(){this.setState({showEditMode:!this.state.showEditMode})},getTags:function(tags){for(var tagArr=[],i=0,tL=tags.length;tL>i;i++)tagArr.push(React.DOM.span({className:"genos-tag",key:"tag-"+i,onClick:this.setTag},tags[i]));return tagArr},getClinvarDiseases:function(diseases){for(var diseases=diseases.split(";"),diseasesArr=[],i=0,tL=diseases.length;tL>i;i++)diseasesArr.push(React.DOM.span({className:"clinvar-dtag",key:"clinvar-"+i,onClick:this.setClinvar},diseases[i].trim()));return diseasesArr},setTag:function(e){this.props.setTag(e.target.innerHTML)},setClinvar:function(e){this.props.setClinvar(e.target.innerHTML)},showRsText:function(){window.setTimeout(function(){var el=this.getDOMNode(),height=el.offsetHeight;el.style.minHeight=height+"px",this.props.height=height,this.setState({showMore:!this.state.showMore})}.bind(this),10)},showDetails:function(e){var target=(angular.element(this.refs.info.getDOMNode()),e.target);BlockItemView.previousView&&BlockItemView.previousView.setState({showDetails:!1}),this.infoPos=target.offsetLeft+"px",this.setState({showDetails:!this.state.showDetails}),BlockItemView.previousView=this},showBoring:function(){this.props.showBoring(this.props.item.lindex)},render:function(){var genos=this.props.item,cloaked=this.state.cloaked,boring=this.state.boring,showMoreState=this.state.showMore,editModeState=this.state.showEditMode,detailsState=this.state.showDetails,genoTitle=genos.rsnum?genos.rsnum:genos.title,title="http://www.snpedia.com/index.php/"+genoTitle,genoGeno=genos.geno?genos.geno:null,editLink=genos.rsnum?"http://www.snpedia.com/index.php/Special:FormEdit/Genotype/"+genoTitle+genoGeno:"http://www.snpedia.com/index.php/Special:FormEdit/Genoset/"+genoTitle,shortTitle=genos.rsnum?"http://www.snpedia.com/index.php/"+genoTitle+genoGeno:"http://www.snpedia.com/index.php/"+genoTitle;if(boring&&(genos.repute="Good",genos.magnitude=0),cloaked)return React.DOM.div({className:"genos-item",style:{minHeight:this.props.height+"px"}},React.DOM.div({className:"genos-item-header header"},React.DOM.div({className:"genos-summ"},genos.genosummary),React.DOM.div({className:"genos-title"},React.DOM.a({className:"ex-link",target:"_blank",href:title},genoTitle),genoGeno?React.DOM.a({className:"ex-link short",target:"_blank",href:shortTitle},genoGeno):null)),React.DOM.div({className:"genos-loading"},"Loading...."));var freqColor=genos.freq?{backgroundColor:genos.freqcolor}:{},infoPos=this.infoPos?{left:this.infoPos}:{},imgHeight=this.props.imgHeight?{height:this.props.imgHeight}:{};return React.DOM.div({className:"genos-item",key:this.props.key},React.DOM.div({className:"genos-item-header header"},genos.genosummary?React.DOM.div({className:"genos-summ"},genos.genosummary):null,React.DOM.div({className:"genos-title"},React.DOM.a({className:"ex-link",target:"_blank",href:title},genoTitle),genoGeno?React.DOM.a({className:"ex-link short",target:"_blank",href:shortTitle},genoGeno):null,React.DOM.span({className:"show-details "+(genos.repute?genos.repute.toLowerCase():"")+(detailsState?" active":""),onClick:this.showDetails},"Show Details"))),React.DOM.div({className:"genos-details"},React.DOM.div({className:detailsState?"genos-info active":"genos-info",ref:"info",style:infoPos},React.DOM.div({className:"genos-info-b"},React.DOM.div({className:"genos-info-r"},genos.repute?React.DOM.div({className:"genos-info-c","data-title":"Repute"},React.DOM.span({className:"repute "+genos.repute.toLowerCase()},genos.repute)):null,genos.magnitude?React.DOM.div({className:"genos-info-c","data-title":"Magnitude"},genos.magnitude):null,genos.orientation?React.DOM.div({className:"genos-info-c","data-title":"Orientation"},genos.orientation):null,genos.freq?React.DOM.div({className:"genos-info-c","data-title":"Frequency"},React.DOM.span({className:genos.freqcolor&&"#FFFFFF"!==genos.freqcolor?"freq-color":"",style:freqColor},genos.freq)):null,genos.gmaf?React.DOM.div({className:"genos-info-c","data-title":"GMAF"},genos.gmaf):null,genos.numrefs?React.DOM.div({className:"genos-info-c","data-title":"References"},genos.numrefs):null,genos.gene?React.DOM.div({className:"genos-info-c","data-title":"Gene"},genos.gene):null,genos.chrom?React.DOM.div({className:"genos-info-c","data-title":"Chromosome"},genos.chrom):null,genos.pos?React.DOM.div({className:"genos-info-c","data-title":"Position"},genos.pos):null,genos.maxmag?React.DOM.div({className:"genos-info-c","data-title":"Max Magnitude"},genos.maxmag):null,genos.rstime?React.DOM.div({className:"genos-info-c","data-title":"Rs Time"},this.timeFormat(genos.rstime)):null,genos.genotime?React.DOM.div({className:"genos-info-c","data-title":"Geno Time"},this.timeFormat(genos.genotime)):null,genos.mom?React.DOM.div({className:"genos-info-c","data-title":"Mom"},genos.mom):null,genos.dad?React.DOM.div({className:"genos-info-c","data-title":"Dad"},genos.dad):null))),React.DOM.div({className:"genos-ref"},React.DOM.div({className:"genos-body"},React.DOM.p({ref:"genoBody"},genos.imgbase64&&null!==genos.imgbase64?React.DOM.div({className:"genos-img",style:imgHeight},React.DOM.img({className:"genos-image",src:genos.imgbase64,ref:"genosImage"})):null,genos.imgurl&&null!==genos.imgurl?React.DOM.div({className:"genos-img",style:imgHeight},React.DOM.img({className:"genos-image",src:genos.imgurl,ref:"genosImage"})):null,genos.genobody?React.DOM.p(null,genos.genobody):null),genos.rstext&&genos.genobody?React.DOM.div({className:showMoreState?"show-more hide":"show-more",onClick:this.showRsText},"..more"):null,genos.rstext?React.DOM.div({ref:"rsText",className:!genos.genobody||showMoreState?"genos-text active":"genos-text"},genos.rstext):null)),genos.clinvar_1?React.DOM.div({className:"genos-clinvar-tags"},React.DOM.span({className:"hint--top dna","data-hint":"ClinVar Diseases"},React.DOM.span({className:"icon-dna"})),"1"===genos.clinvar_1?React.DOM.span({className:"clinvar-itag untested"},React.DOM.span({className:"icon-info"}),"Untested"):null,"2"===genos.clinvar_1?React.DOM.span({className:"clinvar-itag n-patho"},React.DOM.span({className:"icon-info"}),"Non-pathogenic"):null,"3"===genos.clinvar_1?React.DOM.span({className:"clinvar-itag pn-patho"},React.DOM.span({className:"icon-info"}),"Probable-non-pathogenic"):null,"4"===genos.clinvar_1?React.DOM.span({className:"clinvar-itag p-patho"},React.DOM.span({className:"icon-info"}),"Probable-pathogenic"):null,"5"===genos.clinvar_1?React.DOM.span({className:"clinvar-itag patho"},React.DOM.span({className:"icon-info"}),"Pathogenic"):null,"6"===genos.clinvar_1?React.DOM.span({className:"clinvar-itag drug-r"},React.DOM.span({className:"icon-info"}),"Drug-response"):null,"7"===genos.clinvar_1?React.DOM.span({className:"clinvar-itag histocmp"},React.DOM.span({className:"icon-info"}),"Histocompatibility"):null,"255"===genos.clinvar_1?React.DOM.span({className:"clinvar-itag oth"},React.DOM.span({className:"icon-info"}),"Other"):null,""===genos.clinvar_1?React.DOM.span({className:"clinvar-itag def"},"??"):null,genos.clinvar_disease&&genos.clinvar_disease.length>0?React.DOM.span(null,this.getClinvarDiseases(genos.clinvar_disease)):null):null,genos.tags&&genos.tags.length>0?React.DOM.div({className:"genos-tags"},React.DOM.span({className:"hint--top branch","data-hint":"Tags"},React.DOM.span({className:"icon-flow-branch"})),this.getTags(genos.tags)):null),React.DOM.div(null,React.DOM.a({className:"genos-edit-mode hint--right","data-hint":"Edit Mode",onClick:this.toggleEditMode},React.DOM.span({className:"icon-pencil"})),React.DOM.div({className:editModeState?"genos-edit active":"genos-edit",ref:"editMode"},React.DOM.a({onClick:this.showBoring},"Set Boring"),React.DOM.a({className:"ex-link",target:"_blank",href:editLink},"Edit"))))}})},{react:155}],3:[function(require,module){var React=require("react"),BlockItemView=require("./BlockItemView.jsx"),PaginationView=require("./PaginationView.jsx");module.exports=BlockView=React.createClass({displayName:"BlockView",debounce:function(func,wait){var timeout;return function(){var later=function(){timeout=null,func()};clearTimeout(timeout),timeout=setTimeout(later,wait)}},findTopView:function(childViews,viewportTop,min,max){if(min>max)return min;var mid=Math.floor((min+max)/2),view=childViews[mid],viewBottom=(this.biDirectional?view.getDOMNode().offsetTop:view.props.top)+view.props.height;return viewBottom>viewportTop?this.findTopView(childViews,viewportTop,min,mid-1):this.findTopView(childViews,viewportTop,mid+1,max)},cloaker:function(childViews){if(childViews&&childViews.length){for(var that=this,windowTop=that.windowTop=that.w.scrollY||that.w.document.documentElement.scrollTop,viewportTop=windowTop,windowHeight=that.windowHeight,windowBottom=windowTop+windowHeight,viewportBottom=windowBottom+windowHeight,topView=that.findTopView(childViews,viewportTop,0,childViews.length-1),onScreen=[],toUnCloak=[],toCloak=[],bottomView=topView;bottomView<childViews.length;){var view=childViews[bottomView],viewTop=that.biDirectional?view.getDOMNode().offsetTop:view.props.top,viewBottom=viewTop+view.props.height;if(viewTop>viewportBottom)break;toUnCloak.push(childViews[bottomView]),viewBottom>windowTop&&windowBottom>=viewTop&&onScreen.push(view),bottomView++}bottomView>=childViews.length&&(bottomView=childViews.length-1),toCloak=childViews.slice(0,topView).concat(childViews.slice(bottomView+1,childViews.length));for(var j=0,tUCL=toUnCloak.length;tUCL>j;j++){var view=toUnCloak[j];view&&BlockItemView.unCloak(view)}for(var i=0,tCL=toCloak.length;tCL>i;i++){var view=toCloak[i];view&&!view.state.cloaked&&BlockItemView.cloak(view)}return bottomView}},loadMore:function(rows,limit,size,totalPages){var childViews,bottomView=this.cloaker(childViews=rows),currPageNumber=this.paginateView.getPageNumber();if(childViews[bottomView-1]&&this.paginateView.setPageNumber(currPageNumber=childViews[bottomView-1].props.pageNumber),limit>=size||totalPages===currPageNumber&&bottomView===childViews.length-1)return void(this.props.loaderBottom.style.display="none");if(1!==currPageNumber&&this.biDirectional?(this.hideLoaderTop=!1,this.windowTop<=childViews[0].getDOMNode().offsetTop&&this.topScroll&&(this.showScrollInfo&&(this.showScrollInfo=!1,this.props.loaderTop.style.display="block",angular.element(this.scrollInfo).removeClass("active")),this.prevScrollHeight=document.body.scrollHeight,clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){this.renderRows("top",currPageNumber)}.bind(this),150))):1===currPageNumber&&(this.hideLoaderTop||(this.hideLoaderTop=!0,this.props.loaderTop.style.display="none")),this.topScroll=!0,bottomView===childViews.length-1){var props=childViews[bottomView].props;this.windowTop+this.windowHeight>props.top+props.height&&(clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){this.renderRows("bottom",currPageNumber)}.bind(this),150))}},renderRows:function(morientation,pageNumber){var that=this,rows=[],orientation="bottom"===morientation?1:0,collection=that.props.collection,limit=that.props.limit;that.pageNumber=pageNumber||that.pageNumber,orientation?that.pageNumber++:that.pageNumber--;for(var i=Math.max(0,(that.pageNumber-1)*limit),pL=Math.min(that.pageNumber*limit,collection.length);pL>i;i++)rows.push(BlockItemView({item:collection[i],pageNumber:that.pageNumber,showBoring:that.showBoring,setTag:that.setTag,setClinvar:that.setClinvar,key:"item-"+collection[i].lindex}));that.pageArr.indexOf(that.pageNumber)<0&&that.pageArr.push(that.pageNumber),that.isMounted()&&(orientation?that.setState({rows:that.state.rows.concat(rows),limit:limit}):(rows=rows.concat(that.state.rows),that.isMounted()&&that.setState({rows:rows,limit:limit})))},setTag:function(tag){this.props.setTag(tag)},setClinvar:function(clinvar){this.props.setClinvar(clinvar)},showBoring:function(index){this.props.showBoring(index)},getInitialState:function(){var that=this;return that.pageArr=[],that.topScroll=!0,that.scrollInfo=that.props.scrollInfo,that.onResizeProp=that.props.onResize,that.showScrollInfo=!1,that.lastPage=that.props.lastPage,that.pageInputValue=that.props.pageInputValue,that.limit=that.props.limit,that.itemCount=that.props.collection.length,that.paginationContainer=that.props.paginationContainer,that.totalPages=Math.round(Math.max(that.itemCount,that.limit)/that.limit),{rows:function(that){var rows=[],collection=that.props.collection,limit=that.props.limit;that.pageNumber=that.pageInputValue?that.pageInputValue:that.lastPage?Math.round(that.itemCount/limit):1,that.biDirectional=that.pageNumber>1,that.firstPage=that.pageNumber,that.pageArr.push(that.pageNumber);for(var i=Math.max(0,(that.pageNumber-1)*limit),pL=Math.min(that.pageNumber*limit,collection.length);pL>i;i++)rows.push(BlockItemView({item:collection[i],pageNumber:that.pageNumber,showBoring:that.showBoring,setTag:that.setTag,setClinvar:that.setClinvar,key:"item-"+collection[i].lindex}));return rows}(that),limit:that.props.limit}},shouldComponentUpdate:function(nextProps,nextState){var propsChanged=this.props!==nextProps,stateChanged=this.state!==nextState;return propsChanged||stateChanged},componentDidUpdate:function(){this.biDirectional&&this.windowTop<=this.state.rows[0].getDOMNode().offsetTop&&window.scrollTo(0,document.body.scrollHeight-this.prevScrollHeight)},componentWillUnmount:function(){document.querySelector(".view-loader").style.visibility="visible"},componentDidMount:function(){var that=this;that.w=window,that.attachScroll(),that.attachResize(),that.toggleLoader(),that.subscribeToBoring(),that.subscribeToScopeEvents(),document.querySelector(".view-loader").style.visibility="hidden";var showPage=function(value){var rows=that.state.rows,index=that.pageArr.indexOf(value),rerender=0>index;that.props.showPage(rerender,rerender?0:rows[rows.length-that.limit*(index+1)].getDOMNode().offsetTop,value)},showFirstPage=function(){that.props.showFirstPage(that.pageArr.indexOf(1)<0)},showLastPage=function(){that.props.showLastPage(that.pageArr.indexOf(that.totalPages)<0)};angular.element(this.paginationContainer).removeClass("inactive"),window.setTimeout(function(){this.isMounted()&&angular.element(this.getDOMNode()).removeClass("inactive")}.bind(that),100),React.unmountComponentAtNode(that.paginationContainer),that.paginateView=React.renderComponent(PaginationView({showPage:showPage,totalItems:that.itemCount,totalPages:that.totalPages,pageNumber:that.pageNumber,showFirstPage:showFirstPage,showLastPage:showLastPage}),that.paginationContainer),document.addEventListener("click",function(e){if(!($(e.target).closest(".show-details").length||$(e.target).closest(".genos-edit-mode").length||$(e.target).closest(".genos-edit").length||$(e.target).closest(".overlay").length||$(e.target).closest(".genos-info").length))for(var i=0,rows=this.state.rows,rL=rows.length;rL>i;i++)BlockItemView.hideDetails(rows[i])}.bind(this))},attachScroll:function(){var that=this;that.onScroll=that.debounce(function(){that.loadMore(that.state.rows,that.state.limit,that.itemCount,that.totalPages)},10),that.windowHeight=that.w.innerHeight,that.w.addEventListener("scroll",that.onScroll)},attachResize:function(){var that=this;that.onResize=that.debounce(function(){that.onResizeProp(that.state.rows.length)},250),that.w.addEventListener("resize",that.onResize)},detachEvents:function(){this.w.removeEventListener("scroll",this.onScroll),this.w.removeEventListener("resize",this.onResize)},subscribeToBoring:function(){var that=this;angular.element(that.getDOMNode()).scope().$on("boringUpdate",function(event,index){for(var rows=that.state.rows,i=0,rL=rows.length;rL>i;i++)if(rows[i].props.item.lindex===index){BlockItemView.setBoring(rows[i]);break}})},subscribeToScopeEvents:function(){var that=this,node=angular.element(that.getDOMNode());node.scope().$on("disableBlockView",function(){that.detachEvents()}),node.scope().$on("enableBlockView",function(){that.attachScroll(),that.isMounted()&&angular.element(that.getDOMNode()).scope().$emit("hideViewLoader")})},toggleLoader:function(){var props=this.props;window.setTimeout(function(){1===this.pageNumber&&this.totalPages>1?(props.loaderTop.style.display="none",props.loaderBottom.style.display="block"):this.pageNumber===this.totalPages&&this.totalPages>1?props.loaderTop.style.display="block":props.limit>this.state.rows.length?props.loaderBottom.style.display="none":(this.biDirectional&&(this.totalPages>1&&this.pageNumber!==this.totalPages?(props.loaderTop.style.display="none",this.topScroll=!1,this.showScrollInfo=!0,angular.element(this.scrollInfo).addClass("active")):(props.loaderTop.style.display="block",angular.element(this.scrollInfo).removeClass("active"))),props.loaderBottom.style.display="block")}.bind(this),1)},componentWillUnmount:function(){this.detachEvents(),this.lastPage=this.pageInputValue=null,this.props.loaderTop.style.display="none",this.props.loaderBottom.style.display="none",this.paginateView.setItemCount(0),angular.element(this.scrollInfo).removeClass("active"),angular.element(this.paginationContainer).addClass("inactive"),BlockItemView.previousView=null},render:function(){return React.DOM.div({className:"clearfix inactive"},this.state.rows)}})},{"./BlockItemView.jsx":2,"./PaginationView.jsx":4,react:155}],4:[function(require,module){var React=require("react");module.exports=PaginationView=React.createClass({displayName:"PaginationView",getInitialState:function(){return this.pageNumber=this.props.pageNumber,{totalItems:this.props.totalItems,totalPages:this.props.totalPages,pageNumber:this.pageNumber}},showPage:function(event){if(13===event.keyCode){var value=event.target.value;!isNaN(value)&&value>0&&value<=this.props.totalPages&&this.props.showPage(this.pageNumber=+value)}},showFirstPage:function(){this.props.showFirstPage()},showLastPage:function(){this.props.showLastPage()},setItemCount:function(count){this.setState({totalItems:count})},setPageNumber:function(number){this.refs.pageInput&&this.pageNumber!==number&&(this.pageNumber=this.refs.pageInput.getDOMNode().value=number)},getPageNumber:function(){return this.pageNumber},render:function(){return React.DOM.div(null,React.DOM.span({className:"total-items"},React.DOM.span({className:"count"},this.state.totalItems),this.state.totalItems>1?React.DOM.span(null," items found"):React.DOM.span(null," item found")),React.DOM.div({className:"controls"},React.DOM.span({className:"first-page-wrp hint--top","data-hint":"Go to First Page"},React.DOM.span({className:"first-page-btn icon-arrow-circle-up",onClick:this.showFirstPage})),React.DOM.span({className:"last-page-wrp hint--top","data-hint":"Go to Last Page"},React.DOM.span({className:"last-page-btn icon-arrow-circle-down",onClick:this.showLastPage})),React.DOM.span({className:"page-placeholder"},"Page"),React.DOM.input({type:"text",className:"page-no-input",ref:"pageInput",onKeyUp:this.showPage,defaultValue:this.state.pageNumber}),React.DOM.span({className:"total-pages"},React.DOM.span(null,"of"),React.DOM.span({className:"page-count"},this.state.totalPages),this.state.totalPages>1?React.DOM.span(null,"Pages"):React.DOM.span(null,"Page"))))}})},{react:155}],5:[function(require,module){var React=require("react");module.exports=TableItemView=React.createClass({displayName:"TableItemView",render:function(){var genos=this.props.item,genoTitle=genos.rsnum?genos.rsnum:genos.title,title="http://www.snpedia.com/index.php/"+genoTitle,genoGeno=genos.geno?genos.geno:null,freqColor=genos.freq?{backgroundColor:genos.freqcolor+" !important"}:{},shortTitle=genos.rsnum?"http://www.snpedia.com/index.php/"+genoTitle+genoGeno:"http://www.snpedia.com/index.php/"+genoTitle;return React.DOM.tr({className:"genos-table-r"},React.DOM.td({className:"genos-table-d"},this.props.counter),React.DOM.td({className:"genos-table-d"},React.DOM.a({className:"d-ex-link",target:"_blank",href:title},genoTitle),React.DOM.div({className:"clearfix"}),genoGeno?React.DOM.a({className:"d-short-ex-link",target:"_blank",href:shortTitle},genoGeno):null),React.DOM.td({className:"genos-table-d"},genos.repute?React.DOM.span({className:"repute "+genos.repute.toLowerCase()},genos.repute):""),React.DOM.td({className:"genos-table-d"},genos.magnitude?genos.magnitude:""),React.DOM.td({className:"genos-table-d"},genos.freq?React.DOM.span({className:genos.freqcolor&&"#FFFFFF"!==genos.freqcolor?"d-freq-color":"",style:genos.freqcolor&&"#FFFFFF"!==genos.freqcolor?freqColor:{}},genos.freq):""),React.DOM.td({className:"genos-table-d"},genos.numrefs?genos.numrefs:""),React.DOM.td({className:"genos-table-d d-summary",colSpan:4},genos.genosummary?genos.genosummary:""),React.DOM.td({className:"genos-table-d"},genos.chrom?genos.chrom:""),React.DOM.td({className:"genos-table-d"},genos.pos?genos.pos:""),React.DOM.td({className:"genos-table-d"},genos.maxmag?genos.maxmag:""),React.DOM.td({className:"genos-table-d"},genos.gene?genos.gene:""),React.DOM.td({className:"genos-table-d"},genos.mom?genos.mom:""),React.DOM.td({className:"genos-table-d"},genos.dad?genos.dad:""))}})},{react:155}],6:[function(require,module){var React=require("react"),TableItemView=require("./TableItemView.jsx");module.exports=TableView=React.createClass({displayName:"TableView",getInitialState:function(){var that=this;return{rows:function(that){var rows=[],collection=that.props.collection,limit=that.props.limit;that.pageNumber=1,that.totalItems=that.props.collection.length,that.totalPages=Math.round(Math.max(collection.length,limit)/limit);for(var i=0,pL=Math.min(that.pageNumber*limit,collection.length);pL>i;i++)rows.push(TableItemView({item:collection[i],counter:i+1,key:"item-"+collection[i].lindex}));return rows}(that),limit:that.props.limit}},loadMore:function(event,limit){var that=this,rows=[],collection=that.props.collection,limit=+limit||that.props.limit;that.pageNumber++;for(var i=Math.min(that.state.rows.length,(that.pageNumber-1)*limit),pL=Math.min(that.pageNumber*limit,collection.length);pL>i;i++)rows.push(TableItemView({item:collection[i],counter:i+1,key:"item-"+collection[i].lindex}));that.setState({rows:that.state.rows.concat(rows),limit:limit})},loadAll:function(){{var that=this;that.props.collection}that.itemsLoaded=that.state.rows.length,that.showLoader(),that.doLoadAll=!0,window.setTimeout(function(){that.loadMore(null,500)},10)},showLoader:function(){var that=this;that.refs.loader.getDOMNode().style.display="block",angular.element(that.refs.table.getDOMNode()).addClass("inactive")},hideLoader:function(){var that=this;that.refs.loader.getDOMNode().style.display="none",angular.element(that.refs.table.getDOMNode()).removeClass("inactive")},componentDidUpdate:function(prevProps,prevState){var that=this;that.doLoadAll&&that.state.rows.length!==prevState.rows.length&&that.state.rows.length!==that.totalItems?window.setTimeout(function(){that.refs.itemsLoaded.getDOMNode().innerHTML=that.state.rows.length-that.itemsLoaded,that.loadMore(null,500)},10):(that.doLoadAll&&(that.refs.itemsLoaded.getDOMNode().innerHTML=that.state.rows.length-that.itemsLoaded),that.hideLoader())},componentWillMount:function(){document.querySelector(".view-loader").style.visibility="visible"},componentDidMount:function(){{var that=this;angular.element(that.getDOMNode())}window.setTimeout(function(){document.querySelector(".view-loader").style.visibility="hidden"},100)},render:function(){return React.DOM.div({className:"genos-table-container"},this.state.rows.length>0?React.DOM.span({className:"print-table hint--right","data-hint":"The below Table is Print-Friendly"},React.DOM.span({className:"icon-print"})):null,React.DOM.table({ref:"table",className:"genos-table","ng-cloak":!0,cellPadding:"0",cellSpacing:"0",border:"0"},React.DOM.colgroup(null,React.DOM.col(null),React.DOM.col({style:{width:"110px"}}),React.DOM.col({style:{width:"70px"}}),React.DOM.col(null),React.DOM.col(null),React.DOM.col(null),React.DOM.col(null),React.DOM.col(null),React.DOM.col({style:{width:"250px"}}),React.DOM.col(null),React.DOM.col(null),React.DOM.col({style:{width:"110px"}}),React.DOM.col({style:{width:"90px"}}),React.DOM.col({style:{width:"110px"}}),React.DOM.col(null),React.DOM.col(null)),React.DOM.thead({className:"genos-table-h"},React.DOM.tr(null,React.DOM.th({className:"genos-table-hr"},"#"),React.DOM.th({className:"genos-table-hr"},"Name"),React.DOM.th({className:"genos-table-hr"},"Repute"),React.DOM.th({className:"genos-table-hr"},"Mag"),React.DOM.th({className:"genos-table-hr"},"Freq"),React.DOM.th({className:"genos-table-hr"},"Ref"),React.DOM.th({colSpan:4,className:"genos-table-hr"},"Summary"),React.DOM.th({className:"genos-table-hr"},"Chrom"),React.DOM.th({className:"genos-table-hr"},"Position"),React.DOM.th({className:"genos-table-hr"},"MaxMag"),React.DOM.th({className:"genos-table-hr"},"Gene"),React.DOM.th({className:"genos-table-hr"},"Mom"),React.DOM.th({className:"genos-table-hr"},"Dad"))),React.DOM.tbody(null,this.state.rows)),this.props.collection.length>this.props.limit&&this.state.rows.length!==this.props.collection.length?React.DOM.div({className:"loader-btn-container"},React.DOM.button({className:"load-more-btn",onClick:this.loadMore},"Load More"),React.DOM.button({className:"btn show-all-btn",onClick:this.loadAll},"Show All (",this.props.collection.length-this.state.rows.length," Items)")):null,React.DOM.div({className:"table-loader-container",ref:"loader"},React.DOM.div({className:"loader table-loader"}),React.DOM.div(null,React.DOM.span(null,"Loading "),React.DOM.span({className:"l-items-loaded",ref:"itemsLoaded"},this.state.rows.length),React.DOM.span({className:"l-of"},"of ",React.DOM.span({className:"l-total-items"},this.props.collection.length-(this.itemsLoaded||this.state.rows.length)),React.DOM.span(null,"Items")))))}})},{"./TableItemView.jsx":5,react:155}],7:[function(require,module,exports){var GenosController;exports.GenosController=GenosController=function($scope,collectionService,safeApply,sortTypes,filterService,postBoring,debounce){this.scope=$scope,this.collectionService=collectionService,this.filterService=filterService,this.sortTypes=sortTypes,this.postBoring=postBoring,this.safeApply=safeApply,this.loading=!0,this.welcomeScreen=!0,this.currentDate=new Date,this.debounce=debounce,this.setUpScope(),this.initializeCollection(),this.setUpViewTypes(),this.hideLoading(),this.setUpSorting(),this.setUpFilterTypes(),this.setUpFilterSuggestions(),this.setUpModes(),this.setUpSearch(),this.setUpNoMatch(),this.setUpBoring(),this.setUpCount(),this.setUpReset()},GenosController.prototype.setUpScope=function(){var self=this;self.scope.dialog={}},GenosController.prototype.initializeCollection=function(){var self=this;self.collectionService.setUpCollection()},GenosController.prototype.setUpSorting=function(){var sortType,self=this;self.sortBy=function(type,index){self.sortIndex=index>=0?index:self.sortIndex,self.collectionService.setIsSort(!0),self.collectionService.sortCollection(sortType=type||sortType,self.isReverse)},self.reverseSort=function(){self.isReverse=!self.isReverse,self.sortBy()}},GenosController.prototype.setUpFilterTypes=function(){var self=this;self.filter={},self.filter.lowSelMagnitude=+self.filterService.getMinMagnitude()||0,self.filter.highSelMagnitude=+self.filterService.getMaxMagnitude()||0,self.filter.maxMagnitude=+self.filterService.getMaxMagnitude()||0,self.filter.minMagnitude=+self.filterService.getMinMagnitude()||0,self.filter.lowSelRef=+self.filterService.getMinRef()||0,self.filter.highSelRef=+self.filterService.getMaxRef()||0,self.filter.maxRef=+self.filterService.getMaxRef()||0,self.filter.minRef=+self.filterService.getMinRef()||0,self.toggleSearchMenu=function(){self.safeApply(self.scope,function(){self.toggleSearch=!self.toggleSearch,self.toggleControl=!1,self.scope.dialog.index=void 0
})},self.toggleControlMenu=function(){self.safeApply(self.scope,function(){self.toggleControl=!self.toggleControl,self.toggleSearch=!1,self.scope.dialog.index=void 0})},self.scope.$on("closeMobileMenu",function(){(self.toggleControl||self.toggleSearch)&&self.safeApply(self.scope,function(){self.toggleControl=!1,self.toggleSearch=!1})}),self.filterTypes=[{title:"ClinVar Diseases",stitle:"Clinvar",type:"clinvar",helpText:'<div style="margin-bottom: 5px"><b>Filter by ClinVar Diseases.</b></div> Based on the ClinVar database.',getIsActive:function(){return self.filter.clinvarActive===!0}},{title:"Tags",type:"tag",stitle:"Tags",helpText:'<div style="margin-bottom: 5px"><b>Filter by Tags.</b></div> All the relevant words found on the report.',getIsActive:function(){return self.filter.tagActive===!0}},{title:"Magnitude",type:"magnitude",stitle:"Mag",helpText:'<div style="margin-bottom: 5px"><b>Filter by Magnitude.</b></div> 0 = Boring. 1 = Unset. 2+ = Interesting',getIsActive:function(){return self.filter.lowSelMagnitude>self.filter.minMagnitude||self.filter.highSelMagnitude<self.filter.maxMagnitude}},{title:"Reference",type:"numrefs",stitle:"Ref",helpText:'<div style="margin-bottom: 5px"><b>Filter by Reference.</b></div>The number of published papers mentioning a SNP. Does not filter Genosets.',getIsActive:function(){return self.filter.lowSelRef>self.filter.minRef||self.filter.highSelRef<self.filter.maxRef}},{title:"SNP/Genosets",type:"snpgenoset",stitle:"SNP/Geno",helpText:'<div style="margin-bottom: 5px"><b>Filter by SNP/Genosets.</b></div><div>SNP = Starts with rs###. Location of changes in the DNA.</div> <div>Genoset = Starts with gs###. They are combinations of multiple SNPs.</div>',getIsActive:function(){return self.filter.showSNPs===!1||self.filter.showGenosets===!1}},{title:"Repute",type:"repute",stitle:"Rep",helpText:'<div style="margin-bottom: 5px"><b>Filter by Repute.</b></div>Shows Good, Bad or Not Set.',getIsActive:function(){return self.filter.showGood===!1||self.filter.showBad===!1||self.filter.showNotSet===!1}}],self.isActive=function(type){for(var i=0,ftL=self.filterTypes.length;ftL>i;i++){var filterType=self.filterTypes[i];if(filterType.type===type)return filterType.getIsActive()}},self.scope.$watch("[main.filter.isDragMagnitude, main.filter.lowSelMagnitude, main.filter.highSelMagnitude,                                   main.filter.isDragRef, main.filter.lowSelRef, main.filter.highSelRef,                                   main.filter.showSNPs, main.filter.showGenosets, main.filter.showGood, main.filter.showBad, main.filter.showNotSet,                                   main.filter.showPatho, main.filter.showPPatho, main.filter.showPNPatho, main.filter.showNPatho, main.filter.showUntested,                                   main.filter.showOther, main.filter.showDrugR, main.filter.showHistoC,                                   main.filter.tagItem, main.filter.clinvarItem]",function(newValues,oldValues){newValues!==oldValues&&self.collectionService.filterCollection(newValues)},!0)},GenosController.prototype.setUpFilterSuggestions=function(){var self=this;self.filter.loadClinvarSuggestions=function(){window.setTimeout(function(){self.filterService.getClinvarCollection().then(function(collection){self.filterService.loadClinvarSuggestions(self.filter.clinvarCollection=collection)})},10)},self.filter.loadTagSuggestions=function(){window.setTimeout(function(){self.filterService.getTagCollection().then(function(collection){self.filterService.loadTagSuggestions(self.filter.tagCollection=collection)})},10)},self.filter.selectTagSuggestion=function(value){self.filter.tagItem=value,self.filter.tagActive=!!value},self.filter.selectClinvarSuggestion=function(value){self.filter.clinvarItem=value,self.filter.clinvarActive=!!value},self.filter.showTagSuggestion=function(value){self.filter.tagCollection&&self.filterService.showTagSuggestion(self.filter.tagCollection,value)},self.filter.showClinvarSuggestion=function(value){self.filter.clinvarCollection&&self.filterService.showClinvarSuggestion(self.filter.clinvarCollection,value)},self.scope.$on("filterByTag",function(event,value){self.filterService.getTagByKey(value).then(function(tagItem){self.filter.tagTerm=value,self.filter.selectTagSuggestion(tagItem)})}),self.scope.$on("filterByClinvar",function(event,value){self.filterService.getClinvarByKey(value).then(function(clinvarItem){self.filter.clinvarTerm=value,self.filter.selectClinvarSuggestion(clinvarItem)})})},GenosController.prototype.setUpModes=function(){var self=this;self.modeTypes=[{title:"All",type:"all",desc:"Show Everything",getIsActive:function(){return!(self.filter.showPatho||self.filter.showPPatho||self.filter.showPNPatho||self.filter.showNPatho||self.filter.showUntested||self.filter.showOther||self.filter.showDrugR||self.filter.showHistoC)}},{title:"ClinVar",type:"clinvar",desc:"Show only ClinVar Related Genos",getIsActive:function(){return self.filter.showPatho||self.filter.showPPatho||self.filter.showPNPatho||self.filter.showNPatho||self.filter.showUntested||self.filter.showOther||self.filter.showDrugR||self.filter.showHistoC}}],self.showMode=function(type,index){0===index&&self.safeApply(self.scope,function(){self.filter.showPatho=self.filter.showPPatho=self.filter.showPNPatho=self.filter.showNPatho=self.filter.showUntested=self.filter.showOther=self.filter.showDrugR=self.filter.showHistoC=!1})},self.isModeActive=function(type){for(var i=0,mtL=self.modeTypes.length;mtL>i;i++){var modeType=self.modeTypes[i];if(modeType.type===type)return modeType.getIsActive()}}},GenosController.prototype.setUpSearch=function(){var self=this;self.createTextIndex=function(callback){self.search.start(function(){console.log("Text Indexed"),callback()},function(){console.log("Indexing error")},function(value){value&&self.safeApply(self.scope,function(){self.searchProgress=value})},self.resetIndex)},self.searchProgress=0,self.resetIndex=!1,self.searchTerm="",self.searchGenos=function(){var term=self.searchTerm;term&&term.length?self.debounce(function(){for(var searchCollection=[],i=0,collection=self.collectionService.getActiveCollection(),length=collection.length;length>i;i++){var match,genos=collection[i],regExp=new RegExp(term,"i");match=genos.title&&genos.title.toString().match(regExp),match=!!match||genos.tags&&genos.tags.toString().match(regExp),match=!!match||genos.clinvar_disease&&genos.clinvar_disease.toString().match(regExp),match=!!match||genos.gene&&genos.gene.match(regExp),match=!!match||genos.dbsnp&&genos.dbsnp.match(regExp),match=!!match||genos.gene&&genos.gene.match(regExp),match=!!match||genos.genobody&&genos.genobody.match(regExp),match=!!match||genos.rstext&&genos.rstext.match(regExp),match=!!match||genos.genosummary&&genos.genosummary.match(regExp),match&&searchCollection.push(genos)}self.safeApply(self.scope,function(){self.collectionService.setSearchCollection(searchCollection,!0)})},100)():self.collectionService.setFilteredCollection()}},GenosController.prototype.setUpNoMatch=function(){var self=this;self.scope.$watchCollection(function(){return self.collectionService.getActiveCollection()},function(values){self.noMatch=values&&!values.length})},GenosController.prototype.setUpReset=function(){var self=this;self.reset=function(){self.filterService.clear(function(){window.location.reload()})}},GenosController.prototype.setUpViewTypes=function(){var self=this;self.viewIndex=0,self.startTable=!1,self.viewTypes=[{title:"Block",type:"block",mount:function(){self.mountBlockView()}},{title:"Table",type:"table",mount:function(){self.startTable=!0,self.scope.$broadcast("disableBlockView"),self.mountTableView&&self.mountTableView()}}],self.showView=function(type,index){document.querySelector(".view-loader").style.visibility="visible";for(var i=0,vL=self.viewTypes.length;vL>i;i++)if(self.viewIndex=index,self.viewTypes[i].type===type){window.setTimeout(function(){this.viewTypes[i].mount()}.bind(self),100);break}},self.showGraph=function(){document.querySelector(".view-loader").style.visibility="visible",window.setTimeout(function(){self.safeApply(self.scope,function(){self.doShowGraph=!self.doShowGraph,self.startGraph=!0})}.bind(self),50)}},GenosController.prototype.hideLoading=function(){this.loading=!1},GenosController.prototype.hideWelcomeScreen=function(){this.welcomeScreen=!1},GenosController.prototype.setUpBoring=function(){var boringIndex,self=this;self.resetBoring=function(){self.boring="local",self.boringLoader=!1,self.boringError=!1},self.setBoring=function(){self.collectionService.setBoring(boringIndex),self.scope.$broadcast("boringUpdate",boringIndex),"remote"!==self.boring||self.boringInput&&self.boringInput.match(/YES/)?"remote"===self.boring&&self.boringInput.match(/YES/)?(self.boringLoader=!0,self.boringError=!1,self.postBoring(self.boringTitle).then(function(){self.boringLoader=!1,self.showBoringOverlay=!1},function(){self.boringLoader=!1,self.boringError="Request Failed. Please Try Again."})):self.showBoring=!1:self.boringError="Please enter the correct Value."},self.scope.$on("showBoring",function(event,index){boringIndex=index,self.boringTitle=self.collectionService.getDefaultCollection()[index].title,self.showBoring=!0})},GenosController.prototype.setUpCount=function(){this.count=this.collectionService.getActiveCollection().length},GenosController.$inject=["$scope","collectionService","safeApply","sortTypes","filterService","postBoring","debounce"]},{}],8:[function(require,module,exports){var GenosGraphController;exports.GenosGraphController=GenosGraphController=function($scope,collectionService,safeApply){this.scope=$scope,this.collectionService=collectionService,this.safeApply=safeApply,this.setupControls(),this.setUpGraphBehaviour(),this.onGraphUpdate()},GenosGraphController.prototype.setUpGraph=function(newValue){var self=this,graph={nodes:[],edges:[]},nodeIndex=0,edgeIndex=0,tagMap={},collection=newValue||self.collectionService.getActiveCollection(),limit=0===self.scope.main.viewIndex?document.querySelectorAll(".genos-item").length:document.querySelectorAll(".genos-table-r").length;for(i=0,cL=Math.min(limit,collection.length);cL>i;i++){var genos=collection[i],parentNodeIndex=nodeIndex++;if(graph.nodes.push({id:"n"+parentNodeIndex,index:genos.lindex,label:genos.title,x:Math.random()*limit,y:Math.random()*limit,size:genos.magnitude?.5*genos.magnitude:.2,color:genos.color,freqcolor:genos.freqcolor,freq:genos.freq,tag:!1}),genos.tags){var tags=genos.tags;for(j=0,tL=tags.length;tL>j;j++){var tag=tags[j];if(tagMap[tag]){var node=graph.nodes[tagMap[tag]],gc=node.good,bc=node.bad,nc=node.notSet;node.good="Good"===genos.repute?++gc:node.good,node.bad="Bad"===genos.repute?++bc:node.bad,node.notSet=genos.repute?node.notSet:++nc,node.total=node.good+node.bad+node.notSet}else{var gc="Good"===genos.repute?1:0,bc="Bad"===genos.repute?1:0,nc=genos.repute?0:1;tagMap[tag]=nodeIndex++,graph.nodes.push({id:"n"+tagMap[tag],label:tag,x:Math.random()*limit,y:Math.random()*limit,size:.3,color:"steelblue",good:gc,bad:bc,notSet:nc,total:gc+bc+nc,tag:!0})}graph.edges.push({id:"e"+edgeIndex++,source:"n"+parentNodeIndex,target:"n"+tagMap[tag],size:10,color:"Good"===genos.repute?"#0CC00C":"Bad"===genos.repute?"#F55151":"#CCC",type:"arrow"})}}}self.safeApply(self.scope,function(){self.genos=null,self.graph=graph})},GenosGraphController.prototype.setupControls=function(){var self=this;self.zoomIn=function(){self.scope.$broadcast("zoomIn")},self.zoomOut=function(){self.scope.$broadcast("zoomOut")},self.resetView=function(){self.scope.$broadcast("resetView")},self.prettifyGraph=function(){self.prettify=!self.prettify,self.scope.$broadcast("prettifyView",self.prettify)},self.information='<div class="graph-info-item"><span class="yellow-node node"></span> - Genoset</div>						  <div class="graph-info-item"><span class="red-node node"></span> - SNP</div>						  <div class="graph-info-item"><span class="blue-node node"></span> - Tag</div>						  <div class="graph-info-item"><span class="green-edge edge"></span> - Good Repute</div>						  <div class="graph-info-item"><span class="red-edge edge"></span> - Bad Repute</div>						  <div class="graph-info-item"><span class="gray-edge edge"></span> - No Repute</div>						  <div class="graph-info-item">Larger circles indicate higher magnitude.</div>'},GenosGraphController.prototype.setUpGraphBehaviour=function(){var self=this;self.showNode=function(item){self.scope.$broadcast("nodeActivity",item,"emulateOverNode")},self.resetNodes=function(){self.scope.$broadcast("nodeActivity",null,"resetNodes")},self.setNode=function(item,id){self.nodeItemId=id,self.scope.$broadcast("nodeActivity",item,"emulateClickNode")},self.toggleTab=function(type){"tag"===type?(self.nodeiteminfo='<div class="graph-info-item">The bars indicate repute of the tag for the current result. </div>								<div class="graph-info-item">Red: Bad Repute.</div>								<div class="graph-info-item">Green: Good Repute.</div>								<div class="graph-info-item">Gray: No Repute.</div>',self.showTag=!self.showTag,self.showTitle=!1):(self.nodeiteminfo='<div class="graph-info-item">The colors indicate frequency. The more red in color, the more rare this genotype.</div>',self.showTitle=!self.showTitle,self.showTag=!1)},self.hideNodeList=function(){self.showTag=!1,self.showTitle=!1}},GenosGraphController.prototype.onGraphUpdate=function(){var self=this;self.scope.$watchCollection(function(){return self.collectionService.getActiveCollection()},function(newValue){scope.main.doShowGraph&&(document.querySelector(".view-loader").style.visibility="visible",self.setUpGraph(newValue),newValue.length||(document.querySelector(".view-loader").style.visibility="hidden"))}),self.scope.$watch("main.doShowGraph",function(newValue,oldValue){newValue!==oldValue&&(newValue?self.setUpGraph():document.querySelector(".view-loader").style.visibility="hidden")})},GenosGraphController.$inject=["$scope","collectionService","safeApply"]},{}],9:[function(require,module){var genosDirectives;module.exports=genosDirectives=angular.module("GenosDirectives",[]),require("../../../vendor_libs/sigma.js"),require("../../../vendor_libs/Chart.js");var React=require("react"),BlockView=require("../components/BlockView.jsx"),TableView=require("../components/TableView.jsx");genosDirectives.directive("modalDialog",function(){return{restrict:"E",transclude:!0,replace:!0,template:'<div class="modal-dialog"><div class="modal-content" ng-transclude></div><div class="modal-arrow"></div></div>',link:function(scope,element,attrs){var leftOffset,elementWidth,cvalues,setDialogPos=function(values){if(cvalues=values,void 0!==!values[0])if(attrs.isDisplayed&&attrs.index&&attrs.index===values[0])attrs.isDisplayed=!1,angular.element(element).removeClass("fade");else if(attrs.index&&attrs.index===values[0]){elementWidth||(elementWidth=element[0].getBoundingClientRect().width);var rightOffset=values[2]+elementWidth;if(rightOffset>window.innerWidth){var diff=rightOffset-window.innerWidth;leftOffset=values[2]-diff,angular.element(element).children().eq(1).css("left",diff-+(attrs.leftoffset||0)+"px")}else leftOffset=values[2]+ +attrs.leftoffset;angular.element(element).addClass("modal-fade"),attrs.isDisplayed=!0,angular.element(element).css("top",values[1]+ +(attrs.topoffset||0)+"px"),angular.element(element).css("left",leftOffset+"px"),scope.$eval(attrs.show)}else angular.element(element).removeClass("modal-fade"),attrs.isDisplayed=!1},deregister=scope.$watchCollection("[dialog.index, dialog.top, dialog.left, dialog.incr]",function(values){setDialogPos(values)});scope.$on("destroy",function(){deregister()}),angular.element(element).unbind("click").bind("click",function(){})}}}),genosDirectives.directive("modalDialogItem",function(safeApply){return{link:function(scope,element,attrs){var incr=0;angular.element(element).unbind("click").bind("click",function(){scope.dialog.index===attrs.index?safeApply(scope,function(){scope.dialog.index=void 0}):safeApply(scope,function(){scope.incr=++incr,scope.dialog.index=attrs.index,scope.dialog.top=element[0].getBoundingClientRect().top+element[0].getBoundingClientRect().height,scope.dialog.left=element[0].getBoundingClientRect().left}),attrs.itemClick&&scope.$eval(attrs.itemClick)})}}}),genosDirectives.directive("docEvents",["$window",function($window){return{link:function(scope,element,attrs){console.log(scope),console.log(element),console.log(attrs);var closeDialog=($("header"),window.innerHeight,function(){scope.dialog&&(scope.dialog.index=void 0,scope.$digest())});angular.element(element).bind("keyup",function(e){27===e.keyCode&&(scope.$broadcast("closeMobileMenu"),closeDialog())}),angular.element($window).unbind("click").bind("click",function(e){$(e.target).closest(".mobile-menu").length||$(e.target).closest(".modal-dialog").length||$(e.target).closest(".genos-controls").length||"undefined"!=typeof $(e.target).attr("modal-dialog-item")||"undefined"!=typeof $(e.target).parent().attr("modal-dialog-item")||(scope.$broadcast("closeMobileMenu"),closeDialog())}),scope.$on("itemHeight",function(event,value){window.setTimeout(function(){var item=angular.element($(".genos-item").eq(value)[0]);item.css("min-height","");var height=item[0].offsetHeight;item.data("height",height),item.css("min-height",height+"px")},50)})}}}]),genosDirectives.directive("blockView",function(collectionService){return{scope:!0,controller:function($scope){var that=this;that.lastPage=!1,that.collection=[],that.collectionChange=!1,that.remountComponent=function(rows){React.unmountComponentAtNode(that.el),React.renderComponent(BlockView({collection:that.collection,limit:collectionService.getLimit(),rows:rows,showBoring:that.showBoring,showFirstPage:that.showFirstPage,showLastPage:that.showLastPage,setTag:that.filterByTag,setClinvar:that.filterByClinvar,showPage:that.showPage,lastPage:that.lastPage,onResize:that.onResize,pageInputValue:that.pageInputValue,loaderTop:document.querySelector(".loader-top-scroll"),loaderBottom:document.querySelector(".loader-bottom-scroll"),scrollInfo:document.querySelector(".scroll-up-info"),paginationContainer:document.querySelector(".pagination-container")}),that.el),document.querySelector(".view-loader").style.visibility="hidden"},that.setCollection=function(collection){that.collection=collection},that.setEl=function(el){that.el=el},that.filterByTag=function(tag){$scope.$emit("filterByTag",tag)},that.filterByClinvar=function(clinvar){$scope.$emit("filterByClinvar",clinvar)},that.showBoring=function(index){$scope.$emit("showBoring",index)},that.showPage=function(rerender,top,value){that.pageInputValue=value,rerender?(that.remountComponent(),window.scrollTo(0,0)):window.setTimeout(function(){window.scrollTo(0,top)},50)},that.showFirstPage=function(rerender){that.lastPage=!1,that.pageInputValue=null,rerender&&that.remountComponent(),window.scrollTo(0,0)},that.showLastPage=function(rerender){that.lastPage=!0,that.pageInputValue=null,rerender&&that.remountComponent(),window.scrollTo(0,document.body.scrollHeight)},that.onResize=function(totalRows){console.log("onResize"),that.remountComponent(totalRows)},that.setCollectionChange=function(value){that.collectionChange=value},that.hasCollectionChanged=function(){return that.collectionChange}},link:function(scope,element,attrs,controller){var el=element[0];controller.setEl(el),scope.$watchCollection(function(){return collectionService.getActiveCollection()},function(newValue){return 0!==scope.main.viewIndex?(controller.setCollectionChange(!0),void controller.setCollection(newValue)):(document.querySelector(".view-loader").style.visibility="visible",controller.pageInputValue=null,void(newValue&&newValue.length?(controller.setCollection(newValue),window.setTimeout(function(){controller.remountComponent(),window.scrollTo(0,0)},50)):(document.querySelector(".view-loader").style.visibility="hidden",React.unmountComponentAtNode(el))))}),scope.main.mountBlockView=function(force){scope.$broadcast("enableBlockView"),controller.hasCollectionChanged()||force?(controller.setCollectionChange(!1),window.setTimeout(function(){controller.remountComponent(),window.scrollTo(0,1)},50)):(document.querySelector(".view-loader").style.visibility="hidden",window.setTimeout(function(){window.scrollTo(0,1)},10))}}}}),genosDirectives.directive("tableView",function(collectionService){return{scope:!0,controller:function(){var that=this;that.collection=[],that.remountComponent=function(){React.unmountComponentAtNode(that.el),React.renderComponent(TableView({collection:that.collection,limit:10*collectionService.getLimit(),showFirstPage:that.showFirstPage,showLastPage:that.showLastPage,loaderBtn:document.querySelector(".load-more-btn"),loaderBottom:document.querySelector(".loader-bottom-scroll")}),that.el),document.querySelector(".view-loader").style.visibility="hidden"},that.setEl=function(el){that.el=el},that.setCollection=function(collection){that.collection=collection},that.showFirstPage=function(){window.scrollTo(0,0)},that.showLastPage=function(){window.scrollTo(0,document.body.scrollHeight)},that.setCollectionChange=function(value){that.collectionChange=value},that.hasCollectionChanged=function(){return that.collectionChange}},link:function(scope,element,attrs,controller){var el=element[0];controller.setEl(el),scope.$watchCollection(function(){return collectionService.getActiveCollection()},function(newValue){return 1!==scope.main.viewIndex||scope.main.doShowGraph?(controller.setCollectionChange(!0),void controller.setCollection(newValue)):(document.querySelector(".view-loader").style.visibility="visible",void(newValue&&newValue.length?(controller.setCollection(newValue),window.setTimeout(function(){controller.remountComponent()},50)):(document.querySelector(".view-loader").style.visibility="hidden",React.unmountComponentAtNode(el))))}),scope.main.mountTableView=function(){controller.hasCollectionChanged()?(controller.setCollectionChange(!1),window.setTimeout(function(){controller.remountComponent(),window.scrollTo(0,0)},50)):document.querySelector(".view-loader").style.visibility="hidden"},scope.main.disableTableView=function(){scope.$broadcast("disableTableView",!0)}}}}),genosDirectives.directive("loadMoreButton",function(){return{scope:!0,link:function(scope,element){var limit=scope.page.limit;angular.element(element).bind("click",function(){var incr=parseInt(scope.page.limit)+parseInt(limit),collection=scope.isSearchResult()?scope.searchCollection:scope.genosCollection;collection&&incr<=collection.length?(scope.page.limit=incr,scope.$digest()):angular.element(element).addClass("ng-hide")})}}}),genosDirectives.directive("typeahead",function(){return{restrict:"E",transclude:!0,scope:{show:"&",items:"=",select:"&",term:"="},template:'<input class="typeahead-input" ng-model="term" type="search" autocomplete="off" ng-change="query()"><div class="cmb-list-container" ng-transclude></div>',controller:function($scope){var foundItems,foundIndex=0,totalItems=0;this.select=function(item){$scope.term=item.key,$scope.select({item:item})},this.activate=function(item){$scope.active=item},this.activateNextItem=function(){if(this.getFoundItems()){var foundItems=this.getFoundItems(),index=foundItems.indexOf($scope.active);this.activate(foundItems[(index+1)%foundItems.length])}else if($scope.items){var index=$scope.items.indexOf($scope.active);this.activate($scope.items[(index+1)%$scope.items.length])}},this.activatePreviousItem=function(){if(this.getFoundItems()){var foundItems=this.getFoundItems(),index=foundItems.indexOf($scope.active);this.activate(foundItems[0===index?index:index-1])}else if($scope.items){var index=$scope.items.indexOf($scope.active);this.activate($scope.items[0===index?index:index-1])}},this.selectActive=function(){$scope.active&&this.select($scope.active)},this.reset=function(){$scope.select()},this.isActive=function(item){return $scope.active===item},this.setItemTop=function(top,index){$scope.itemTop=[top,index]},this.setFoundItems=function(items){items||(foundIndex=0),foundItems=items},this.getFoundItems=function(){return foundItems},this.setTotal=function(value){totalItems=value},this.getTotal=function(){return totalItems}},link:function(scope,element,attrs,controller){var input=element.find("input"),list=element.find("div").eq(1),listHeight=list[0]?list[0].getBoundingClientRect().height:0,init=!0;scope.$parent.$watch("dialog.index",function(newvalue,oldvalue){newvalue!==oldvalue&&(attrs.index===newvalue?(input[0].focus(),attrs.displayed=!0,scope.term&&scope.term.length&&scope.items&&scope.items.length&&scope.query()):attrs.displayed=!1)}),input.attr("placeholder",attrs.placeholder),angular.element(document).bind("keydown",function(e){"INPUT"===e.target.nodeName&&(e.stopPropagation(),attrs.displayed!==!1&&(9===e.keyCode||13===e.keyCode||27===e.keyCode?e.preventDefault():40===e.keyCode?(e.preventDefault(),scope.$apply(function(){controller.activateNextItem()})):38===e.keyCode&&(e.preventDefault(),scope.$apply(function(){controller.activatePreviousItem()}))))}),scope.$watchCollection("itemTop",function(values){if(values){var visibleTop=$(list).scrollTop(),visibleBottom=listHeight+visibleTop,top=values[0],outerHeight=38,highTop=top+visibleTop,highBottom=highTop+outerHeight;highBottom>=visibleBottom?($(list).scrollTop(highBottom-listHeight>0?highBottom-listHeight:0),$(list).perfectScrollbar("update")):visibleTop>highTop&&($(list).scrollTop(highTop),$(list).perfectScrollbar("update"))}}),angular.element(document).bind("keyup",function(e){e.stopPropagation(),attrs.displayed!==!1&&(9===e.keyCode||13===e.keyCode)&&scope.$apply(function(){controller.selectActive()})}),scope.$watch("items",function(items){if(items&&items.length>0){var items=items.filter(function(item){return item?item.active===!0:!0});init&&items.length>0?(init=!1,controller.setTotal(items.length),scope.term&&scope.term.length&&scope.query()):controller.setFoundItems(controller.getTotal()!==items.length?items:null),controller.activate(items.length?items[0]:null)}},!0),scope.query=function(){scope.show({term:scope.term}),0===scope.term.length&&controller.reset(),controller.getFoundItems()?controller.activate(controller.getFoundItems()[0]):scope.ltems&&scope.items.length>0&&controller.activate(scope.items[0]),$(list).scrollTop(0),$(list).perfectScrollbar("update")}}}}),genosDirectives.directive("typeaheadItem",function(){return{require:"^typeahead",link:function(scope,element,attr,controller){var item=scope.$eval(attr.typeaheadItem);scope.$watch(function(){return controller.isActive(item)},function(active){active?(element.removeClass("active"),element.addClass("active"),controller.setItemTop($(element).position().top,item.i)):element.removeClass("active")}),element.bind("click",function(){scope.$apply(function(){controller.select(item)})}),element.bind("mouseenter",function(){scope.$apply(function(){controller.activate(item)})})}}}),genosDirectives.directive("graphLayout",function(safeApply){return{restrict:"EA",replace:!0,scope:!0,link:function(scope,element){var self=this;self.scope=scope,sigma.classes.graph.addMethod("neighbors",function(nodeId){var k,neighbors={},index=this.allNeighborsIndex[nodeId]||{};for(k in index)neighbors[k]=this.nodesIndex[k];return neighbors}),self.showActive=function(nodeId,node,eventType){var toKeep=self.s.graph.neighbors(nodeId);toKeep[nodeId]=node,self.s.graph.nodes().forEach(function(n){toKeep[n.id]?(n.color=n.originalColor,"clickNode"===eventType?n.keep=!0:"emulateOverNode"===eventType?n.emulateHover=!0:"overNode"===eventType&&(n.hover=!0)):n.color="transparent"}),self.s.graph.edges().forEach(function(e){e.color=toKeep[e.source]&&toKeep[e.target]?e.originalColor:"transparent"}),self.s.refresh()},self.reset=function(){self.s.graph.nodes().forEach(function(n){n.color=n.originalColor,n.keep=!1,n.hover=!1,n.emulateHover=!1}),self.s.graph.edges().forEach(function(e){e.color=e.originalColor}),self.s.refresh()},self.clickNode=!1,self.clickedNodeId,self.startGraph=function(graph){for(var i=0,gL=graph.nodes.length;gL>i;i++)graph.nodes[i].keep=!1,graph.nodes[i].hover=!1,graph.nodes[i].emulateHover=!1;self.s&&(self.s.kill(),$(element.find("canvas")).remove()),self.s=new sigma({graph:graph,settings:{defaultHoverLabelBGColor:"transparent",labelColor:"node",sideMargin:3,labelThreshold:7},renderer:{container:element[0],type:"canvas"}}),self.s.graph.nodes().forEach(function(n){n.originalColor=n.color}),self.s.graph.edges().forEach(function(e){e.originalColor=e.color}),self.s.bind("overNode clickNode",function(event){var timeout=function(){var eventType=event.type;if("clickNode"===eventType)self.clickNode=!0,safeApply(self.scope,function(){self.scope.graphView.nodeItemId=event.data.node.id});else if(self.clickNode&&"overNode"===eventType)return;self.showActive(event.data.node.id,event.data.node,eventType)};setTimeout(timeout,10)}),self.s.bind("outNode clickStage",function(event){var timeout=function(){var eventType=event.type;self.clickNode&&"outNode"===eventType||(self.clickNode&&"clickStage"===eventType&&(self.clickNode=!1,safeApply(self.scope,function(){self.scope.graphView.nodeItemId=null})),self.reset())};setTimeout(timeout,10)}),document.querySelector(".view-loader").style.visibility="hidden"},self.scope.$watch("graphView.graph",function(graph){graph&&startGraph(graph)}),self.scope.$on("nodeActivity",function(event,node,type){"emulateOverNode"!==type||self.clickNode?"resetNodes"!==type||self.clickNode?"emulateClickNode"===type&&(self.clickedNodeId&&self.clickedNodeId===node.id?(self.clickedNodeId=null,self.clickNode=!1,self.reset(),safeApply(self.scope,function(){self.scope.graphView.nodeItemId=null})):(self.clickNode=!0,self.clickedNodeId=node.id,self.showActive(node.id,node,"clickNode"))):self.reset():self.showActive(node.id,node,type)}),self.scope.$on("zoomIn",function(){var c=sigma.instances(0).cameras[0];sigma.misc.animation.camera(c,{ratio:c.ratio/c.settings("zoomingRatio")},{duration:200})}),self.scope.$on("zoomOut",function(){var c=sigma.instances(0).cameras[0];sigma.misc.animation.camera(c,{ratio:c.ratio*c.settings("zoomingRatio")},{duration:200})}),self.scope.$on("resetView",function(){var c=sigma.instances(0).cameras[0];sigma.misc.animation.camera(c,{ratio:1},{duration:200})}),self.scope.$on("prettifyView",function(event,value){"undefined"!=typeof value&&(value?self.s.startForceAtlas2():self.s.stopForceAtlas2())})}}}),genosDirectives.directive("chart",function(collectionService){return{restrict:"EA",scope:!0,link:function(scope,element){var el=element[0],goodCount=0,badCount=0,magObj={},magArr=[],magKeys=[],totalCount=0,countData=function(mcollection){var collection=mcollection||collectionService.getDefaultCollection();totalCount=collection.length,goodCount=0,badCount=0,magObj={},magArr=[],magKeys=[];for(var i=0;totalCount>i;i++){var genos=collection[i],mag=genos.magnitude,repute=genos.repute;mag&&magObj[mag]?magObj[mag]=++magObj[mag]:mag&&(magObj[mag]=1),repute&&("Good"===repute?++goodCount:"Bad"===repute&&++badCount)}},setDough=function(collection){countData(collection);{var doughnutData=[{value:totalCount-(badCount+goodCount),label:"Not Set",color:"#CECECE"},{value:goodCount,label:"Good",color:"#0CC00C"},{value:badCount,label:"Bad",color:"#F55151"}];new Chart(el.getContext("2d")).Doughnut(doughnutData,{animateRotate:!1,segmentShowStroke:!1})}};scope.$watchCollection(function(){return collectionService.getActiveCollection()},function(newValues){return"none"==el.style.display||collectionService.getIsSort()?void collectionService.setIsSort(!1):void(newValues&&newValues.length?(setDough(newValues),el.style.visibility="visible"):el.style.visibility="hidden")})}}}),genosDirectives.directive("helpMode",function(){return{restrict:"EA",link:function(scope,element){element.bind("click",function(){var helpPopover=document.querySelector(".help-popover"),helpTextEl=angular.element(document.querySelectorAll("[help-text]"));element.toggleClass("active"),helpTextEl.toggleClass("help-mode"),helpTextEl.hasClass("help-mode")?(helpTextEl.bind("mouseenter",function(){helpPopover.children[1].children[0].innerHTML=this.getAttribute("help-text"),helpPopover.style.left=this.getBoundingClientRect().left+"px",this.hasAttribute("help-top")?(helpPopover.style.top=this.getBoundingClientRect().top-this.getBoundingClientRect().height+"px",angular.element(helpPopover).removeClass("bottom").addClass("top")):(helpPopover.style.top=this.getBoundingClientRect().top+this.getBoundingClientRect().height+"px",angular.element(helpPopover).removeClass("top").addClass("bottom")),helpPopover.style.display="block"
}),helpTextEl.bind("mouseleave",function(){helpPopover.style.display="none"})):(helpTextEl.unbind("mouseenter"),helpTextEl.unbind("mouseleave"))})}}}),genosDirectives.directive("overlayDialog",function(){return{restrict:"E",transclude:!0,replace:!0,scope:{dialogTitle:"@",show:"=",ok:"&",cancel:"&"},template:'<div class="overlay">					<button class="overlay-close" data-action="overlay-close" ng-click="show = false">×</button>					<div class="overlay-dialog">						<h3 class="overlay-title">{{dialogTitle}}</h3>						<div class="overlay-content clearfix" ng-transclude></div>						<div class="overlay-actions">							<button class="btn overlay-btn ok-btn" ng-click="ok()">Ok</button>							<button class="btn overlay-btn cancel-btn" ng-click="onCancel()">Cancel</button>						</div>					</div>				</div>',controller:function($scope){$scope.onCancel=function(){$scope.show=!1,$scope.cancel()}}}})},{"../../../vendor_libs/Chart.js":156,"../../../vendor_libs/sigma.js":166,"../components/BlockView.jsx":3,"../components/TableView.jsx":6,react:155}],10:[function(require,module){module.exports=function(){angular.extend(angular,{map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=void 0!==length&&"number"==typeof length&&(length>0&&elems[0]&&elems[length-1]||0===length||angular.isArray(elems));if(isArray)for(;length>i;i++)value=callback(elems[i],i,arg),null!=value&&(ret[ret.length]=value);else for(key in elems)value=callback(elems[key],key,arg),null!=value&&(ret[ret.length]=value);return ret.concat.apply([],ret)},filter:function(elems,callback,inv){var retVal,ret=[];inv=!!inv;for(var i=0,length=elems.length;length>i;i++)retVal=!!callback(elems[i],i),inv!==retVal&&ret.push(elems[i]);return ret}})}()},{}],11:[function(require,module){var crossFilterSort=require("../../../vendor_libs/crossfilter-sort"),GenosCollection=function(db,sorter,filterService){this.db=db,this.sorter=sorter,this.filterService=filterService,this.defaultCollection=[],this.defaultSearchCollection=[],this.collection=[],this.searchCollection=[],this.tagCollection=[],this.clinvarCollection=[],this.isFilterSetup=!1,this.isSearchResult=!1,this.newRun=!1,this.limit=10,this.isSort=!1,this.badReputeCount=0,this.goodReputeCount=0};GenosCollection.prototype.getLimit=function(){return this.limit},GenosCollection.prototype.setUpCollection=function(){var self=this,collection=window.mygenos,rsObj=window.rsinfo,boringIndexes=self.db.getLocalItem("boringIndexes"),isASNP=function(genos){return"undefined"!=typeof genos.rsnum&&genos.rsnum?1:"undefined"!=typeof genos.title&&genos.title?0:"undefined"!=typeof genos["23andMe SNP"]&&genos["23andMe SNP"]?1:0};window.mygenos=null,window.rsinfo=null;for(var i=0,gcL=collection.length;gcL>i;i++){collection[i].lindex=i,boringIndexes&&boringIndexes.indexOf(i)>=0&&(collection[i].repute="Good",collection[i].magnitude=0);var genos=collection[i];if(isASNP(genos)&&rsObj[genos.rsnum]){var rsinfo=rsObj[genos.rsnum],magArr=[];for(var j in rsinfo)rsinfo.hasOwnProperty(j)&&magArr.push(rsinfo[j].mag);magArr.length&&(collection[i].maxmag=Math.max.apply(Math,magArr))}}this.setCollection(collection),this.setDefaultCollection(collection.slice(0)),this.setUpCollectionIndex()},GenosCollection.prototype.setUpCollectionIndex=function(){var self=this,collection=self.getCollection(),defaultCollection=self.getDefaultCollection(),median=Math.round(defaultCollection.length/2),last=defaultCollection.length-1,uniqueIdx=(defaultCollection[0].title?defaultCollection[0].title:defaultCollection[0].rsnum)+"|"+defaultCollection.length+"|"+(defaultCollection[median].title?defaultCollection[median].title:defaultCollection[median].rsnum)+"|"+(defaultCollection[last].title?defaultCollection[last].title:defaultCollection[last].rsnum)+"|"+window.location.href;if(!self.db.isStored("indexed","maxMagnitude","minMagnitude","minMagnitude","minRef","maxRef")||self.db.getLocalItem("indexed")!==uniqueIdx){for(var tcounter=0,ccounter=0,tagMap={},tagCollection=[],clinvarCollection=[],clinvarMap={},maxMagnitude=Number.NEGATIVE_INFINITY,minMagnitude=Number.POSITIVE_INFINITY,maxRef=Number.NEGATIVE_INFINITY,minRef=Number.POSITIVE_INFINITY,i=0,count=collection.length;count>i;i++){var genos=collection[i];for(tags=genos.tags,tagCount=tags?tags.length:0,j=0;tagCount>j;){var tag=tags[j];if(tagMap[tag]){var tagObj=tagMap[tag],vArr=[];tagObj.c=parseInt(tagObj.c)+1;for(var k=0,len=tagObj.v.length;len>k;k++)vArr.push(tagObj.v[k]);vArr.push(i),tagObj.v=vArr}else{var tmptagObj={i:tcounter++,key:tag,c:1,v:[i]};tagMap[tag]=tmptagObj,tagCollection.push(tmptagObj)}j++}if(tags&&tcounter++,genos.clinvar_disease){for(var clinvarkeyArr=genos.clinvar_disease.split(/;\s*/);clinvarkeyArr.length>0;){var clinvarItem=clinvarkeyArr.shift();if(clinvarMap[clinvarItem]){var clinvarObj=clinvarMap[clinvarItem],vArr=[];clinvarObj.c=parseInt(clinvarObj.c)+1;for(var k=0,len=clinvarObj.v.length;len>k;k++)vArr.push(clinvarObj.v[k]);vArr.push(i),clinvarObj.v=vArr}else{var tmpClinvarObj={i:ccounter++,key:clinvarItem,c:1,v:[i]};clinvarMap[clinvarItem]=tmpClinvarObj,clinvarCollection.push(tmpClinvarObj)}}ccounter++}var magnitude=1;if(genos.magnitude&&(magnitude=parseFloat(genos.magnitude)),maxMagnitude=Math.max(maxMagnitude,magnitude),minMagnitude=Math.min(minMagnitude,magnitude),genos.numrefs){var numRefs=parseInt(genos.numrefs);maxRef=Math.max(maxRef,numRefs),minRef=Math.min(minRef,numRefs)}}self.filterService.setClinvarCollection(crossFilterSort.sort(clinvarCollection).dimension(function(d){return d.key}).bottom(1/0)),self.filterService.setTagCollection(crossFilterSort.sort(tagCollection).dimension(function(d){return d.key}).bottom(1/0),uniqueIdx),self.filterService.setMaxMagnitude(maxMagnitude),self.filterService.setMinMagnitude(minMagnitude),self.filterService.setMaxRef(maxRef),self.filterService.setMinRef(minRef)}},GenosCollection.prototype.sortCollection=function(type,reverse){this.getIsSearchResult()?this.setSearchCollection(this.sorter.sort(this.getSearchCollection(),type,reverse)):this.setCollection(this.sorter.sort(this.getCollection(),type,reverse))},GenosCollection.prototype.filterCollection=function(filters){this.getIsSearchResult()?this.setSearchCollection(this.sorter.sort(this.filterService.filter(this.getDefaultSearchCollection(),filters))):this.setCollection(this.sorter.sort(this.filterService.filter(this.getDefaultCollection(),filters)))},GenosCollection.prototype.getDefaultCollection=function(){return this.defaultCollection},GenosCollection.prototype.setDefaultCollection=function(mcollection){return this.defaultCollection=mcollection},GenosCollection.prototype.getDefaultSearchCollection=function(){return this.defaultSearchCollection},GenosCollection.prototype.setDefaultSearchCollection=function(mcollection){return this.defaultSearchCollection=mcollection},GenosCollection.prototype.getCollection=function(){return this.collection},GenosCollection.prototype.setCollection=function(mcollection){this.collection=mcollection},GenosCollection.prototype.setFilteredCollection=function(){this.setCollection(this.sorter.sort(this.filterService.filter(this.getDefaultCollection(),null))),this.setIsSearchResult(!1)},GenosCollection.prototype.setIsSearchResult=function(misSearchResult){this.isSearchResult=misSearchResult},GenosCollection.prototype.getIsSearchResult=function(){return this.isSearchResult},GenosCollection.prototype.setSearchCollection=function(msearchCollection,setDefault){setDefault&&this.setDefaultSearchCollection(msearchCollection.slice(0)),this.searchCollection=this.sorter.sort(this.filterService.filter(msearchCollection)),this.setIsSearchResult(!0)},GenosCollection.prototype.getSearchCollection=function(){return this.searchCollection},GenosCollection.prototype.getActiveCollection=function(){return this.getIsSearchResult()?this.getSearchCollection():this.getCollection()},GenosCollection.prototype.setIsSort=function(isSort){this.isSort=isSort},GenosCollection.prototype.getIsSort=function(){return this.isSort},GenosCollection.prototype.setBoring=function(index){var self=this;if(self.db.isStored("boringIndexes")){var arr=JSON.parse(self.db.getLocalItem("boringIndexes"));arr.indexOf(index)<0&&(arr.push(index),self.db.setLocalItem("boringIndexes",JSON.stringify(arr)))}else self.db.setLocalItem("boringIndexes",JSON.stringify([index]))},module.exports=angular.module("GenosCollection",[]).factory("collectionService",["db","sorter","filterService",function(db,sorter,filterService){return new GenosCollection(db,sorter,filterService)}])},{"../../../vendor_libs/crossfilter-sort":162}],12:[function(require,module){var $q,$timeout,indexedDB=indexedDB||window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB,DBNAME="localDB",driver={INDEXEDDB:indexedDBWrapper,WEBSQL:webSqlWrapper,storeNames:[],getDriver:function(){return indexedDB?new indexedDBWrapper:window.openDatabase?new webSqlWrapper:null},setStores:function(){},bulkInject:function(){},getAllKeys:function(){},getByKey:function(){},getAll:function(){},deleteDB:function(){},clear:function(){}},webSqlWrapper=function(){this.db=window.openDatabase(DBNAME,1,"Promethease db",5242880),this.setStores=function(storeArray){var self=this,i=0,createStores=function(){self.db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS "+storeArray[i]+" (id VARCHAR(52) NOT NULL PRIMARY KEY, value)",[],function(){i!==storeArray.length-1&&createStores(++i)},function(err){console.log(err+"Create Table error")})},null)};createStores(),self.storeNames=storeArray},this.getStores=function(){return this.storeNames},this.bulkInject=function(dataArray,storeName){var deferred=$q.defer();return this.db.transaction(function(tx){for(var i=0,dL=dataArray.length;dL>i;i++){var data=dataArray[i];tx.executeSql("INSERT INTO "+storeName+" (id,value) VALUES (?,?)",[data.key,JSON.stringify(data)],function(){i===dataArray.length-1&&deferred.resolve()},null)}}),deferred.resolve(!1),deferred.promise},this.getAll=function(storeName){var deferred=$q.defer();return this.db.transaction(function(tx){tx.executeSql("SELECT value FROM "+storeName,[],function(tx,result){for(var collection=[],i=0,rows=result.rows,rL=rows.length;rL>i;i++)collection.push(JSON.parse(rows.item(i).value));deferred.resolve(collection)},function(err){console.log("Error SELECT Table"+err)})}),deferred.promise},this.clear=function(){var self=this,deferred=$q.defer(),storeArray=this.getStores(),i=0,clearStores=function(){var store=storeArray[i];self.db.transaction(function(tx){tx.executeSql("DELETE FROM "+store,[],function(){i===storeArray.length-1?deferred.resolve():clearStores(++i)},null)},function(err){console.log(err+"Error Clearing db")})};return clearStores(),deferred.promise}},indexedDBWrapper=function(){this.setStores=function(storeArray){this.storeNames=storeArray},this.getStores=function(){return this.storeNames},this.withStore=function(storeName,type,f){var self=this;if(self.db)f(self.db.transaction(storeName,type).objectStore(storeName));else{var req=indexedDB.open(DBNAME,1);req.onerror=function(){console.error("indexedDB: can't open database:",req.error.name)},req.onupgradeneeded=function(ev){for(var db=ev.target.result,stores=self.getStores(),i=0,sc=stores.length;sc>i;i++)db.objectStoreNames.contains(stores[i])||db.createObjectStore(stores[i],{keyPath:"key"})},req.onsuccess=function(ev){self.db=ev.result||ev.target.result,f(self.db.transaction(storeName,type).objectStore(storeName))}}},this.bulkInject=function(dataArray,storeName,progress){var deferred=$q.defer();return this.withStore(storeName,"readwrite",function(store){var i=0,progressOffset=0,putData=function(){$timeout(function(){dataArray&&progress&&progress(progressOffset/dataArray.length)},1,!1),i<dataArray.length?(progressOffset+=100,store.put(dataArray[i]).onsuccess=putData,i++):deferred.resolve(!0)};putData()}),deferred.promise},this.getAll=function(storeName){var deferred=$q.defer(),dataArray=[];return this.withStore(storeName,"readonly",function(store){var oreq=store.openCursor();oreq.onsuccess=function(event){var cursor=event.target.result;cursor?(dataArray.push(cursor.value),cursor.continue()):deferred.resolve(dataArray)},oreq.onerror=function(){deferred.reject()}}),deferred.promise},this.clear=function(){var self=this,deferred=$q.defer(),stores=self.getStores(),i=0,clearStores=function(i){i<stores.length?self.withStore(stores[i],"readwrite",function(store){var req=store.clear();req.onsuccess=clearStores(++i),req.onerror=function(){deferred.reject()}}):deferred.resolve()};return clearStores(i),deferred.promise},this.deleteDB=function(){var deferred=$q.defer();this.db&&db.close&&db.close();var req=indexedDB.deleteDatabase(DBNAME);return req.onsuccess=function(){deferred.resolve()},req.onerror=function(){deferred.reject()},deferred.promise},this.getByKey=function(key,storeName){var deferred=$q.defer();return this.withStore(storeName,"readonly",function(store){var req=store.get(key);req.onsuccess=function(){deferred.resolve(req.result)},req.onerror=function(){deferred.reject()}}),deferred.promise}};indexedDBWrapper.prototype=driver,webSqlWrapper.prototype=driver;var GenosDB=function(m$q,m$timeout){$q=m$q,$timeout=m$timeout};GenosDB.prototype.init=function(dbName){return DBNAME=dbName,this.driver=driver.getDriver(),this},GenosDB.prototype.setIndexes=function(indexArray){return this.driver&&this.driver.setStores(indexArray),this},GenosDB.prototype.bulkInject=function(dataArray,indexName,callback,errorCallback,progressCallback){this.driver&&this.driver.bulkInject(dataArray,indexName,progressCallback).then(callback,errorCallback)},GenosDB.prototype.setItem=function(item,callback,errorCallback){this.driver&&this.driver.setItem(item).then(callback,errorCallback)},GenosDB.prototype.getAll=function(indexName,callback,errorCallback){this.driver?this.driver.getAll(indexName).then(callback,errorCallback):callback()},GenosDB.prototype.getAllKeys=function(indexName,callback,errorCallback){this.driver?this.driver.getAllKeys(indexName).then(callback,errorCallback):callback()},GenosDB.prototype.getByKey=function(key,indexName,callback,errorCallback){this.driver?this.driver.getByKey(key,indexName).then(callback,errorCallback):callback()},GenosDB.prototype.setLocalItem=function(key,value){localStorage.setItem(key,value)},GenosDB.prototype.getLocalItem=function(key){return localStorage.getItem(key)},GenosDB.prototype.isStored=function(){for(var args=Array.prototype.slice.call(arguments),i=0,al=args.length;al>i;i++)if(!this.getLocalItem(args[i]))return!1;return!0},GenosDB.prototype.clear=function(callback,errorCallback){var self=this;localStorage.clear();try{self.driver?self.driver.clear().then(callback,errorCallback):callback()}catch(ex){self.driver&&self.driver.deleteDB&&self.driver.deleteDB().then(callback,errorCallback)}},module.exports=angular.module("GenosDB",[]).factory("db",["$q","$timeout",function($q,$timeout){return new GenosDB($q,$timeout)}])},{}],13:[function(require,module){var Bloodhound=require("../../../vendor_libs/bloodhound/bloodhound.js"),GenosFilters=function(db,$q,isMobile){this.db=db.init("Prometheasedb").setIndexes(["tags","clinvar"]),this.$q=$q,this.isMobile=isMobile,this.lowMagnitude=-1/0,this.highMagnitude=1/0,this.lowRef=-1/0,this.highRef=1/0,this.isDragMagnitude=!1,this.isDragRef=!1,this.showSNPs=!0,this.showGenosets=!0,this.showGood=!0,this.showBad=!0,this.showNotSet=!0,this.showPatho=!1,this.showPPatho=!1,this.showPNPatho=!1,this.showNPatho=!1,this.showUntested=!1,this.showOther=!1,this.showDrugR=!1,this.showHistoC=!1,this.clinvarMode=!1,this.tagItem={},this.clinvarItem={},this.filterValues=[],this.tagCache=[],this.clinvarCache=[],this.tagCollection=[],this.clinvarCollection=[],this.tagEngine=void 0,this.clinvarEngine=void 0,this.values=void 0,this.badReputeCount=0,this.goodReputeCount=0};GenosFilters.prototype.filter=function(collection,values){var self=this,resultCollection=[];if(!self.values&&!values)return collection;collection=self.setFilterValues(collection,self.values=values||self.values);for(var i=0,count=collection.length;count>i;i++){var clinvar_1,repute,genos=collection[i],magnitude=genos.magnitude?parseFloat(genos.magnitude):void 0,numRef=genos.numrefs?parseInt(genos.numrefs):void 0,doAdd=!0;self.clinvarMode&&(doAdd=(clinvar_1=genos.clinvar_1)&&(clinvar_1&&1===+clinvar_1&&self.showUntested||clinvar_1&&2===+clinvar_1&&self.showNPatho||clinvar_1&&3===+clinvar_1&&self.showPNPatho||clinvar_1&&4===+clinvar_1&&self.showPPatho||clinvar_1&&5===+clinvar_1&&self.showPatho||clinvar_1&&6===+clinvar_1&&self.showDrugR||clinvar_1&&7===+clinvar_1&&self.showHistoC||clinvar_1&&255===+clinvar_1&&self.showOther)?!0:!1),doAdd=doAdd&&(!magnitude||magnitude&&magnitude>=self.lowMagnitude&&magnitude<=self.highMagnitude)?!0:!1,doAdd=doAdd&&(!numRef||numRef&&numRef>=self.lowRef&&numRef<=self.highRef)?!0:!1,doAdd=doAdd&&((genos.rsnum||genos["23andMe SNP"])&&self.showSNPs||genos.title&&!genos.rsnum&&!genos["23andMe SNP"]&&self.showGenosets)?!0:!1,doAdd=doAdd&&((repute=genos.repute)&&"good"===repute.toLowerCase()&&self.showGood||repute&&"bad"===repute.toLowerCase()&&self.showBad||!repute&&self.showNotSet)?!0:!1,doAdd&&resultCollection.push(genos)}return resultCollection},GenosFilters.prototype.setFilterValues=function(collection,values){var self=this;if(self.isDragMagnitude=values[0],self.isDragRef=values[3],self.isDragMagnitude||self.isDragRef)return collection;self.lowMagnitude=parseFloat(values[1]),self.highMagnitude=parseFloat(values[2]),self.lowRef=parseInt(values[4]),self.highRef=parseInt(values[5]),self.showSNPs=values[6],self.showGenosets=values[7],self.showGood=values[8],self.showBad=values[9],self.showNotSet=values[10],self.showPatho=values[11],self.showPPatho=values[12],self.showPNPatho=values[13],self.showNPatho=values[14],self.showUntested=values[15],self.showOther=values[16],self.showDrugR=values[17],self.showHistoC=values[18],self.clinvarMode=self.showPatho||self.showPPatho||self.showNPatho||self.showOther||self.showUntested||self.showHistoC||self.showDrugR||self.showPNPatho?!0:!1,self.tagItem=values[19],self.clinvarItem=values[20];var tCollection,cCollection,tcCollection;if(self.tagItem){if(tCollection=[],"string"==typeof self.tagItem)for(var i=0,tgCollection=self.tagCollection,tL=tgCollection.length;tL>i;i++)if(self.tagItem===tgCollection[i].key){self.tagItem=tgCollection[i];break}for(var tagMatchArr=self.tagItem.v,i=0,mL=collection.length;mL>i;i++)tagMatchArr.indexOf(collection[i].lindex)>-1&&tCollection.push(collection[i])}if(self.clinvarItem){cCollection=[];for(var clinvarMatchArr=self.clinvarItem.v,i=0,mL=collection.length;mL>i;i++)clinvarMatchArr.indexOf(collection[i].lindex)>-1&&cCollection.push(collection[i])}if(tCollection&&tCollection.length&&cCollection&&cCollection.length){tcCollection=[];for(var i=0,tL=tCollection.length;tL>i;i++)for(var j=0,cL=cCollection.length;cL>j;j++)tCollection[i].lindex!==cCollection[j].lindex||tcCollection.push(tCollection[i])}return self.tagItem&&self.clinvarItem?collection=tcCollection:tCollection?collection=tCollection:cCollection&&(collection=cCollection),collection},GenosFilters.prototype.setMaxMagnitude=function(maxmag){this.maxMagnitude=maxmag,this.db.setLocalItem("maxMagnitude",maxmag)},GenosFilters.prototype.setMinMagnitude=function(minmag){this.minMagnitude=minmag,this.db.setLocalItem("minMagnitude",minmag)},GenosFilters.prototype.getMaxMagnitude=function(){return this.db.getLocalItem("maxMagnitude")},GenosFilters.prototype.getMinMagnitude=function(){return this.db.getLocalItem("minMagnitude")},GenosFilters.prototype.setMinRef=function(minref){this.minRef=minref,this.db.setLocalItem("minRef",minref)},GenosFilters.prototype.setMaxRef=function(maxref){this.maxRef=maxref,this.db.setLocalItem("maxRef",maxref)},GenosFilters.prototype.getMinRef=function(){return this.db.getLocalItem("minRef")},GenosFilters.prototype.getMaxRef=function(){return this.db.getLocalItem("maxRef")},GenosFilters.prototype.getTagCollection=function(){var self=this,deferred=self.$q.defer(),successCallback=function(collection){self.tagCollection=collection,deferred.resolve(self.tagCollection)},errorCallback=function(){console.log("Error on Clinvar Fetch"),deferred.reject()};return self.tagCollection.length?deferred.resolve(self.tagCollection):self.db.getAll("tags",successCallback,errorCallback),deferred.promise},GenosFilters.prototype.getClinvarCollection=function(){var self=this,deferred=self.$q.defer(),successCallback=function(collection){self.clinvarCollection=collection,deferred.resolve(self.clinvarCollection)},errorCallback=function(){console.log("Error on Clinvar Fetch"),deferred.reject()};return self.clinvarCollection.length?deferred.resolve(self.clinvarCollection):self.db.getAll("clinvar",successCallback,errorCallback),deferred.promise},GenosFilters.prototype.setClinvarCollection=function(collection){var self=this,deferred=self.$q.defer();self.clinvarCollection=collection;var successCallback=function(){console.log("Clinvars Indexed"),deferred.resolve()},errorCallback=function(){console.log("Error on Clinvar Indexing"),deferred.reject()};return self.isMobile(function(value){value||self.db.bulkInject(collection,"clinvar",successCallback,errorCallback)}),deferred.promise},GenosFilters.prototype.setTagCollection=function(collection,uniqueIdx){var self=this,deferred=self.$q.defer();self.tagCollection=collection;var successCallback=function(){console.log("Tags Indexed"),self.db.setLocalItem("indexed",uniqueIdx),deferred.resolve()},errorCallback=function(){console.log("Error on Tag Indexing"),deferred.reject()};return self.isMobile(function(value){value?self.db.setLocalItem("indexed",uniqueIdx):self.db.bulkInject(collection,"tags",successCallback,errorCallback)}),deferred.promise},GenosFilters.prototype.loadTagSuggestions=function(collection){this.tagEngine=new Bloodhound({datumTokenizer:function(d){return Bloodhound.tokenizers.whitespace(d.key)},queryTokenizer:Bloodhound.tokenizers.whitespace,local:collection}),this.tagEngine.initialize()},GenosFilters.prototype.loadClinvarSuggestions=function(collection){this.clinvarEngine=new Bloodhound({datumTokenizer:function(d){return Bloodhound.tokenizers.whitespace(d.key)},queryTokenizer:Bloodhound.tokenizers.whitespace,local:collection}),this.clinvarEngine.initialize()},GenosFilters.prototype.showTagSuggestion=function(tagCollection,value){var self=this;if(value&&value.length>0)self.tagEngine&&self.tagEngine.ttAdapter(value,function(result){for(var keyArr=[],r=result||[],i=0,rL=r.length;rL>i;i++)keyArr.push(r[i].key);for(var i=0,tcL=tagCollection.length;tcL>i;i++){var tag=tagCollection[i];tag.active=keyArr.indexOf(tag.key)>=0}return r});else for(var i=0,tcL=tagCollection.length;tcL>i;i++)tagCollection[i].active=!0},GenosFilters.prototype.showClinvarSuggestion=function(clinvarCollection,value){var self=this;if(value&&value.length>0)self.clinvarEngine&&self.clinvarEngine.ttAdapter(value,function(result){for(var keyArr=[],i=0,rL=result.length;rL>i;i++)keyArr.push(result[i].key);for(var i=0,tcL=clinvarCollection.length;tcL>i;i++){var clinvar=clinvarCollection[i];clinvar.active=keyArr.indexOf(clinvar.key)>=0}return result});else for(var i=0,tcL=clinvarCollection.length;tcL>i;i++)clinvarCollection[i].active=!0},GenosFilters.prototype.getClinvarByKey=function(key){var self=this;return deferred=self.$q.defer(),self.getClinvarCollection().then(function(collection){for(var i=0,cL=collection.length;cL>i;i++)if(key===collection[i].key){deferred.resolve(collection[i]);break}}),deferred.promise},GenosFilters.prototype.getTagByKey=function(key){var self=this;return deferred=self.$q.defer(),self.getTagCollection().then(function(collection){for(var i=0,cL=collection.length;cL>i;i++)if(key===collection[i].key){deferred.resolve(collection[i]);break}}),deferred.promise},GenosFilters.prototype.clear=function(callback){this.db.clear(callback)},module.exports=angular.module("GenosFilters",[]).factory("filterService",["db","$q","isMobile",function(db,$q,isMobile){return new GenosFilters(db,$q,isMobile)}])},{"../../../vendor_libs/bloodhound/bloodhound.js":159}],14:[function(require,module){var genosProviders;module.exports=genosProviders=angular.module("GenosProviders",["GenosDB"]),genosProviders.provider("debounce",function(){this.$get=function(){return function(func,wait){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,func.apply(context,args)};clearTimeout(timeout),timeout=setTimeout(later,wait)}}}}),genosProviders.provider("isMobile",function(){this.$get=function(){return function(func){return func(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))}}}),genosProviders.provider("rAFDebounce",function(){this.$get=function(){return function(func){var Debouncer=function(callback){this.callback=callback,this.ticking=!1};Debouncer.prototype={constructor:Debouncer,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},new Debouncer(func)}}}),genosProviders.provider("sortTypes",function(){this.$get=function(){return[{title:"Magnitude",stitle:"Mag",type:"magnitude"},{title:"MaxMagnitude",stitle:"MaxMag",type:"maxmag"},{title:"Frequency",stitle:"Freq",type:"freq"},{title:"GMAF",stitle:"GMAF",type:"gmaf"},{title:"Reference",stitle:"Ref",type:"numrefs"},{title:"Location",stitle:"Loc",type:"location"},{title:"Modification Date",stitle:"Date",type:"date"}]}}),genosProviders.provider("safeApply",function(){this.$get=function(){return function($scope,func){$scope.$$phase?func():func?$scope.$apply(func):$scope.apply()}}}),genosProviders.provider("postBoring",function(){this.$get=function($http,$q){return function(title){var deferred=$q.defer(),postBoringPromise=$http.jsonp("http://www.snpedia.com/api.php?callback=JSON_CALLBACK&action=sfautoedit&form=Genotype&format=json&target="+title+"&Genotype[repute]=Good&Genotype[magnitude]=0&wpSummary=promethease+editor+set+boring");return postBoringPromise.success(function(){deferred.resolve()}),postBoringPromise.error(function(){deferred.reject()}),deferred.promise}}})},{}],15:[function(require,module){var crossFilterSort=require("../../../vendor_libs/crossfilter-sort"),GenosSort=function(sortTypes){this.sortTypes=sortTypes,this.sortType=void 0,this.reverseSort=void 0};GenosSort.prototype.startSort=function(collection,type,reverse){var filterDimension,sortedCollection=[];if("location"===type){var chrom2int=function(chrom){var chromint;return chromint="X"==chrom?23:"Y"===chrom?24:"MT"===chrom?25:void 0===chrom?26:parseInt(chrom,10)},pseudoposition=function(adict){var scale=1e9,out=chrom2int(adict.chrom)*scale+adict.pos;return out};filterDimension=crossFilterSort.sort(collection).dimension(function(d){var pseudopos=pseudoposition(d);return pseudopos?pseudopos:1}),sortedCollection=reverse?filterDimension.bottom(1/0):filterDimension.top(1/0)}else"magnitude"===type?(filterDimension=crossFilterSort.sort(collection).dimension(function(d){return d.lindex}),sortedCollection=reverse?filterDimension.top(1/0):filterDimension.bottom(1/0)):(filterDimension=crossFilterSort.sort(collection).dimension(function(d){return d[type]?d[type]:reverse?1/0:0}),sortedCollection=reverse?filterDimension.bottom(1/0):filterDimension.top(1/0));return sortedCollection},GenosSort.prototype.sort=function(collection,type,reverse){var self=this;if(collection.length<2)return collection;self.sortType=type||self.sortType||"magnitude",self.reverseSort="undefined"==typeof reverse?self.reverseSort:!!reverse;for(var i=0,sTL=self.sortTypes.length;sTL>i;i++)if(self.sortTypes[i].type===self.sortType){collection=self.reverseSort?self.startSort(collection,self.sortType,self.reverseSort):self.startSort(collection,self.sortType);break}return collection},module.exports=angular.module("GenosSort",[]).factory("sorter",["sortTypes",function(sortTypes){return new GenosSort(sortTypes)}])},{"../../../vendor_libs/crossfilter-sort":162}],16:[function(){angular.module("perfect_scrollbar",[]).directive("perfectScrollbar",["$parse","$window",function($parse,$window){var psOptions=["wheelSpeed","wheelPropagation","minScrollbarLength","useBothWheelAxes","useKeyboard","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","includePadding"];return{restrict:"EA",transclude:!0,template:"<div><div ng-transclude></div></div>",replace:!0,link:function($scope,$elem,$attr){function update(){$scope.$evalAsync(function(){$elem.perfectScrollbar("update")}),$scope.$$phase||$scope.$apply()}for(var jqWindow=angular.element($window),options={},i=0,l=psOptions.length;l>i;i++){var opt=psOptions[i];void 0!==$attr[opt]&&(options[opt]=$parse($attr[opt])())}$scope.$evalAsync(function(){$elem.perfectScrollbar(options)}),$elem.bind("mouseenter",update),$attr.refreshOnChange&&$scope.$watchCollection($attr.refreshOnChange,function(){update()}),$attr.refreshOnResize&&jqWindow.on("resize",update),$elem.bind("$destroy",function(){jqWindow.off("resize",update),$elem.perfectScrollbar("destroy")})}}}])},{}],17:[function(){!function(window,angular){"use strict";function $RouteProvider(){function inherit(parent,extra){return angular.extend(new(angular.extend(function(){},{prototype:parent})),extra)}function pathRegExp(path,opts){var insensitive=opts.caseInsensitiveMatch,ret={originalPath:path,regexp:path},keys=ret.keys=[];return path=path.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(_,slash,key,option){var optional="?"===option?option:null,star="*"===option?option:null;return keys.push({name:key,optional:!!optional}),slash=slash||"",""+(optional?"":slash)+"(?:"+(optional?slash:"")+(star&&"(.+?)"||"([^/]+)")+(optional||"")+")"+(optional||"")}).replace(/([\/$\*])/g,"\\$1"),ret.regexp=new RegExp("^"+path+"$",insensitive?"i":""),ret}var routes={};this.when=function(path,route){if(routes[path]=angular.extend({reloadOnSearch:!0},route,path&&pathRegExp(path,route)),path){var redirectPath="/"==path[path.length-1]?path.substr(0,path.length-1):path+"/";routes[redirectPath]=angular.extend({redirectTo:path},pathRegExp(redirectPath,route))}return this},this.otherwise=function(params){return this.when(null,params),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function($rootScope,$location,$routeParams,$q,$injector,$http,$templateCache,$sce){function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;len>i;++i){var key=keys[i-1],val=m[i];key&&val&&(params[key.name]=val)}return params}function updateRoute(){var next=parseRoute(),last=$route.current;next&&last&&next.$$route===last.$$route&&angular.equals(next.pathParams,last.pathParams)&&!next.reloadOnSearch&&!forceReload?(last.params=next.params,angular.copy(last.params,$routeParams),$rootScope.$broadcast("$routeUpdate",last)):(next||last)&&(forceReload=!1,$rootScope.$broadcast("$routeChangeStart",next,last),$route.current=next,next&&next.redirectTo&&(angular.isString(next.redirectTo)?$location.path(interpolate(next.redirectTo,next.params)).search(next.params).replace():$location.url(next.redirectTo(next.pathParams,$location.path(),$location.search())).replace()),$q.when(next).then(function(){if(next){var template,templateUrl,locals=angular.extend({},next.resolve);return angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value)}),angular.isDefined(template=next.template)?angular.isFunction(template)&&(template=template(next.params)):angular.isDefined(templateUrl=next.templateUrl)&&(angular.isFunction(templateUrl)&&(templateUrl=templateUrl(next.params)),templateUrl=$sce.getTrustedResourceUrl(templateUrl),angular.isDefined(templateUrl)&&(next.loadedTemplateUrl=templateUrl,template=$http.get(templateUrl,{cache:$templateCache}).then(function(response){return response.data
}))),angular.isDefined(template)&&(locals.$template=template),$q.all(locals)}}).then(function(locals){next==$route.current&&(next&&(next.locals=locals,angular.copy(next.params,$routeParams)),$rootScope.$broadcast("$routeChangeSuccess",next,last))},function(error){next==$route.current&&$rootScope.$broadcast("$routeChangeError",next,last,error)}))}function parseRoute(){var params,match;return angular.forEach(routes,function(route){!match&&(params=switchRouteMatcher($location.path(),route))&&(match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params}),match.$$route=route)}),match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function interpolate(string,params){var result=[];return angular.forEach((string||"").split(":"),function(segment,i){if(0===i)result.push(segment);else{var segmentMatch=segment.match(/(\w+)(.*)/),key=segmentMatch[1];result.push(params[key]),result.push(segmentMatch[2]||""),delete params[key]}}),result.join("")}var forceReload=!1,$route={routes:routes,reload:function(){forceReload=!0,$rootScope.$evalAsync(updateRoute)}};return $rootScope.$on("$locationChangeSuccess",updateRoute),$route}]}function $RouteParamsProvider(){this.$get=function(){return{}}}function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){function cleanupLastView(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement,function(){previousElement=null}),previousElement=currentElement,currentElement=null)}function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(angular.isDefined(template)){var newScope=scope.$new(),current=$route.current,clone=$transclude(newScope,function(clone){$animate.enter(clone,null,currentElement||$element,function(){!angular.isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()}),cleanupLastView()});currentElement=clone,currentScope=current.scope=newScope,currentScope.$emit("$viewContentLoaded"),currentScope.$eval(onloadExp)}else cleanupLastView()}var currentScope,currentElement,previousElement,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";scope.$on("$routeChangeSuccess",update),update()}}}function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);current.controllerAs&&(scope[current.controllerAs]=controller),$element.data("$ngControllerController",controller),$element.children().data("$ngControllerController",controller)}link(scope)}}}var ngRouteModule=angular.module("ngRoute",["ng"]).provider("$route",$RouteProvider);ngRouteModule.provider("$routeParams",$RouteParamsProvider),ngRouteModule.directive("ngView",ngViewFactory),ngRouteModule.directive("ngView",ngViewFillContentFactory),ngViewFactory.$inject=["$route","$anchorScroll","$animate"],ngViewFillContentFactory.$inject=["$compile","$controller","$route"]}(window,window.angular)},{}],18:[function(){!function(window,angular){"use strict";function makeSwipeDirective(directiveName,direction,eventName){ngTouch.directive(directiveName,["$parse","$swipe",function($parse,$swipe){var MAX_VERTICAL_DISTANCE=75,MAX_VERTICAL_RATIO=.3,MIN_HORIZONTAL_DISTANCE=30;return function(scope,element,attr){function validSwipe(coords){if(!startCoords)return!1;var deltaY=Math.abs(coords.y-startCoords.y),deltaX=(coords.x-startCoords.x)*direction;return valid&&MAX_VERTICAL_DISTANCE>deltaY&&deltaX>0&&deltaX>MIN_HORIZONTAL_DISTANCE&&MAX_VERTICAL_RATIO>deltaY/deltaX}var startCoords,valid,swipeHandler=$parse(attr[directiveName]);$swipe.bind(element,{start:function(coords){startCoords=coords,valid=!0},cancel:function(){valid=!1},end:function(coords,event){validSwipe(coords)&&scope.$apply(function(){element.triggerHandler(eventName),swipeHandler(scope,{$event:event})})}})}}])}var ngTouch=angular.module("ngTouch",[]);ngTouch.factory("$swipe",[function(){function getCoordinates(event){var touches=event.touches&&event.touches.length?event.touches:[event],e=event.changedTouches&&event.changedTouches[0]||event.originalEvent&&event.originalEvent.changedTouches&&event.originalEvent.changedTouches[0]||touches[0].originalEvent||touches[0];return{x:e.clientX,y:e.clientY}}var MOVE_BUFFER_RADIUS=10;return{bind:function(element,eventHandlers){var totalX,totalY,startCoords,lastPos,active=!1;element.on("touchstart mousedown",function(event){startCoords=getCoordinates(event),active=!0,totalX=0,totalY=0,lastPos=startCoords,eventHandlers.start&&eventHandlers.start(startCoords,event)}),element.on("touchcancel",function(event){active=!1,eventHandlers.cancel&&eventHandlers.cancel(event)}),element.on("touchmove mousemove",function(event){if(active&&startCoords){var coords=getCoordinates(event);if(totalX+=Math.abs(coords.x-lastPos.x),totalY+=Math.abs(coords.y-lastPos.y),lastPos=coords,!(MOVE_BUFFER_RADIUS>totalX&&MOVE_BUFFER_RADIUS>totalY))return totalY>totalX?(active=!1,void(eventHandlers.cancel&&eventHandlers.cancel(event))):(event.preventDefault(),void(eventHandlers.move&&eventHandlers.move(coords,event)))}}),element.on("touchend mouseup",function(event){active&&(active=!1,eventHandlers.end&&eventHandlers.end(getCoordinates(event),event))})}}}]),ngTouch.config(["$provide",function($provide){$provide.decorator("ngClickDirective",["$delegate",function($delegate){return $delegate.shift(),$delegate}])}]),ngTouch.directive("ngClick",["$parse","$timeout","$rootElement",function($parse,$timeout,$rootElement){function hit(x1,y1,x2,y2){return Math.abs(x1-x2)<CLICKBUSTER_THRESHOLD&&Math.abs(y1-y2)<CLICKBUSTER_THRESHOLD}function checkAllowableRegions(touchCoordinates,x,y){for(var i=0;i<touchCoordinates.length;i+=2)if(hit(touchCoordinates[i],touchCoordinates[i+1],x,y))return touchCoordinates.splice(i,i+2),!0;return!1}function onClick(event){if(!(Date.now()-lastPreventedTime>PREVENT_DURATION)){var touches=event.touches&&event.touches.length?event.touches:[event],x=touches[0].clientX,y=touches[0].clientY;1>x&&1>y||lastLabelClickCoordinates&&lastLabelClickCoordinates[0]===x&&lastLabelClickCoordinates[1]===y||(lastLabelClickCoordinates&&(lastLabelClickCoordinates=null),"label"===event.target.tagName.toLowerCase()&&(lastLabelClickCoordinates=[x,y]),checkAllowableRegions(touchCoordinates,x,y)||(event.stopPropagation(),event.preventDefault(),event.target&&event.target.blur()))}}function onTouchStart(event){var touches=event.touches&&event.touches.length?event.touches:[event],x=touches[0].clientX,y=touches[0].clientY;touchCoordinates.push(x,y),$timeout(function(){for(var i=0;i<touchCoordinates.length;i+=2)if(touchCoordinates[i]==x&&touchCoordinates[i+1]==y)return void touchCoordinates.splice(i,i+2)},PREVENT_DURATION,!1)}function preventGhostClick(x,y){touchCoordinates||($rootElement[0].addEventListener("click",onClick,!0),$rootElement[0].addEventListener("touchstart",onTouchStart,!0),touchCoordinates=[]),lastPreventedTime=Date.now(),checkAllowableRegions(touchCoordinates,x,y)}var lastPreventedTime,touchCoordinates,lastLabelClickCoordinates,TAP_DURATION=750,MOVE_TOLERANCE=12,PREVENT_DURATION=2500,CLICKBUSTER_THRESHOLD=25,ACTIVE_CLASS_NAME="ng-click-active";return function(scope,element,attr){function resetState(){tapping=!1,element.removeClass(ACTIVE_CLASS_NAME)}var tapElement,startTime,touchStartX,touchStartY,clickHandler=$parse(attr.ngClick),tapping=!1;element.on("touchstart",function(event){tapping=!0,tapElement=event.target?event.target:event.srcElement,3==tapElement.nodeType&&(tapElement=tapElement.parentNode),element.addClass(ACTIVE_CLASS_NAME),startTime=Date.now();var touches=event.touches&&event.touches.length?event.touches:[event],e=touches[0].originalEvent||touches[0];touchStartX=e.clientX,touchStartY=e.clientY}),element.on("touchmove",function(){resetState()}),element.on("touchcancel",function(){resetState()}),element.on("touchend",function(event){var diff=Date.now()-startTime,touches=event.changedTouches&&event.changedTouches.length?event.changedTouches:event.touches&&event.touches.length?event.touches:[event],e=touches[0].originalEvent||touches[0],x=e.clientX,y=e.clientY,dist=Math.sqrt(Math.pow(x-touchStartX,2)+Math.pow(y-touchStartY,2));tapping&&TAP_DURATION>diff&&MOVE_TOLERANCE>dist&&(preventGhostClick(x,y),tapElement&&tapElement.blur(),angular.isDefined(attr.disabled)&&attr.disabled!==!1||element.triggerHandler("click",[event])),resetState()}),element.onclick=function(){},element.on("click",function(event,touchend){scope.$apply(function(){clickHandler(scope,{$event:touchend||event})})}),element.on("mousedown",function(){element.addClass(ACTIVE_CLASS_NAME)}),element.on("mousemove mouseup",function(){element.removeClass(ACTIVE_CLASS_NAME)})}}]),makeSwipeDirective("ngSwipeLeft",-1,"swipeleft"),makeSwipeDirective("ngSwipeRight",1,"swiperight")}(window,window.angular)},{}],19:[function(){!function(window,document,undefined){"use strict";function minErr(module){return function(){var message,i,code=arguments[0],prefix="["+(module?module+":":"")+code+"] ",template=arguments[1],templateArgs=arguments,stringify=function(obj){return"function"==typeof obj?obj.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof obj?"undefined":"string"!=typeof obj?JSON.stringify(obj):obj};for(message=prefix+template.replace(/\{\d+\}/g,function(match){var arg,index=+match.slice(1,-1);return index+2<templateArgs.length?(arg=templateArgs[index+2],"function"==typeof arg?arg.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof arg?"undefined":"string"!=typeof arg?toJson(arg):arg):match}),message=message+"\nhttp://errors.angularjs.org/1.2.26/"+(module?module+"/":"")+code,i=2;i<arguments.length;i++)message=message+(2==i?"?":"&")+"p"+(i-2)+"="+encodeURIComponent(stringify(arguments[i]));return new Error(message)}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;var length=obj.length;return 1===obj.nodeType&&length?!0:isString(obj)||isArray(obj)||0===length||"number"==typeof length&&length>0&&length-1 in obj}function forEach(obj,iterator,context){var key;if(obj)if(isFunction(obj))for(key in obj)"prototype"==key||"length"==key||"name"==key||obj.hasOwnProperty&&!obj.hasOwnProperty(key)||iterator.call(context,obj[key],key);else if(isArray(obj)||isArrayLike(obj))for(key=0;key<obj.length;key++)iterator.call(context,obj[key],key);else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context);else for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key);return obj}function sortedKeys(obj){var keys=[];for(var key in obj)obj.hasOwnProperty(key)&&keys.push(key);return keys.sort()}function forEachSorted(obj,iterator,context){for(var keys=sortedKeys(obj),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){for(var digit,index=uid.length;index;){if(index--,digit=uid[index].charCodeAt(0),57==digit)return uid[index]="A",uid.join("");if(90!=digit)return uid[index]=String.fromCharCode(digit+1),uid.join("");uid[index]="0"}return uid.unshift("0"),uid.join("")}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function extend(dst){var h=dst.$$hashKey;return forEach(arguments,function(obj){obj!==dst&&forEach(obj,function(value,key){dst[key]=value})}),setHashKey(dst,h),dst}function int(str){return parseInt(str,10)}function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!=value&&"object"==typeof value}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.document&&obj.location&&obj.alert&&obj.setInterval}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isBlob(obj){return"[object Blob]"===toString.call(obj)}function isPromiseLike(obj){return obj&&isFunction(obj.then)}function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}function map(obj,iterator,context){var results=[];return forEach(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))}),results}function includes(array,obj){return-1!=indexOf(array,obj)}function indexOf(array,obj){if(array.indexOf)return array.indexOf(obj);for(var i=0;i<array.length;i++)if(obj===array[i])return i;return-1}function arrayRemove(array,value){var index=indexOf(array,value);return index>=0&&array.splice(index,1),value}function copy(source,destination,stackSource,stackDest){if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(destination){if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");if(stackSource=stackSource||[],stackDest=stackDest||[],isObject(source)){var index=indexOf(stackSource,source);if(-1!==index)return stackDest[index];stackSource.push(source),stackDest.push(destination)}var result;if(isArray(source)){destination.length=0;for(var i=0;i<source.length;i++)result=copy(source[i],null,stackSource,stackDest),isObject(source[i])&&(stackSource.push(source[i]),stackDest.push(result)),destination.push(result)}else{var h=destination.$$hashKey;isArray(destination)?destination.length=0:forEach(destination,function(value,key){delete destination[key]});for(var key in source)result=copy(source[key],null,stackSource,stackDest),isObject(source[key])&&(stackSource.push(source[key]),stackDest.push(result)),destination[key]=result;setHashKey(destination,h)}}else destination=source,source&&(isArray(source)?destination=copy(source,[],stackSource,stackDest):isDate(source)?destination=new Date(source.getTime()):isRegExp(source)?(destination=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]),destination.lastIndex=source.lastIndex):isObject(source)&&(destination=copy(source,{},stackSource,stackDest)));return destination}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0;i<src.length;i++)dst[i]=src[i]}else if(isObject(src)){dst=dst||{};for(var key in src)!hasOwnProperty.call(src,key)||"$"===key.charAt(0)&&"$"===key.charAt(1)||(dst[key]=src[key])}return dst||src}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1==t2&&"object"==t1){if(!isArray(o1)){if(isDate(o1))return isDate(o2)?isNaN(o1.getTime())&&isNaN(o2.getTime())||o1.getTime()===o2.getTime():!1;if(isRegExp(o1)&&isRegExp(o2))return o1.toString()==o2.toString();if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2))return!1;keySet={};for(key in o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!keySet.hasOwnProperty(key)&&"$"!==key.charAt(0)&&o2[key]!==undefined&&!isFunction(o2[key]))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;length>key;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,curryArgs.concat(slice.call(arguments,0))):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;return"string"==typeof key&&"$"===key.charAt(0)?val=undefined:isWindow(value)?val="$WINDOW":value&&document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){return"undefined"==typeof obj?undefined:JSON.stringify(obj,toJsonReplacer,pretty?"  ":null)}function fromJson(json){return isString(json)?JSON.parse(json):json}function toBoolean(value){if("function"==typeof value)value=!0;else if(value&&0!==value.length){var v=lowercase(""+value);value=!("f"==v||"0"==v||"false"==v||"no"==v||"n"==v||"[]"==v)}else value=!1;return value}function startingTag(element){element=jqLite(element).clone();try{element.empty()}catch(e){}var TEXT_NODE=3,elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===TEXT_NODE?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var key_value,key,obj={};return forEach((keyValue||"").split("&"),function(keyValue){if(keyValue&&(key_value=keyValue.replace(/\+/g,"%20").split("="),key=tryDecodeURIComponent(key_value[0]),isDefined(key))){var val=isDefined(key_value[1])?tryDecodeURIComponent(key_value[1]):!0;hasOwnProperty.call(obj,key)?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val}}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(arrayValue===!0?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function angularInit(element,bootstrap){function append(element){element&&elements.push(element)}var appElement,module,elements=[element],names=["ng:app","ng-app","x-ng-app","data-ng-app"],NG_APP_CLASS_REGEXP=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;forEach(names,function(name){names[name]=!0,append(document.getElementById(name)),name=name.replace(":","\\:"),element.querySelectorAll&&(forEach(element.querySelectorAll("."+name),append),forEach(element.querySelectorAll("."+name+"\\:"),append),forEach(element.querySelectorAll("["+name+"]"),append))}),forEach(elements,function(element){if(!appElement){var className=" "+element.className+" ",match=NG_APP_CLASS_REGEXP.exec(className);match?(appElement=element,module=(match[2]||"").replace(/\s+/g,",")):forEach(element.attributes,function(attr){!appElement&&names[attr.name]&&(appElement=element,module=attr.value)})}}),appElement&&bootstrap(appElement,module?[module]:[])}function bootstrap(element,modules){var doBootstrap=function(){if(element=jqLite(element),element.injector()){var tag=element[0]===document?"document":startingTag(element);throw ngMinErr("btstrpd","App Already Bootstrapped with this Element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[],modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),modules.unshift("ng");var injector=createInjector(modules);return injector.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)})}]),injector},NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;return window&&!NG_DEFER_BOOTSTRAP.test(window.name)?doBootstrap():(window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),void(angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module)}),doBootstrap()}))}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){jQuery=window.jQuery,jQuery&&jQuery.fn.on?(jqLite=jQuery,extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData}),jqLitePatchJQueryRemove("remove",!0,!0,!1),jqLitePatchJQueryRemove("empty",!1,!1,!1),jqLitePatchJQueryRemove("html",!1,!1,!0)):jqLite=JQLite,angular.element=jqLite}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;len>i;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function getBlockElements(nodes){var startNode=nodes[0],endNode=nodes[nodes.length-1];if(startNode===endNode)return jqLite(startNode);var element=startNode,elements=[element];do{if(element=element.nextSibling,!element)break;elements.push(element)}while(element!==endNode);return jqLite(elements)}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);return angular.$$minErr=angular.$$minErr||minErr,ensure(angular,"module",function(){var modules={};return function(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)};return assertNotHasOwnProperty(name,"module"),requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod){return function(){return invokeQueue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);var invokeQueue=[],runBlocks=[],config=invokeLater("$injector","invoke"),moduleInstance={_invokeQueue:invokeQueue,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLater("$provide","provider"),factory:invokeLater("$provide","factory"),service:invokeLater("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),animation:invokeLater("$animateProvider","register"),filter:invokeLater("$filterProvider","register"),controller:invokeLater("$controllerProvider","register"),directive:invokeLater("$compileProvider","directive"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function publishExternalAPI(angular){extend(angular,{bootstrap:bootstrap,copy:copy,extend:extend,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{counter:0},$$minErr:minErr,$$csp:csp}),angularModule=setupModuleLoader(window);try{angularModule("ngLocale")}catch(e){angularModule("ngLocale",[]).provider("$locale",$LocaleProvider)}angularModule("ng",["ngLocale"],["$provide",function($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider}),$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,required:requiredDirective,ngRequired:requiredDirective,ngValue:ngValueDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpBackend:$HttpBackendProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$asyncCallback:$$AsyncCallbackProvider})}])}function jqNextId(){return++jqId}function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}function jqLitePatchJQueryRemove(name,dispatchThis,filterElems,getterIfNoArguments){function removePatch(param){var set,setIndex,setLength,element,childIndex,childLength,children,list=filterElems&&param?[this.filter(param)]:[this],fireEvent=dispatchThis;if(!getterIfNoArguments||null!=param)for(;list.length;)for(set=list.shift(),setIndex=0,setLength=set.length;setLength>setIndex;setIndex++)for(element=jqLite(set[setIndex]),fireEvent?element.triggerHandler("$destroy"):fireEvent=!fireEvent,childIndex=0,childLength=(children=element.children()).length;childLength>childIndex;childIndex++)list.push(jQuery(children[childIndex]));return originalJqFn.apply(this,arguments)}var originalJqFn=jQuery.fn[name];originalJqFn=originalJqFn.$original||originalJqFn,removePatch.$original=originalJqFn,jQuery.fn[name]=removePatch}function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,i,j,jj,fragment=context.createDocumentFragment(),nodes=[];if(jqLiteIsTextNode(html))nodes.push(context.createTextNode(html));else{for(tmp=fragment.appendChild(context.createElement("div")),tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML="<div>&#160;</div>"+wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2],tmp.removeChild(tmp.firstChild),i=wrap[0];i--;)tmp=tmp.lastChild;for(j=0,jj=tmp.childNodes.length;jj>j;++j)nodes.push(tmp.childNodes[j]);tmp=fragment.firstChild,tmp.textContent=""}return fragment.textContent="",fragment.innerHTML="",nodes}function jqLiteParseHTML(html,context){context=context||document;var parsed;return(parsed=SINGLE_TAG_REGEXP.exec(html))?[context.createElement(parsed[1])]:jqLiteBuildFragment(html,context)}function JQLite(element){if(element instanceof JQLite)return element;if(isString(element)&&(element=trim(element)),!(this instanceof JQLite)){if(isString(element)&&"<"!=element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}if(isString(element)){jqLiteAddNodes(this,jqLiteParseHTML(element));var fragment=jqLite(document.createDocumentFragment());fragment.append(this)}else jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element){jqLiteRemoveData(element);for(var i=0,children=element.childNodes||[];i<children.length;i++)jqLiteDealoc(children[i])}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var events=jqLiteExpandoStore(element,"events"),handle=jqLiteExpandoStore(element,"handle");handle&&(isUndefined(type)?forEach(events,function(eventHandler,type){removeEventListenerFn(element,type,eventHandler),delete events[type]}):forEach(type.split(" "),function(type){isUndefined(fn)?(removeEventListenerFn(element,type,events[type]),delete events[type]):arrayRemove(events[type]||[],fn)}))}function jqLiteRemoveData(element,name){var expandoId=element.ng339,expandoStore=jqCache[expandoId];if(expandoStore){if(name)return void delete jqCache[expandoId].data[name];expandoStore.handle&&(expandoStore.events.$destroy&&expandoStore.handle({},"$destroy"),jqLiteOff(element)),delete jqCache[expandoId],element.ng339=undefined}}function jqLiteExpandoStore(element,key,value){var expandoId=element.ng339,expandoStore=jqCache[expandoId||-1];return isDefined(value)?(expandoStore||(element.ng339=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={}),void(expandoStore[key]=value)):expandoStore&&expandoStore[key]}function jqLiteData(element,key,value){var data=jqLiteExpandoStore(element,"data"),isSetter=isDefined(value),keyDefined=!isSetter&&isDefined(key),isSimpleGetter=keyDefined&&!isObject(key);if(data||isSimpleGetter||jqLiteExpandoStore(element,"data",data={}),isSetter)data[key]=value;else{if(!keyDefined)return data;if(isSimpleGetter)return data&&data[key];extend(data,key)}}function jqLiteHasClass(element,selector){return element.getAttribute?(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1:!1}function jqLiteRemoveClass(element,cssClasses){cssClasses&&element.setAttribute&&forEach(cssClasses.split(" "),function(cssClass){element.setAttribute("class",trim((" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")))})}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),-1===existingClasses.indexOf(" "+cssClass+" ")&&(existingClasses+=cssClass+" ")}),element.setAttribute("class",trim(existingClasses))}}function jqLiteAddNodes(root,elements){if(elements){elements=elements.nodeName||!isDefined(elements.length)||isWindow(elements)?[elements]:elements;for(var i=0;i<elements.length;i++)root.push(elements[i])}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){9==element.nodeType&&(element=element.documentElement);
for(var names=isArray(name)?name:[name];element;){for(var i=0,ii=names.length;ii>i;i++)if((value=jqLite.data(element,names[i]))!==undefined)return value;element=element.parentNode||11===element.nodeType&&element.host}}function jqLiteEmpty(element){for(var i=0,childNodes=element.childNodes;i<childNodes.length;i++)jqLiteDealoc(childNodes[i]);for(;element.firstChild;)element.removeChild(element.firstChild)}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[element.nodeName]&&booleanAttr}function createEventHandler(element,events){var eventHandler=function(event,type){if(event.preventDefault||(event.preventDefault=function(){event.returnValue=!1}),event.stopPropagation||(event.stopPropagation=function(){event.cancelBubble=!0}),event.target||(event.target=event.srcElement||document),isUndefined(event.defaultPrevented)){var prevent=event.preventDefault;event.preventDefault=function(){event.defaultPrevented=!0,prevent.call(event)},event.defaultPrevented=!1}event.isDefaultPrevented=function(){return event.defaultPrevented||event.returnValue===!1};var eventHandlersCopy=shallowCopy(events[type||event.type]||[]);forEach(eventHandlersCopy,function(fn){fn.call(element,event)}),8>=msie?(event.preventDefault=null,event.stopPropagation=null,event.isDefaultPrevented=null):(delete event.preventDefault,delete event.stopPropagation,delete event.isDefaultPrevented)};return eventHandler.elem=element,eventHandler}function hashKey(obj,nextUidFn){var key,objType=typeof obj;return"function"==objType||"object"==objType&&null!==obj?"function"==typeof(key=obj.$$hashKey)?key=obj.$$hashKey():key===undefined&&(key=obj.$$hashKey=(nextUidFn||nextUid)()):key=obj,objType+":"+key}function HashMap(array,isolatedUid){if(isolatedUid){var uid=0;this.nextUid=function(){return++uid}}forEach(array,this.put,this)}function annotate(fn){var $inject,fnText,argDecl,last;return"function"==typeof fn?($inject=fn.$inject)||($inject=[],fn.length&&(fnText=fn.toString().replace(STRIP_COMMENTS,""),argDecl=fnText.match(FN_ARGS),forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})),fn.$inject=$inject):isArray(fn)?(last=fn.length-1,assertArgFn(fn[last],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0),$inject}function createInjector(modulesToLoad){function supportObject(delegate){return function(key,value){return isObject(key)?void forEach(key,reverseParams(delegate)):delegate(key,value)}}function provider(name,provider_){if(assertNotHasOwnProperty(name,"service"),(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function factory(name,factoryFn){return provider(name,{$get:factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val))}function constant(name,value){assertNotHasOwnProperty(name,"constant"),providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){var moduleFn,invokeQueue,i,ii,runBlocks=[];return forEach(modulesToLoad,function(module){if(!loadedModules.get(module)){loadedModules.put(module,!0);try{if(isString(module))for(moduleFn=angularModule(module),runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks),invokeQueue=moduleFn._invokeQueue,i=0,ii=invokeQueue.length;ii>i;i++){var invokeArgs=invokeQueue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}else isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){throw isArray(module)&&(module=module[module.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),$injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}}}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName)}catch(err){throw cache[serviceName]===INSTANTIATING&&delete cache[serviceName],err}finally{path.shift()}}function invoke(fn,self,locals){var length,i,key,args=[],$inject=annotate(fn);for(i=0,length=$inject.length;length>i;i++){if(key=$inject[i],"string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key))}return isArray(fn)&&(fn=fn[length]),fn.apply(self,args)}function instantiate(Type,locals){var instance,returnedValue,Constructor=function(){};return Constructor.prototype=(isArray(Type)?Type[Type.length-1]:Type).prototype,instance=new Constructor,returnedValue=invoke(Type,instance,locals),isObject(returnedValue)||isFunction(returnedValue)?returnedValue:instance}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap([],!0),providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(){throw $injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},instanceInjector=instanceCache.$injector=createInternalInjector(instanceCache,function(servicename){var provider=providerInjector.get(servicename+providerSuffix);return instanceInjector.invoke(provider.$get,provider)});return forEach(loadModules(modulesToLoad),function(fn){instanceInjector.invoke(fn||noop)}),instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return forEach(list,function(element){result||"a"!==lowercase(element.nodeName)||(result=element)}),result}function scroll(){var elm,hash=$location.hash();hash?(elm=document.getElementById(hash))?elm.scrollIntoView():(elm=getFirstAnchor(document.getElementsByName(hash)))?elm.scrollIntoView():"top"===hash&&$window.scrollTo(0,0):$window.scrollTo(0,0)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(){$rootScope.$evalAsync(scroll)}),scroll}]}function $$AsyncCallbackProvider(){this.$get=["$$rAF","$timeout",function($$rAF,$timeout){return $$rAF.supported?function(fn){return $$rAF(fn)}:function(fn){return $timeout(fn,0,!1)}}]}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(outstandingRequestCount--,0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function startPoller(interval,setTimeout){!function check(){forEach(pollFns,function(pollFn){pollFn()}),pollTimeout=setTimeout(check,interval)}()}function fireUrlChange(){newLocation=null,lastBrowserUrl!=self.url()&&(lastBrowserUrl=self.url(),forEach(urlChangeListeners,function(listener){listener(self.url())}))}var self=this,rawDocument=document[0],location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){forEach(pollFns,function(pollFn){pollFn()}),0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var pollTimeout,pollFns=[];self.addPollFn=function(fn){return isUndefined(pollTimeout)&&startPoller(100,setTimeout),pollFns.push(fn),fn};var lastBrowserUrl=location.href,baseElement=document.find("base"),newLocation=null;self.url=function(url,replace){if(location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),url){if(lastBrowserUrl==url)return;return lastBrowserUrl=url,$sniffer.history?replace?history.replaceState(null,"",url):(history.pushState(null,"",url),baseElement.attr("href",baseElement.attr("href"))):(newLocation=url,replace?location.replace(url):location.href=url),self}return newLocation||location.href.replace(/%27/g,"'")};var urlChangeListeners=[],urlChangeInit=!1;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).on("popstate",fireUrlChange),$sniffer.hashchange?jqLite(window).on("hashchange",fireUrlChange):self.addPollFn(fireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.$$checkUrlChange=fireUrlChange,self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var lastCookies={},lastCookieString="",cookiePath=self.baseHref();self.cookies=function(name,value){var cookieLength,cookieArray,cookie,i,index;if(!name){if(rawDocument.cookie!==lastCookieString)for(lastCookieString=rawDocument.cookie,cookieArray=lastCookieString.split("; "),lastCookies={},i=0;i<cookieArray.length;i++)cookie=cookieArray[i],index=cookie.indexOf("="),index>0&&(name=unescape(cookie.substring(0,index)),lastCookies[name]===undefined&&(lastCookies[name]=unescape(cookie.substring(index+1))));return lastCookies}value===undefined?rawDocument.cookie=escape(name)+"=;path="+cookiePath+";expires=Thu, 01 Jan 1970 00:00:00 GMT":isString(value)&&(cookieLength=(rawDocument.cookie=escape(name)+"="+escape(value)+";path="+cookiePath).length+1,cookieLength>4096&&$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!"))},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return pendingDeferIds[deferId]?(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0):!1}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!=freshEnd&&(staleEnd?staleEnd==entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),freshEnd=entry,freshEnd.n=null)}function link(nextEntry,prevEntry){nextEntry!=prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data={},capacity=options&&options.capacity||Number.MAX_VALUE,lruHash={},freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}if(!isUndefined(value))return key in data||size++,data[key]=value,size>capacity&&this.remove(staleEnd.key),value},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;lruEntry==freshEnd&&(freshEnd=lruEntry.p),lruEntry==staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key]}delete data[key],size--},removeAll:function(){data={},size=0,lruHash={},freshEnd=staleEnd=null},destroy:function(){data=null,stats=null,lruHash=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function $CompileProvider($provide,$$sanitizeUriProvider){var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;this.directive=function registerDirective(name,directiveFactory){return assertNotHasOwnProperty(name,"directive"),isString(name)?(assertArg(directiveFactory,"directiveFactory"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.index=index,directive.name=directive.name||name,directive.require=directive.require||directive.controller&&directive.name,directive.restrict=directive.restrict||"A",directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$http,$templateCache,$parse,$controller,$rootScope,$document,$sce,$animate,$$sanitizeUri){function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes)),forEach($compileNodes,function(node,index){3==node.nodeType&&node.nodeValue.match(/\S+/)&&($compileNodes[index]=node=jqLite(node).wrap("<span></span>").parent()[0])});var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);return safeAddClass($compileNodes,"ng-scope"),function(scope,cloneConnectFn,transcludeControllers,parentBoundTranscludeFn){assertArg(scope,"scope");var $linkNode=cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes;forEach(transcludeControllers,function(instance,name){$linkNode.data("$"+name+"Controller",instance)});for(var i=0,ii=$linkNode.length;ii>i;i++){var node=$linkNode[i],nodeType=node.nodeType;(1===nodeType||9===nodeType)&&$linkNode.eq(i).data("$scope",scope)}return cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn),$linkNode}}function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,n,childBoundTranscludeFn,nodeListLength=nodeList.length,stableNodeList=new Array(nodeListLength);for(i=0;nodeListLength>i;i++)stableNodeList[i]=nodeList[i];for(i=0,n=0,ii=linkFns.length;ii>i;n++)node=stableNodeList[n],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],nodeLinkFn?(nodeLinkFn.scope?(childScope=scope.$new(),jqLite.data(node,"$scope",childScope)):childScope=scope,childBoundTranscludeFn=nodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn):!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn?parentBoundTranscludeFn:!parentBoundTranscludeFn&&transcludeFn?createBoundTranscludeFn(scope,transcludeFn):null,nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn)):childLinkFn&&childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}for(var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,linkFns=[],i=0;i<nodeList.length;i++)attrs=new Attributes,directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:undefined,ignoreDirective),nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null,nodeLinkFn&&nodeLinkFn.scope&&safeAddClass(attrs.$$element,"ng-scope"),childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn),linkFns.push(nodeLinkFn,childLinkFn),linkFnFound=linkFnFound||nodeLinkFn||childLinkFn,previousCompileContext=null;return linkFnFound?compositeLinkFn:null}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){var boundTranscludeFn=function(transcludedScope,cloneFn,controllers){var scopeCreated=!1;transcludedScope||(transcludedScope=scope.$new(),transcludedScope.$$transcluded=!0,scopeCreated=!0);var clone=transcludeFn(transcludedScope,cloneFn,controllers,previousBoundTranscludeFn);return scopeCreated&&clone.on("$destroy",function(){transcludedScope.$destroy()}),clone};return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case 1:addDirective(directives,directiveNormalize(nodeName_(node).toLowerCase()),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;jj>j;j++){var attrStartName=!1,attrEndName=!1;if(attr=nAttrs[j],!msie||msie>=8||attr.specified){name=attr.name,value=trim(attr.value),ngAttrName=directiveNormalize(name),(isNgAttr=NG_ATTR_BINDING.test(ngAttrName))&&(name=snake_case(ngAttrName.substr(6),"-"));var directiveNName=ngAttrName.replace(/(Start|End)$/,"");ngAttrName===directiveNName+"Start"&&(attrStartName=name,attrEndName=name.substr(0,name.length-5)+"end",name=name.substr(0,name.length-6)),nName=directiveNormalize(name.toLowerCase()),attrsMap[nName]=name,(isNgAttr||!attrs.hasOwnProperty(nName))&&(attrs[nName]=value,getBooleanAttrName(node,nName)&&(attrs[nName]=!0)),addAttrInterpolateDirective(node,directives,value,nName),addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}}if(className=node.className,isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)nName=directiveNormalize(match[2]),addDirective(directives,nName,"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case 3:addTextInterpolateDirective(directives,node.nodeValue);break;case 8:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue),match&&(nName=directiveNormalize(match[1]),addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2])))}catch(e){}}return directives.sort(byPriority),directives}function groupScan(node,attrStart,attrEnd){var nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);1==node.nodeType&&(node.hasAttribute(attrStart)&&depth++,node.hasAttribute(attrEnd)&&depth--),nodes.push(node),node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){return element=groupScan(element[0],attrStart,attrEnd),linkFn(scope,element,attrs,controllers,transcludeFn)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){pre&&(attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd)),pre.require=directive.require,pre.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{isolateScope:!0})),preLinkFns.push(pre)),post&&(attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd)),post.require=directive.require,post.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{isolateScope:!0})),postLinkFns.push(post))}function getControllers(directiveName,require,$element,elementControllers){var value,retrievalMethod="data",optional=!1;if(isString(require)){for(;"^"==(value=require.charAt(0))||"?"==value;)require=require.substr(1),"^"==value&&(retrievalMethod="inheritedData"),optional=optional||"?"==value;if(value=null,elementControllers&&"data"===retrievalMethod&&(value=elementControllers[require]),value=value||$element[retrievalMethod]("$"+require+"Controller"),!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",require,directiveName);return value}return isArray(require)&&(value=[],forEach(require,function(require){value.push(getControllers(directiveName,require,$element,elementControllers))})),value}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){function controllersBoundTransclude(scope,cloneAttachFn){var transcludeControllers;return arguments.length<2&&(cloneAttachFn=scope,scope=undefined),hasElementTranscludeDirective&&(transcludeControllers=elementControllers),boundTranscludeFn(scope,cloneAttachFn,transcludeControllers)}var attrs,$element,i,ii,linkFn,controller,isolateScope,transcludeFn,elementControllers={};if(attrs=compileNode===linkNode?templateAttrs:shallowCopy(templateAttrs,new Attributes(jqLite(linkNode),templateAttrs.$attr)),$element=attrs.$$element,newIsolateScopeDirective){var LOCAL_REGEXP=/^\s*([@=&])(\??)\s*(\w*)\s*$/;isolateScope=scope.$new(!0),!templateDirective||templateDirective!==newIsolateScopeDirective&&templateDirective!==newIsolateScopeDirective.$$originalDirective?$element.data("$isolateScopeNoTemplate",isolateScope):$element.data("$isolateScope",isolateScope),safeAddClass($element,"ng-isolate-scope"),forEach(newIsolateScopeDirective.scope,function(definition,scopeName){var lastValue,parentGet,parentSet,compare,match=definition.match(LOCAL_REGEXP)||[],attrName=match[3]||scopeName,optional="?"==match[2],mode=match[1];switch(isolateScope.$$isolateBindings[scopeName]=mode+attrName,mode){case"@":attrs.$observe(attrName,function(value){isolateScope[scopeName]=value}),attrs.$$observers[attrName].$$scope=scope,attrs[attrName]&&(isolateScope[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(optional&&!attrs[attrName])return;parentGet=$parse(attrs[attrName]),compare=parentGet.literal?equals:function(a,b){return a===b||a!==a&&b!==b},parentSet=parentGet.assign||function(){throw lastValue=isolateScope[scopeName]=parentGet(scope),$compileMinErr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",attrs[attrName],newIsolateScopeDirective.name)},lastValue=isolateScope[scopeName]=parentGet(scope),isolateScope.$watch(function(){var parentValue=parentGet(scope);return compare(parentValue,isolateScope[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=isolateScope[scopeName]):isolateScope[scopeName]=parentValue),lastValue=parentValue},null,parentGet.literal);break;case"&":parentGet=$parse(attrs[attrName]),isolateScope[scopeName]=function(locals){return parentGet(scope,locals)};break;default:throw $compileMinErr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",newIsolateScopeDirective.name,scopeName,definition)}})}for(transcludeFn=boundTranscludeFn&&controllersBoundTransclude,controllerDirectives&&forEach(controllerDirectives,function(directive){var controllerInstance,locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn};controller=directive.controller,"@"==controller&&(controller=attrs[directive.name]),controllerInstance=$controller(controller,locals),elementControllers[directive.name]=controllerInstance,hasElementTranscludeDirective||$element.data("$"+directive.name+"Controller",controllerInstance),directive.controllerAs&&(locals.$scope[directive.controllerAs]=controllerInstance)}),i=0,ii=preLinkFns.length;ii>i;i++)try{linkFn=preLinkFns[i],linkFn(linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}var scopeToChild=scope;for(newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope),childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn),i=postLinkFns.length-1;i>=0;i--)try{linkFn=postLinkFns[i],linkFn(linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}previousCompileContext=previousCompileContext||{};for(var newScopeDirective,directive,directiveName,$template,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasTemplate=!1,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,i=0,ii=directives.length;ii>i;i++){directive=directives[i];var attrStart=directive.$$start,attrEnd=directive.$$end;if(attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd)),$template=undefined,terminalPriority>directive.priority)break;if((directiveValue=directive.scope)&&(newScopeDirective=newScopeDirective||directive,directive.templateUrl||(assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode),isObject(directiveValue)&&(newIsolateScopeDirective=directive))),directiveName=directive.name,!directive.templateUrl&&directive.controller&&(directiveValue=directive.controller,controllerDirectives=controllerDirectives||{},assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),(directiveValue=directive.transclude)&&(hasTranscludeDirective=!0,directive.$$tlb||(assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode),nonTlbTranscludeDirective=directive),"element"==directiveValue?(hasElementTranscludeDirective=!0,terminalPriority=directive.priority,$template=$compileNode,$compileNode=templateAttrs.$$element=jqLite(document.createComment(" "+directiveName+": "+templateAttrs[directiveName]+" ")),compileNode=$compileNode[0],replaceWith(jqCollection,sliceArgs($template),compileNode),childTranscludeFn=compile($template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})):($template=jqLite(jqLiteClone(compileNode)).contents(),$compileNode.empty(),childTranscludeFn=compile($template,transcludeFn))),directive.template)if(hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if(replaceDirective=directive,$template=jqLiteIsTextNode(directiveValue)?[]:jqLite(trim(directiveValue)),compileNode=$template[0],1!=$template.length||1!==compileNode.nodeType)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}},templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs),unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));newIsolateScopeDirective&&markDirectivesAsIsolate(templateDirectives),directives=directives.concat(templateDirectives).concat(unprocessedDirectives),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directive.replace&&(replaceDirective=directive),nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective}),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn),isFunction(linkFn)?addLinkFns(null,linkFn,attrStart,attrEnd):linkFn&&addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===!0,nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective,nodeLinkFn.templateOnThisElement=hasTemplate,nodeLinkFn.transclude=childTranscludeFn,previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective,nodeLinkFn}function markDirectivesAsIsolate(directives){for(var j=0,jj=directives.length;jj>j;j++)directives[j]=inherit(directives[j],{$$isolateScope:!0})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)try{directive=directives[i],(maxPriority===undefined||maxPriority>directive.priority)&&-1!=directive.restrict.indexOf(location)&&(startAttrName&&(directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})),tDirectives.push(directive),match=directive)
}catch(e){$exceptionHandler(e)}return match}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){"$"!=key.charAt(0)&&(src[key]&&src[key]!==value&&(value+=("style"===key?";":" ")+src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){"class"==key?(safeAddClass($element,value),dst["class"]=(dst["class"]?dst["class"]+" ":"")+value):"style"==key?($element.attr("style",$element.attr("style")+";"+value),dst.style=(dst.style?dst.style+";":"")+value):"$"==key.charAt(0)||dst.hasOwnProperty(key)||(dst[key]=value,dstAttr[key]=srcAttr[key])})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=extend({},origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl;return $compileNode.empty(),$http.get($sce.getTrustedResourceUrl(templateUrl),{cache:$templateCache}).success(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;if(content=denormalizeTemplate(content),origAsyncDirective.replace){if($template=jqLiteIsTextNode(content)?[]:jqLite(trim(content)),compileNode=$template[0],1!=$template.length||1!==compileNode.nodeType)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectivesAsIsolate(templateDirectives),directives=templateDirectives.concat(directives),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext),forEach($rootElement,function(node,i){node==compileNode&&($rootElement[i]=$compileNode[0])}),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace||(linkNode=jqLiteClone(compileNode)),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode),safeAddClass(jqLite(linkNode),oldClasses)}childBoundTranscludeFn=afterTemplateNodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn):boundTranscludeFn,afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}linkQueue=null}).error(function(response,code,headers,config){throw $compileMinErr("tpload","Failed to load template: {0}",config.url)}),function(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;linkQueue?(linkQueue.push(scope),linkQueue.push(node),linkQueue.push(rootElement),linkQueue.push(childBoundTranscludeFn)):(afterTemplateNodeLinkFn.transcludeOnThisElement&&(childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)),afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn))}}function byPriority(a,b){var diff=b.priority-a.priority;return 0!==diff?diff:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",previousDirective.name,directive.name,what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:function(templateNode){var parent=templateNode.parent(),hasCompileParent=parent.length;return hasCompileParent&&safeAddClass(templateNode.parent(),"ng-binding"),function(scope,node){var parent=node.parent(),bindings=parent.data("$binding")||[];bindings.push(interpolateFn),parent.data("$binding",bindings),hasCompileParent||safeAddClass(parent,"ng-binding"),scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})}}})}function getTrustedContext(node,attrNormalizedName){if("srcdoc"==attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);return"xlinkHref"==attrNormalizedName||"FORM"==tag&&"action"==attrNormalizedName||"IMG"!=tag&&("src"==attrNormalizedName||"ngSrc"==attrNormalizedName)?$sce.RESOURCE_URL:void 0}function addAttrInterpolateDirective(node,directives,value,name){var interpolateFn=$interpolate(value,!0);if(interpolateFn){if("multiple"===name&&"SELECT"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));directives.push({priority:100,compile:function(){return{pre:function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers={});if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");interpolateFn=$interpolate(attr[name],!0,getTrustedContext(node,name)),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(newValue,oldValue){"class"===name&&newValue!=oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)}))}}}})}}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;ii>i;i++)if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;jj>j;j++,j2++)jj>j2?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1;break}parent&&parent.replaceChild(newNode,firstElementToRemove);var fragment=document.createDocumentFragment();fragment.appendChild(firstElementToRemove),newNode[jqLite.expando]=firstElementToRemove[jqLite.expando];for(var k=1,kk=elementsToRemove.length;kk>k;k++){var element=elementsToRemove[k];jqLite(element).remove(),fragment.appendChild(element),delete elementsToRemove[k]}elementsToRemove[0]=newNode,elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}var Attributes=function(element,attr){this.$$element=element,this.$attr=attr||{}};Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){classVal&&classVal.length>0&&$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){classVal&&classVal.length>0&&$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses),toRemove=tokenDifference(oldClasses,newClasses);0===toAdd.length?$animate.removeClass(this.$$element,toRemove):0===toRemove.length?$animate.addClass(this.$$element,toAdd):$animate.setClass(this.$$element,toAdd,toRemove)},$set:function(key,value,writeAttr,attrName){var nodeName,booleanKey=getBooleanAttrName(this.$$element[0],key);booleanKey&&(this.$$element.prop(key,value),attrName=booleanKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key],attrName||(this.$attr[key]=attrName=snake_case(key,"-"))),nodeName=nodeName_(this.$$element),("A"===nodeName&&"href"===key||"IMG"===nodeName&&"src"===key)&&(this[key]=value=$$sanitizeUri(value,"src"===key)),writeAttr!==!1&&(null===value||value===undefined?this.$$element.removeAttr(attrName):this.$$element.attr(attrName,value));var $$observers=this.$$observers;$$observers&&forEach($$observers[key],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers={}),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){listeners.$$inter||fn(attrs[key])}),fn}};var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"==startSymbol||"}}"==endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/;return compile}]}function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function $ControllerProvider(){var controllers={},CNTRL_REG=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller"),isObject(name)?extend(controllers,name):controllers[name]=constructor},this.$get=["$injector","$window",function($injector,$window){return function(expression,locals){var instance,match,constructor,identifier;if(isString(expression)&&(match=expression.match(CNTRL_REG),constructor=match[1],identifier=match[3],expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||getter($window,constructor,!0),assertArgFn(expression,constructor,!0)),instance=$injector.instantiate(expression,locals),identifier){if(!locals||"object"!=typeof locals.$scope)throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",constructor||expression.name,identifier);locals.$scope[identifier]=instance}return instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(){$log.error.apply($log,arguments)}}]}function parseHeaders(headers){var key,val,i,parsed={};return headers?(forEach(headers.split("\n"),function(line){i=line.indexOf(":"),key=lowercase(trim(line.substr(0,i))),val=trim(line.substr(i+1)),key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}),parsed):parsed}function headersGetter(headers){var headersObj=isObject(headers)?headers:undefined;return function(name){return headersObj||(headersObj=parseHeaders(headers)),name?headersObj[lowercase(name)]||null:headersObj}}function transformData(data,headers,fns){return isFunction(fns)?fns(data,headers):(forEach(fns,function(fn){data=fn(data,headers)}),data)}function isSuccess(status){return status>=200&&300>status}function $HttpProvider(){var JSON_START=/^\s*(\[|\{[^\{])/,JSON_END=/[\}\]]\s*$/,PROTECTION_PREFIX=/^\)\]\}',?\n/,CONTENT_TYPE_APPLICATION_JSON={"Content-Type":"application/json;charset=utf-8"},defaults=this.defaults={transformResponse:[function(data){return isString(data)&&(data=data.replace(PROTECTION_PREFIX,""),JSON_START.test(data)&&JSON_END.test(data)&&(data=fromJson(data))),data}],transformRequest:[function(d){return!isObject(d)||isFile(d)||isBlob(d)?d:toJson(d)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},interceptorFactories=this.interceptors=[],responseInterceptorFactories=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$browser,$cacheFactory,$rootScope,$q,$injector){function $http(requestConfig){function transformResponse(response){var resp=extend({},response,{data:transformData(response.data,response.headers,config.transformResponse)});return isSuccess(response.status)?resp:$q.reject(resp)}function mergeHeaders(config){function execHeaders(headers){var headerContent;forEach(headers,function(headerFn,header){isFunction(headerFn)&&(headerContent=headerFn(),null!=headerContent?headers[header]=headerContent:delete headers[header])})}var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return execHeaders(reqHeaders),reqHeaders}var config={method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse},headers=mergeHeaders(requestConfig);extend(config,requestConfig),config.headers=headers,config.method=uppercase(config.method);var serverRequest=function(config){headers=config.headers;var reqData=transformData(config.data,headersGetter(headers),config.transformRequest);return isUndefined(reqData)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]}),isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData,headers).then(transformResponse,transformResponse)},chain=[serverRequest,undefined],promise=$q.when(config);for(forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&chain.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&chain.push(interceptor.response,interceptor.responseError)});chain.length;){var thenFn=chain.shift(),rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn)}return promise.success=function(fn){return promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return promise.then(null,function(response){fn(response.data,response.status,response.headers,config)}),promise},promise}function createShortMethods(){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend(config||{},{method:name,url:url}))}})}function createShortMethodsWithData(){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend(config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData,reqHeaders){function done(status,response,headersString,statusText){cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString),statusText]):cache.remove(url)),resolvePromise(response,status,headersString,statusText),$rootScope.$$phase||$rootScope.$apply()}function resolvePromise(response,status,headers,statusText){status=Math.max(status,0),(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText})}function removePendingReq(){var idx=indexOf($http.pendingRequests,config);-1!==idx&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,url=buildUrl(config.url,config.params);if($http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),!config.cache&&!defaults.cache||config.cache===!1||"GET"!==config.method&&"JSONP"!==config.method||(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache)if(cachedResp=cache.get(url),isDefined(cachedResp)){if(isPromiseLike(cachedResp))return cachedResp.then(removePendingReq,removePendingReq),cachedResp;isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3]):resolvePromise(cachedResp,200,{},"OK")}else cache.put(url,promise);if(isUndefined(cachedResp)){var xsrfValue=urlIsSameOrigin(config.url)?$browser.cookies()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;xsrfValue&&(reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue),$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType)}return promise}function buildUrl(url,params){if(!params)return url;var parts=[];return forEachSorted(params,function(value,key){null===value||isUndefined(value)||(isArray(value)||(value=[value]),forEach(value,function(v){isObject(v)&&(v=isDate(v)?v.toISOString():toJson(v)),parts.push(encodeUriQuery(key)+"="+encodeUriQuery(v))}))}),parts.length>0&&(url+=(-1==url.indexOf("?")?"?":"&")+parts.join("&")),url}var defaultCache=$cacheFactory("$http"),reversedInterceptors=[];return forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))}),forEach(responseInterceptorFactories,function(interceptorFactory,index){var responseFn=isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory);reversedInterceptors.splice(index,0,{response:function(response){return responseFn($q.when(response))},responseError:function(response){return responseFn($q.reject(response))}})}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put"),$http.defaults=defaults,$http}]}function createXhr(method){if(8>=msie&&(!method.match(/^(get|post|head|put|delete|options)$/i)||!window.XMLHttpRequest))return new window.ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new window.XMLHttpRequest;throw minErr("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function $HttpBackendProvider(){this.$get=["$browser","$window","$document",function($browser,$window,$document){return createHttpBackend($browser,createXhr,$browser.defer,$window.angular.callbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,callbackId,done){var script=rawDocument.createElement("script"),callback=null;return script.type="text/javascript",script.src=url,script.async=!0,callback=function(event){removeEventListenerFn(script,"load",callback),removeEventListenerFn(script,"error",callback),rawDocument.body.removeChild(script),script=null;var status=-1,text="unknown";event&&("load"!==event.type||callbacks[callbackId].called||(event={type:"error"}),text=event.type,status="error"===event.type?404:200),done&&done(status,text)},addEventListenerFn(script,"load",callback),addEventListenerFn(script,"error",callback),8>=msie&&(script.onreadystatechange=function(){isString(script.readyState)&&/loaded|complete/.test(script.readyState)&&(script.onreadystatechange=null,callback({type:"load"}))}),rawDocument.body.appendChild(script),callback}var ABORTED=-1;return function(method,url,post,callback,headers,timeout,withCredentials,responseType){function timeoutRequest(){status=ABORTED,jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString,statusText){timeoutId&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,0===status&&(status=response?200:"file"==urlResolve(url).protocol?404:0),status=1223===status?204:status,statusText=statusText||"",callback(status,response,headersString,statusText),$browser.$$completeOutstandingRequest(noop)}var status;if($browser.$$incOutstandingRequestCount(),url=url||$browser.url(),"jsonp"==lowercase(method)){var callbackId="_"+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data,callbacks[callbackId].called=!0};var jsonpDone=jsonpReq(url.replace("JSON_CALLBACK","angular.callbacks."+callbackId),callbackId,function(status,text){completeRequest(callback,status,callbacks[callbackId].data,"",text),callbacks[callbackId]=noop})}else{var xhr=createXhr(method);if(xhr.open(method,url,!0),forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)}),xhr.onreadystatechange=function(){if(xhr&&4==xhr.readyState){var responseHeaders=null,response=null,statusText="";status!==ABORTED&&(responseHeaders=xhr.getAllResponseHeaders(),response="response"in xhr?xhr.response:xhr.responseText),status===ABORTED&&10>msie||(statusText=xhr.statusText),completeRequest(callback,status||xhr.status,response,responseHeaders,statusText)}},withCredentials&&(xhr.withCredentials=!0),responseType)try{xhr.responseType=responseType}catch(e){if("json"!==responseType)throw e}xhr.send(post||null)}if(timeout>0)var timeoutId=$browserDefer(timeoutRequest,timeout);else isPromiseLike(timeout)&&timeout.then(timeoutRequest)}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){function $interpolate(text,mustHaveExpression,trustedContext){for(var startIndex,endIndex,fn,exp,index=0,parts=[],length=text.length,hasInterpolation=!1,concat=[];length>index;)-1!=(startIndex=text.indexOf(startSymbol,index))&&-1!=(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))?(index!=startIndex&&parts.push(text.substring(index,startIndex)),parts.push(fn=$parse(exp=text.substring(startIndex+startSymbolLength,endIndex))),fn.exp=exp,index=endIndex+endSymbolLength,hasInterpolation=!0):(index!=length&&parts.push(text.substring(index)),index=length);if((length=parts.length)||(parts.push(""),length=1),trustedContext&&parts.length>1)throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text);return!mustHaveExpression||hasInterpolation?(concat.length=length,fn=function(context){try{for(var part,i=0,ii=length;ii>i;i++){if("function"==typeof(part=parts[i]))if(part=part(context),part=trustedContext?$sce.getTrusted(trustedContext,part):$sce.valueOf(part),null==part)part="";else switch(typeof part){case"string":break;case"number":part=""+part;break;default:part=toJson(part)}concat[i]=part}return concat.join("")}catch(err){var newErr=$interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString());$exceptionHandler(newErr)}},fn.exp=text,fn.parts=parts,fn):void 0}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length;return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q",function($rootScope,$window,$q){function interval(fn,delay,count,invokeApply){var setInterval=$window.setInterval,clearInterval=$window.clearInterval,deferred=$q.defer(),promise=deferred.promise,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply;return count=isDefined(count)?count:0,promise.then(null,null,fn),promise.$$intervalId=setInterval(function(){deferred.notify(iteration++),count>0&&iteration>=count&&(deferred.resolve(iteration),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId]),skipApply||$rootScope.$apply()},delay),intervals[promise.$$intervalId]=deferred,promise}var intervals={};return interval.cancel=function(promise){return promise&&promise.$$intervalId in intervals?(intervals[promise.$$intervalId].reject("canceled"),$window.clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId],!0):!1},interval}]}function $LocaleProvider(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(num){return 1===num?"one":"other"}}}}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i]);return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj,appBase){var parsedUrl=urlResolve(absoluteUrl,appBase);locationObj.$$protocol=parsedUrl.protocol,locationObj.$$host=parsedUrl.hostname,locationObj.$$port=int(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(relativeUrl,locationObj,appBase){var prefixed="/"!==relativeUrl.charAt(0);prefixed&&(relativeUrl="/"+relativeUrl);var match=urlResolve(relativeUrl,appBase);locationObj.$$path=decodeURIComponent(prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname),locationObj.$$search=parseKeyValue(match.search),locationObj.$$hash=decodeURIComponent(match.hash),locationObj.$$path&&"/"!=locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function beginsWith(begin,whole){return 0===whole.indexOf(begin)?whole.substr(begin.length):void 0}function stripHash(url){var index=url.indexOf("#");return-1==index?url:url.substr(0,index)}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,basePrefix){this.$$html5=!0,basePrefix=basePrefix||"";var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this,appBase),this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this,appBase),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1)},this.$$rewrite=function(url){var appUrl,prevAppUrl;return(appUrl=beginsWith(appBase,url))!==undefined?(prevAppUrl=appUrl,(appUrl=beginsWith(basePrefix,appUrl))!==undefined?appBaseNoFile+(beginsWith("/",appUrl)||appUrl):appBase+prevAppUrl):(appUrl=beginsWith(appBaseNoFile,url))!==undefined?appBaseNoFile+appUrl:appBaseNoFile==url+"/"?appBaseNoFile:void 0}}function LocationHashbangUrl(appBase,hashPrefix){var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this,appBase),this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/[A-Z]:(\/.*)/;return 0===url.indexOf(base)&&(url=url.replace(base,"")),windowsFilePathExp.exec(url)?path:(firstPathSegmentMatch=windowsFilePathExp.exec(path),firstPathSegmentMatch?firstPathSegmentMatch[1]:path)}var withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url),withoutHashUrl="#"==withoutBaseUrl.charAt(0)?beginsWith(hashPrefix,withoutBaseUrl):this.$$html5?withoutBaseUrl:"";if(!isString(withoutHashUrl))throw $locationMinErr("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',url,hashPrefix);parseAppUrl(withoutHashUrl,this,appBase),this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")},this.$$rewrite=function(url){return stripHash(appBase)==stripHash(url)?url:void 0}}function LocationHashbangInHtml5Url(appBase,hashPrefix){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments);var appBaseNoFile=stripFile(appBase);this.$$rewrite=function(url){var appUrl;return appBase==stripHash(url)?url:(appUrl=beginsWith(appBaseNoFile,url))?appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"?appBaseNoFile:void 0},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+hashPrefix+this.$$url}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="",html5Mode=!1;this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isDefined(mode)?(html5Mode=mode,this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function($rootScope,$browser,$sniffer,$rootElement){function afterLocationChange(oldUrl){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();html5Mode?(appBase=serverBase(initialUrl)+(baseHref||"/"),LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url):(appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl),$location=new LocationMode(appBase,"#"+hashPrefix),$location.$$parse($location.$$rewrite(initialUrl));var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;$rootElement.on("click",function(event){if(!event.ctrlKey&&!event.metaKey&&2!=event.which){for(var elm=jqLite(event.target);"a"!==lowercase(elm[0].nodeName);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;var absHref=elm.prop("href");if(isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href),!IGNORE_URI_REGEXP.test(absHref)){if(LocationMode===LocationHashbangInHtml5Url){var href=elm.attr("href")||elm.attr("xlink:href");if(href&&href.indexOf("://")<0){var prefix="#"+hashPrefix;if("/"==href[0])absHref=appBase+prefix+href;else if("#"==href[0])absHref=appBase+prefix+($location.path()||"/")+href;else{var stack=$location.path().split("/"),parts=href.split("/");2!==stack.length||stack[1]||(stack.length=1);for(var i=0;i<parts.length;i++)"."!=parts[i]&&(".."==parts[i]?stack.pop():parts[i].length&&stack.push(parts[i]));absHref=appBase+prefix+stack.join("/")}}}var rewrittenUrl=$location.$$rewrite(absHref);absHref&&!elm.attr("target")&&rewrittenUrl&&!event.isDefaultPrevented()&&(event.preventDefault(),rewrittenUrl!=$browser.url()&&($location.$$parse(rewrittenUrl),$rootScope.$apply(),window.angular["ff-684208-preventDefault"]=!0))}}}),$location.absUrl()!=initialUrl&&$browser.url($location.absUrl(),!0),$browser.onUrlChange(function(newUrl){$location.absUrl()!=newUrl&&($rootScope.$evalAsync(function(){var oldUrl=$location.absUrl();$location.$$parse(newUrl),$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl).defaultPrevented?($location.$$parse(oldUrl),$browser.url(oldUrl)):afterLocationChange(oldUrl)
}),$rootScope.$$phase||$rootScope.$digest())});var changeCounter=0;return $rootScope.$watch(function(){var oldUrl=$browser.url(),currentReplace=$location.$$replace;return changeCounter&&oldUrl==$location.absUrl()||(changeCounter++,$rootScope.$evalAsync(function(){$rootScope.$broadcast("$locationChangeStart",$location.absUrl(),oldUrl).defaultPrevented?$location.$$parse(oldUrl):($browser.url($location.absUrl(),currentReplace),afterLocationChange(oldUrl))})),$location.$$replace=!1,changeCounter}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return arg instanceof Error&&(arg.stack?arg=arg.message&&-1===arg.stack.indexOf(arg.message)?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=!1;try{hasApply=!!logFn.apply}catch(e){}return hasApply?function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),logFn.apply(console,args)}:function(arg1,arg2){logFn(arg1,null==arg2?"":arg2)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function ensureSafeMemberName(name,fullExpression){if("__defineGetter__"===name||"__defineSetter__"===name||"__lookupGetter__"===name||"__lookupSetter__"===name||"__proto__"===name)throw $parseMinErr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",fullExpression);return name}function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.document&&obj.location&&obj.alert&&obj.setInterval)throw $parseMinErr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.children&&(obj.nodeName||obj.prop&&obj.attr&&obj.find))throw $parseMinErr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===Object)throw $parseMinErr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",fullExpression)}return obj}function ensureSafeFunction(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===CALL||obj===APPLY||BIND&&obj===BIND)throw $parseMinErr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",fullExpression)}}function setter(obj,path,setValue,fullExp,options){ensureSafeObject(obj,fullExp),options=options||{};for(var key,element=path.split("."),i=0;element.length>1;i++){key=ensureSafeMemberName(element.shift(),fullExp);var propertyObj=ensureSafeObject(obj[key],fullExp);propertyObj||(propertyObj={},obj[key]=propertyObj),obj=propertyObj,obj.then&&options.unwrapPromises&&(promiseWarning(fullExp),"$$v"in obj||!function(promise){promise.then(function(val){promise.$$v=val})}(obj),obj.$$v===undefined&&(obj.$$v={}),obj=obj.$$v)}return key=ensureSafeMemberName(element.shift(),fullExp),ensureSafeObject(obj[key],fullExp),obj[key]=setValue,setValue}function cspSafeGetterFn(key0,key1,key2,key3,key4,fullExp,options){return ensureSafeMemberName(key0,fullExp),ensureSafeMemberName(key1,fullExp),ensureSafeMemberName(key2,fullExp),ensureSafeMemberName(key3,fullExp),ensureSafeMemberName(key4,fullExp),options.unwrapPromises?function(scope,locals){var promise,pathVal=locals&&locals.hasOwnProperty(key0)?locals:scope;return null==pathVal?pathVal:(pathVal=pathVal[key0],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key1?null==pathVal?undefined:(pathVal=pathVal[key1],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key2?null==pathVal?undefined:(pathVal=pathVal[key2],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key3?null==pathVal?undefined:(pathVal=pathVal[key3],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key4?null==pathVal?undefined:(pathVal=pathVal[key4],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),pathVal):pathVal):pathVal):pathVal):pathVal)}:function(scope,locals){var pathVal=locals&&locals.hasOwnProperty(key0)?locals:scope;return null==pathVal?pathVal:(pathVal=pathVal[key0],key1?null==pathVal?undefined:(pathVal=pathVal[key1],key2?null==pathVal?undefined:(pathVal=pathVal[key2],key3?null==pathVal?undefined:(pathVal=pathVal[key3],key4?null==pathVal?undefined:pathVal=pathVal[key4]:pathVal):pathVal):pathVal):pathVal)}}function getterFn(path,options,fullExp){if(getterFnCache.hasOwnProperty(path))return getterFnCache[path];var fn,pathKeys=path.split("."),pathKeysLength=pathKeys.length;if(options.csp)fn=6>pathKeysLength?cspSafeGetterFn(pathKeys[0],pathKeys[1],pathKeys[2],pathKeys[3],pathKeys[4],fullExp,options):function(scope,locals){var val,i=0;do val=cspSafeGetterFn(pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],fullExp,options)(scope,locals),locals=undefined,scope=val;while(pathKeysLength>i);return val};else{var code="var p;\n";forEach(pathKeys,function(key,index){ensureSafeMemberName(key,fullExp),code+="if(s == null) return undefined;\ns="+(index?"s":'((k&&k.hasOwnProperty("'+key+'"))?k:s)')+'["'+key+'"];\n'+(options.unwrapPromises?'if (s && s.then) {\n pw("'+fullExp.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),code+="return s;";var evaledFnGetter=new Function("s","k","pw",code);evaledFnGetter.toString=valueFn(code),fn=options.unwrapPromises?function(scope,locals){return evaledFnGetter(scope,locals,promiseWarning)}:evaledFnGetter}return"hasOwnProperty"!==path&&(getterFnCache[path]=fn),fn}function $ParseProvider(){var cache={},$parseOptions={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(value){return isDefined(value)?($parseOptions.unwrapPromises=!!value,this):$parseOptions.unwrapPromises},this.logPromiseWarnings=function(value){return isDefined(value)?($parseOptions.logPromiseWarnings=value,this):$parseOptions.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function($filter,$sniffer,$log){return $parseOptions.csp=$sniffer.csp,promiseWarning=function(fullExp){$parseOptions.logPromiseWarnings&&!promiseWarningCache.hasOwnProperty(fullExp)&&(promiseWarningCache[fullExp]=!0,$log.warn("[$parse] Promise found in the expression `"+fullExp+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(exp){var parsedExpression;switch(typeof exp){case"string":if(cache.hasOwnProperty(exp))return cache[exp];var lexer=new Lexer($parseOptions),parser=new Parser(lexer,$filter,$parseOptions);return parsedExpression=parser.parse(exp),"hasOwnProperty"!==exp&&(cache[exp]=parsedExpression),parsedExpression;case"function":return exp;default:return noop}}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){function defaultCallback(value){return value}function defaultErrback(reason){return reject(reason)}function all(promises){var deferred=defer(),counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,ref(promise).then(function(value){results.hasOwnProperty(key)||(results[key]=value,--counter||deferred.resolve(results))},function(reason){results.hasOwnProperty(key)||deferred.reject(reason)})}),0===counter&&deferred.resolve(results),deferred.promise}var defer=function(){var value,deferred,pending=[];return deferred={resolve:function(val){if(pending){var callbacks=pending;pending=undefined,value=ref(val),callbacks.length&&nextTick(function(){for(var callback,i=0,ii=callbacks.length;ii>i;i++)callback=callbacks[i],value.then(callback[0],callback[1],callback[2])})}},reject:function(reason){deferred.resolve(createInternalRejectedPromise(reason))},notify:function(progress){if(pending){var callbacks=pending;pending.length&&nextTick(function(){for(var callback,i=0,ii=callbacks.length;ii>i;i++)callback=callbacks[i],callback[2](progress)})}},promise:{then:function(callback,errback,progressback){var result=defer(),wrappedCallback=function(value){try{result.resolve((isFunction(callback)?callback:defaultCallback)(value))}catch(e){result.reject(e),exceptionHandler(e)}},wrappedErrback=function(reason){try{result.resolve((isFunction(errback)?errback:defaultErrback)(reason))}catch(e){result.reject(e),exceptionHandler(e)}},wrappedProgressback=function(progress){try{result.notify((isFunction(progressback)?progressback:defaultCallback)(progress))}catch(e){exceptionHandler(e)}};return pending?pending.push([wrappedCallback,wrappedErrback,wrappedProgressback]):value.then(wrappedCallback,wrappedErrback,wrappedProgressback),result.promise},"catch":function(callback){return this.then(null,callback)},"finally":function(callback){function makePromise(value,resolved){var result=defer();return resolved?result.resolve(value):result.reject(value),result.promise}function handleCallback(value,isResolved){var callbackOutput=null;try{callbackOutput=(callback||defaultCallback)()}catch(e){return makePromise(e,!1)}return isPromiseLike(callbackOutput)?callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,!1)}):makePromise(value,isResolved)}return this.then(function(value){return handleCallback(value,!0)},function(error){return handleCallback(error,!1)})}}}},ref=function(value){return isPromiseLike(value)?value:{then:function(callback){var result=defer();return nextTick(function(){result.resolve(callback(value))}),result.promise}}},reject=function(reason){var result=defer();return result.reject(reason),result.promise},createInternalRejectedPromise=function(reason){return{then:function(callback,errback){var result=defer();return nextTick(function(){try{result.resolve((isFunction(errback)?errback:defaultErrback)(reason))}catch(e){result.reject(e),exceptionHandler(e)}}),result.promise}}},when=function(value,callback,errback,progressback){var done,result=defer(),wrappedCallback=function(value){try{return(isFunction(callback)?callback:defaultCallback)(value)}catch(e){return exceptionHandler(e),reject(e)}},wrappedErrback=function(reason){try{return(isFunction(errback)?errback:defaultErrback)(reason)}catch(e){return exceptionHandler(e),reject(e)}},wrappedProgressback=function(progress){try{return(isFunction(progressback)?progressback:defaultCallback)(progress)}catch(e){exceptionHandler(e)}};return nextTick(function(){ref(value).then(function(value){done||(done=!0,result.resolve(ref(value).then(wrappedCallback,wrappedErrback,wrappedProgressback)))},function(reason){done||(done=!0,result.resolve(wrappedErrback(reason)))},function(progress){done||result.notify(wrappedProgressback(progress))})}),result.promise};return{defer:defer,reject:reject,when:when,all:all}}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame||$window.mozRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.mozCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame,rafSupported=!!requestAnimationFrame,raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,!1);return function(){$timeout.cancel(timer)}};return raf.supported=rafSupported,raf}]}function $RootScopeProvider(){var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$injector","$exceptionHandler","$parse","$browser",function($injector,$exceptionHandler,$parse,$browser){function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function compileToFn(exp,name){var fn=$parse(exp);return assertArgFn(fn,name),fn}function decrementListenerCount(current,count,name){do current.$$listenerCount[name]-=count,0===current.$$listenerCount[name]&&delete current.$$listenerCount[name];while(current=current.$parent)}function initWatchVal(){}Scope.prototype={constructor:Scope,$new:function(isolate){var child;return isolate?(child=new Scope,child.$root=this.$root,child.$$asyncQueue=this.$$asyncQueue,child.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=nextUid(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),child=new this.$$childScopeClass),child["this"]=child,child.$parent=this,child.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=child,this.$$childTail=child):this.$$childHead=this.$$childTail=child,child},$watch:function(watchExp,listener,objectEquality){var scope=this,get=compileToFn(watchExp,"watch"),array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:watchExp,eq:!!objectEquality};if(lastDirtyWatch=null,!isFunction(listener)){var listenFn=compileToFn(listener||noop,"listener");watcher.fn=function(newVal,oldVal,scope){listenFn(scope)}}if("string"==typeof watchExp&&get.constant){var originalFn=watcher.fn;watcher.fn=function(newVal,oldVal,scope){originalFn.call(this,newVal,oldVal,scope),arrayRemove(array,watcher)}}return array||(array=scope.$$watchers=[]),array.unshift(watcher),function(){arrayRemove(array,watcher),lastDirtyWatch=null}},$watchCollection:function(obj,listener){function $watchCollectionWatch(){newValue=objGetter(self);var newLength,key,bothNaN;if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldValue=internalArray,oldLength=oldValue.length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);for(var i=0;newLength>i;i++)bothNaN=oldValue[i]!==oldValue[i]&&newValue[i]!==newValue[i],bothNaN||oldValue[i]===newValue[i]||(changeDetected++,oldValue[i]=newValue[i])}else{oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0;for(key in newValue)newValue.hasOwnProperty(key)&&(newLength++,oldValue.hasOwnProperty(key)?(bothNaN=oldValue[key]!==oldValue[key]&&newValue[key]!==newValue[key],bothNaN||oldValue[key]===newValue[key]||(changeDetected++,oldValue[key]=newValue[key])):(oldLength++,oldValue[key]=newValue[key],changeDetected++));if(oldLength>newLength){changeDetected++;for(key in oldValue)oldValue.hasOwnProperty(key)&&!newValue.hasOwnProperty(key)&&(oldLength--,delete oldValue[key])}}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}function $watchCollectionAction(){if(initRun?(initRun=!1,listener(newValue,newValue,self)):listener(newValue,veryOldValue,self),trackVeryOldValue)if(isObject(newValue))if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++)veryOldValue[i]=newValue[i]}else{veryOldValue={};for(var key in newValue)hasOwnProperty.call(newValue,key)&&(veryOldValue[key]=newValue[key])}else veryOldValue=newValue}var newValue,oldValue,veryOldValue,self=this,trackVeryOldValue=listener.length>1,changeDetected=0,objGetter=$parse(obj),internalArray=[],internalObject={},initRun=!0,oldLength=0;return this.$watch($watchCollectionWatch,$watchCollectionAction)},$digest:function(){var watch,value,last,watchers,length,dirty,next,current,logIdx,logMsg,asyncTask,asyncQueue=this.$$asyncQueue,postDigestQueue=this.$$postDigestQueue,ttl=TTL,target=this,watchLog=[];beginPhase("$digest"),$browser.$$checkUrlChange(),lastDirtyWatch=null;do{for(dirty=!1,current=target;asyncQueue.length;){try{asyncTask=asyncQueue.shift(),asyncTask.scope.$eval(asyncTask.expression)}catch(e){clearPhase(),$exceptionHandler(e)}lastDirtyWatch=null}traverseScopesLoop:do{if(watchers=current.$$watchers)for(length=watchers.length;length--;)try{if(watch=watchers[length])if((value=watch.get(current))===(last=watch.last)||(watch.eq?equals(value,last):"number"==typeof value&&"number"==typeof last&&isNaN(value)&&isNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else dirty=!0,lastDirtyWatch=watch,watch.last=watch.eq?copy(value,null):value,watch.fn(value,last===initWatchVal?value:last,current),5>ttl&&(logIdx=4-ttl,watchLog[logIdx]||(watchLog[logIdx]=[]),logMsg=isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,logMsg+="; newVal: "+toJson(value)+"; oldVal: "+toJson(last),watchLog[logIdx].push(logMsg))}catch(e){clearPhase(),$exceptionHandler(e)}if(!(next=current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--)throw clearPhase(),$rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,toJson(watchLog))}while(dirty||asyncQueue.length);for(clearPhase();postDigestQueue.length;)try{postDigestQueue.shift()()}catch(e){$exceptionHandler(e)}},$destroy:function(){if(!this.$$destroyed){var parent=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==$rootScope&&(forEach(this.$$listenerCount,bind(null,decrementListenerCount,this)),parent.$$childHead==this&&(parent.$$childHead=this.$$nextSibling),parent.$$childTail==this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=noop,this.$on=this.$watch=function(){return noop})}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr){$rootScope.$$phase||$rootScope.$$asyncQueue.length||$browser.defer(function(){$rootScope.$$asyncQueue.length&&$rootScope.$digest()}),this.$$asyncQueue.push({scope:this,expression:expr})},$$postDigest:function(fn){this.$$postDigestQueue.push(fn)},$apply:function(expr){try{return beginPhase("$apply"),this.$eval(expr)}catch(e){$exceptionHandler(e)}finally{clearPhase();try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$on:function(name,listener){var namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener);var current=this;do current.$$listenerCount[name]||(current.$$listenerCount[name]=0),current.$$listenerCount[name]++;while(current=current.$parent);var self=this;return function(){namedListeners[indexOf(namedListeners,listener)]=null,decrementListenerCount(self,1,name)}},$emit:function(name){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;length>i;i++)if(namedListeners[i])try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;if(stopPropagation)return event;scope=scope.$parent}while(scope);return event},$broadcast:function(name){for(var listeners,i,length,target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);current=next;){for(event.currentScope=current,listeners=current.$$listeners[name]||[],i=0,length=listeners.length;length>i;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}return event}};var $rootScope=new Scope;return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?(aHrefSanitizationWhitelist=regexp,this):aHrefSanitizationWhitelist},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?(imgSrcSanitizationWhitelist=regexp,this):imgSrcSanitizationWhitelist},this.$get=function(){return function(uri,isImage){var normalizedVal,regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;return msie&&!(msie>=8)||(normalizedVal=urlResolve(uri).href,""===normalizedVal||normalizedVal.match(regex))?uri:"unsafe:"+normalizedVal}}}function escapeForRegexp(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);return matcher=escapeForRegexp(matcher).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(matchers){var adjustedMatchers=[];return isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))}),adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){return arguments.length&&(resourceUrlWhitelist=adjustMatchers(value)),resourceUrlWhitelist},this.resourceUrlBlacklist=function(value){return arguments.length&&(resourceUrlBlacklist=adjustMatchers(value)),resourceUrlBlacklist},this.$get=["$injector",function($injector){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;n>i;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;n>i;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};return Base&&(holderType.prototype=new Base),holderType.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},holderType.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||trustedValue===undefined||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||maybeTrusted===undefined||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var htmlSanitizer=function(){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));var trustedValueHolderBase=generateHolderType(),byType={};return byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){return arguments.length&&(enabled=!!value),enabled},this.$get=["$parse","$sniffer","$sceDelegate",function($parse,$sniffer,$sceDelegate){if(enabled&&$sniffer.msie&&$sniffer.msieDocumentMode<8)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled},sce.trustAs=$sceDelegate.trustAs,sce.getTrusted=$sceDelegate.getTrusted,sce.valueOf=$sceDelegate.valueOf,enabled||(sce.trustAs=sce.getTrusted=function(type,value){return value},sce.valueOf=identity),sce.parseAs=function(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:function(self,locals){return sce.getTrusted(type,parsed(self,locals))}};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;return forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)},sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)},sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}}),sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var vendorPrefix,match,eventSupport={},android=int((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},documentMode=document.documentMode,vendorRegex=/^(Moz|webkit|O|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;if(bodyStyle){for(var prop in bodyStyle)if(match=vendorRegex.exec(prop)){vendorPrefix=match[0],vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break}vendorPrefix||(vendorPrefix="WebkitOpacity"in bodyStyle&&"webkit"),transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle),animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle),!android||transitions&&animations||(transitions=isString(document.body.style.webkitTransition),animations=isString(document.body.style.webkitAnimation))}return{history:!(!$window.history||!$window.history.pushState||4>android||boxee),hashchange:"onhashchange"in $window&&(!documentMode||documentMode>7),hasEvent:function(event){if("input"==event&&9==msie)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android,msie:msie,msieDocumentMode:documentMode}}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function($rootScope,$browser,$q,$exceptionHandler){function timeout(fn,delay,invokeApply){var timeoutId,deferred=$q.defer(),promise=deferred.promise,skipApply=isDefined(invokeApply)&&!invokeApply;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn())}catch(e){deferred.reject(e),$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay),promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise}var deferreds={};return timeout.cancel=function(promise){return promise&&promise.$$timeoutId in deferreds?(deferreds[promise.$$timeoutId].reject("canceled"),delete deferreds[promise.$$timeoutId],$browser.defer.cancel(promise.$$timeoutId)):!1},timeout}]}function urlResolve(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){var parsed=isString(requestUrl)?urlResolve(requestUrl):requestUrl;return parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host}function $WindowProvider(){this.$get=valueFn(window)}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};return forEach(name,function(filter,key){filters[key]=register(key,filter)}),filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator){if(!isArray(array))return array;var comparatorType=typeof comparator,predicates=[];predicates.check=function(value){for(var j=0;j<predicates.length;j++)if(!predicates[j](value))return!1;return!0},"function"!==comparatorType&&(comparator="boolean"===comparatorType&&comparator?function(obj,text){return angular.equals(obj,text)}:function(obj,text){if(obj&&text&&"object"==typeof obj&&"object"==typeof text){for(var objKey in obj)if("$"!==objKey.charAt(0)&&hasOwnProperty.call(obj,objKey)&&comparator(obj[objKey],text[objKey]))return!0;
return!1}return text=(""+text).toLowerCase(),(""+obj).toLowerCase().indexOf(text)>-1});var search=function(obj,text){if("string"==typeof text&&"!"===text.charAt(0))return!search(obj,text.substr(1));switch(typeof obj){case"boolean":case"number":case"string":return comparator(obj,text);case"object":switch(typeof text){case"object":return comparator(obj,text);default:for(var objKey in obj)if("$"!==objKey.charAt(0)&&search(obj[objKey],text))return!0}return!1;case"array":for(var i=0;i<obj.length;i++)if(search(obj[i],text))return!0;return!1;default:return!1}};switch(typeof expression){case"boolean":case"number":case"string":expression={$:expression};case"object":for(var key in expression)!function(path){"undefined"!=typeof expression[path]&&predicates.push(function(value){return search("$"==path?value:value&&value[path],expression[path])})}(key);break;case"function":predicates.push(expression);break;default:return array}for(var filtered=[],j=0;j<array.length;j++){var value=array[j];predicates.check(value)&&filtered.push(value)}return filtered}}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol){return isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,2).replace(/\u00A4/g,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(null==number||!isFinite(number)||isObject(number))return"";var isNegative=0>number;number=Math.abs(number);var numStr=number+"",formatedText="",parts=[],hasExponent=!1;if(-1!==numStr.indexOf("e")){var match=numStr.match(/([\d\.]+)e(-?)(\d+)/);match&&"-"==match[2]&&match[3]>fractionSize+1?(numStr="0",number=0):(formatedText=numStr,hasExponent=!0)}if(hasExponent)fractionSize>0&&number>-1&&1>number&&(formatedText=number.toFixed(fractionSize));else{var fractionLen=(numStr.split(DECIMAL_SEP)[1]||"").length;isUndefined(fractionSize)&&(fractionSize=Math.min(Math.max(pattern.minFrac,fractionLen),pattern.maxFrac)),number=+(Math.round(+(number.toString()+"e"+fractionSize)).toString()+"e"+-fractionSize),0===number&&(isNegative=!1);var fraction=(""+number).split(DECIMAL_SEP),whole=fraction[0];fraction=fraction[1]||"";var i,pos=0,lgroup=pattern.lgSize,group=pattern.gSize;if(whole.length>=lgroup+group)for(pos=whole.length-lgroup,i=0;pos>i;i++)(pos-i)%group===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(i=pos;i<whole.length;i++)(whole.length-i)%lgroup===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(;fraction.length<fractionSize;)fraction+="0";fractionSize&&"0"!==fractionSize&&(formatedText+=decimalSep+fraction.substr(0,fractionSize))}return parts.push(isNegative?pattern.negPre:pattern.posPre),parts.push(formatedText),parts.push(isNegative?pattern.negSuf:pattern.posSuf),parts.join("")}function padNumber(num,digits,trim){var neg="";for(0>num&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim){return offset=offset||0,function(date){var value=date["get"+name]();return(offset>0||value>-offset)&&(value+=offset),0===value&&-12==offset&&(value=12),padNumber(value,size,trim)}}function dateStrGetter(name,shortForm){return function(date,formats){var value=date["get"+name](),get=uppercase(shortForm?"SHORT"+name:name);return formats[get][value]}}function timeZoneGetter(date){var zone=-1*date.getTimezoneOffset(),paddedZone=zone>=0?"+":"";return paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=int(match[9]+match[10]),tzMin=int(match[9]+match[11])),dateSetter.call(date,int(match[1]),int(match[2])-1,int(match[3]));var h=int(match[4]||0)-tzHour,m=int(match[5]||0)-tzMin,s=int(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?int(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date))return date;for(;format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);return forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS):value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object){return toJson(object,!0)}}function limitToFilter(){return function(input,limit){if(!isArray(input)&&!isString(input))return input;if(limit=1/0===Math.abs(Number(limit))?Number(limit):int(limit),isString(input))return limit?limit>=0?input.slice(0,limit):input.slice(limit,input.length):"";var i,n,out=[];for(limit>input.length?limit=input.length:limit<-input.length&&(limit=-input.length),limit>0?(i=0,n=limit):(i=input.length+limit,n=input.length);n>i;i++)out.push(input[i]);return out}}function orderByFilter($parse){return function(array,sortPredicate,reverseOrder){function comparator(o1,o2){for(var i=0;i<sortPredicate.length;i++){var comp=sortPredicate[i](o1,o2);if(0!==comp)return comp}return 0}function reverseComparator(comp,descending){return toBoolean(descending)?function(a,b){return comp(b,a)}:comp}function compare(v1,v2){var t1=typeof v1,t2=typeof v2;return t1==t2?(isDate(v1)&&isDate(v2)&&(v1=v1.valueOf(),v2=v2.valueOf()),"string"==t1&&(v1=v1.toLowerCase(),v2=v2.toLowerCase()),v1===v2?0:v2>v1?-1:1):t2>t1?-1:1}if(!isArrayLike(array))return array;if(!sortPredicate)return array;sortPredicate=isArray(sortPredicate)?sortPredicate:[sortPredicate],sortPredicate=map(sortPredicate,function(predicate){var descending=!1,get=predicate||identity;if(isString(predicate)&&(("+"==predicate.charAt(0)||"-"==predicate.charAt(0))&&(descending="-"==predicate.charAt(0),predicate=predicate.substring(1)),get=$parse(predicate),get.constant)){var key=get();return reverseComparator(function(a,b){return compare(a[key],b[key])},descending)}return reverseComparator(function(a,b){return compare(get(a),get(b))},descending)});for(var arrayCopy=[],i=0;i<array.length;i++)arrayCopy.push(array[i]);return arrayCopy.sort(reverseComparator(comparator,reverseOrder))}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function FormController(element,attrs,$scope,$animate){function toggleValidCss(isValid,validationErrorKey){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",$animate.setClass(element,(isValid?VALID_CLASS:INVALID_CLASS)+validationErrorKey,(isValid?INVALID_CLASS:VALID_CLASS)+validationErrorKey)}var form=this,parentForm=element.parent().controller("form")||nullFormCtrl,invalidCount=0,errors=form.$error={},controls=[];form.$name=attrs.name||attrs.ngForm,form.$dirty=!1,form.$pristine=!0,form.$valid=!0,form.$invalid=!1,parentForm.$addControl(form),element.addClass(PRISTINE_CLASS),toggleValidCss(!0),form.$addControl=function(control){assertNotHasOwnProperty(control.$name,"input"),controls.push(control),control.$name&&(form[control.$name]=control)},form.$removeControl=function(control){control.$name&&form[control.$name]===control&&delete form[control.$name],forEach(errors,function(queue,validationToken){form.$setValidity(validationToken,!0,control)}),arrayRemove(controls,control)},form.$setValidity=function(validationToken,isValid,control){var queue=errors[validationToken];if(isValid)queue&&(arrayRemove(queue,control),queue.length||(invalidCount--,invalidCount||(toggleValidCss(isValid),form.$valid=!0,form.$invalid=!1),errors[validationToken]=!1,toggleValidCss(!0,validationToken),parentForm.$setValidity(validationToken,!0,form)));else{if(invalidCount||toggleValidCss(isValid),queue){if(includes(queue,control))return}else errors[validationToken]=queue=[],invalidCount++,toggleValidCss(!1,validationToken),parentForm.$setValidity(validationToken,!1,form);queue.push(control),form.$valid=!1,form.$invalid=!0}},form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS),$animate.addClass(element,DIRTY_CLASS),form.$dirty=!0,form.$pristine=!1,parentForm.$setDirty()},form.$setPristine=function(){$animate.removeClass(element,DIRTY_CLASS),$animate.addClass(element,PRISTINE_CLASS),form.$dirty=!1,form.$pristine=!0,forEach(controls,function(control){control.$setPristine()})}}function validate(ctrl,validatorName,validity,value){return ctrl.$setValidity(validatorName,validity),validity?value:undefined}function testFlags(validity,flags){var i,flag;if(flags)for(i=0;i<flags.length;++i)if(flag=flags[i],validity[flag])return!0;return!1}function addNativeHtml5Validators(ctrl,validatorName,badFlags,ignoreFlags,validity){if(isObject(validity)){ctrl.$$hasNativeValidators=!0;var validator=function(value){return ctrl.$error[validatorName]||testFlags(validity,ignoreFlags)||!testFlags(validity,badFlags)?value:void ctrl.$setValidity(validatorName,!1)};ctrl.$parsers.push(validator)}}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){var validity=element.prop(VALIDITY_STATE_PROPERTY),placeholder=element[0].placeholder,noevent={},type=lowercase(element[0].type);if(ctrl.$$validityState=validity,!$sniffer.android){var composing=!1;element.on("compositionstart",function(){composing=!0}),element.on("compositionend",function(){composing=!1,listener()})}var listener=function(ev){if(!composing){var value=element.val();if(msie&&"input"===(ev||noevent).type&&element[0].placeholder!==placeholder)return void(placeholder=element[0].placeholder);"password"!==type&&toBoolean(attr.ngTrim||"T")&&(value=trim(value));var revalidate=validity&&ctrl.$$hasNativeValidators;(ctrl.$viewValue!==value||""===value&&revalidate)&&(scope.$root.$$phase?ctrl.$setViewValue(value):scope.$apply(function(){ctrl.$setViewValue(value)}))}};if($sniffer.hasEvent("input"))element.on("input",listener);else{var timeout,deferListener=function(){timeout||(timeout=$browser.defer(function(){listener(),timeout=null}))};element.on("keydown",function(event){var key=event.keyCode;91===key||key>15&&19>key||key>=37&&40>=key||deferListener()}),$sniffer.hasEvent("paste")&&element.on("paste cut",deferListener)}element.on("change",listener),ctrl.$render=function(){element.val(ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue)};var patternValidator,match,pattern=attr.ngPattern;if(pattern){var validateRegex=function(regexp,value){return validate(ctrl,"pattern",ctrl.$isEmpty(value)||regexp.test(value),value)};match=pattern.match(/^\/(.*)\/([gim]*)$/),match?(pattern=new RegExp(match[1],match[2]),patternValidator=function(value){return validateRegex(pattern,value)}):patternValidator=function(value){var patternObj=scope.$eval(pattern);if(!patternObj||!patternObj.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",pattern,patternObj,startingTag(element));return validateRegex(patternObj,value)},ctrl.$formatters.push(patternValidator),ctrl.$parsers.push(patternValidator)}if(attr.ngMinlength){var minlength=int(attr.ngMinlength),minLengthValidator=function(value){return validate(ctrl,"minlength",ctrl.$isEmpty(value)||value.length>=minlength,value)};ctrl.$parsers.push(minLengthValidator),ctrl.$formatters.push(minLengthValidator)}if(attr.ngMaxlength){var maxlength=int(attr.ngMaxlength),maxLengthValidator=function(value){return validate(ctrl,"maxlength",ctrl.$isEmpty(value)||value.length<=maxlength,value)};ctrl.$parsers.push(maxLengthValidator),ctrl.$formatters.push(maxLengthValidator)}}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){if(textInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$parsers.push(function(value){var empty=ctrl.$isEmpty(value);return empty||NUMBER_REGEXP.test(value)?(ctrl.$setValidity("number",!0),""===value?null:empty?value:parseFloat(value)):(ctrl.$setValidity("number",!1),undefined)}),addNativeHtml5Validators(ctrl,"number",numberBadFlags,null,ctrl.$$validityState),ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?"":""+value}),attr.min){var minValidator=function(value){var min=parseFloat(attr.min);return validate(ctrl,"min",ctrl.$isEmpty(value)||value>=min,value)};ctrl.$parsers.push(minValidator),ctrl.$formatters.push(minValidator)}if(attr.max){var maxValidator=function(value){var max=parseFloat(attr.max);return validate(ctrl,"max",ctrl.$isEmpty(value)||max>=value,value)};ctrl.$parsers.push(maxValidator),ctrl.$formatters.push(maxValidator)}ctrl.$formatters.push(function(value){return validate(ctrl,"number",ctrl.$isEmpty(value)||isNumber(value),value)})}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){textInputType(scope,element,attr,ctrl,$sniffer,$browser);var urlValidator=function(value){return validate(ctrl,"url",ctrl.$isEmpty(value)||URL_REGEXP.test(value),value)};ctrl.$formatters.push(urlValidator),ctrl.$parsers.push(urlValidator)}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){textInputType(scope,element,attr,ctrl,$sniffer,$browser);var emailValidator=function(value){return validate(ctrl,"email",ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value),value)};ctrl.$formatters.push(emailValidator),ctrl.$parsers.push(emailValidator)}function radioInputType(scope,element,attr,ctrl){isUndefined(attr.name)&&element.attr("name",nextUid()),element.on("click",function(){element[0].checked&&scope.$apply(function(){ctrl.$setViewValue(attr.value)})}),ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function checkboxInputType(scope,element,attr,ctrl){var trueValue=attr.ngTrueValue,falseValue=attr.ngFalseValue;isString(trueValue)||(trueValue=!0),isString(falseValue)||(falseValue=!1),element.on("click",function(){scope.$apply(function(){ctrl.$setViewValue(element[0].checked)})}),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$isEmpty=function(value){return value!==trueValue},ctrl.$formatters.push(function(value){return value===trueValue}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){return name="ngClass"+name,["$animate",function($animate){function arrayDifference(tokens1,tokens2){var values=[];outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values.push(token)}return values}function arrayClasses(classVal){if(isArray(classVal))return classVal;if(isString(classVal))return classVal.split(" ");if(isObject(classVal)){var classes=[];return forEach(classVal,function(v,k){v&&(classes=classes.concat(k.split(" ")))}),classes}return classVal}return{restrict:"AC",link:function(scope,element,attr){function addClasses(classes){var newClasses=digestClassCounts(classes,1);attr.$addClass(newClasses)}function removeClasses(classes){var newClasses=digestClassCounts(classes,-1);attr.$removeClass(newClasses)}function digestClassCounts(classes,count){var classCounts=element.data("$classCounts")||{},classesToUpdate=[];return forEach(classes,function(className){(count>0||classCounts[className])&&(classCounts[className]=(classCounts[className]||0)+count,classCounts[className]===+(count>0)&&classesToUpdate.push(className))}),element.data("$classCounts",classCounts),classesToUpdate.join(" ")}function updateClasses(oldClasses,newClasses){var toAdd=arrayDifference(newClasses,oldClasses),toRemove=arrayDifference(oldClasses,newClasses);toRemove=digestClassCounts(toRemove,-1),toAdd=digestClassCounts(toAdd,1),0===toAdd.length?$animate.removeClass(element,toRemove):0===toRemove.length?$animate.addClass(element,toAdd):$animate.setClass(element,toAdd,toRemove)}function ngClassWatchAction(newVal){if(selector===!0||scope.$index%2===selector){var newClasses=arrayClasses(newVal||[]);if(oldVal){if(!equals(newVal,oldVal)){var oldClasses=arrayClasses(oldVal);updateClasses(oldClasses,newClasses)}}else addClasses(newClasses)}oldVal=shallowCopy(newVal)}var oldVal;scope.$watch(attr[name],ngClassWatchAction,!0),attr.$observe("class",function(){ngClassWatchAction(scope.$eval(attr[name]))}),"ngClass"!==name&&scope.$watch("$index",function($index,old$index){var mod=1&$index;if(mod!==(1&old$index)){var classes=arrayClasses(scope.$eval(attr[name]));mod===selector?addClasses(classes):removeClasses(classes)}})}}}]}var VALIDITY_STATE_PROPERTY="validity",lowercase=function(string){return isString(string)?string.toLowerCase():string},hasOwnProperty=Object.prototype.hasOwnProperty,uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(-33&ch.charCodeAt(0))}):s};"i"!=="I".toLowerCase()&&(lowercase=manualLowercase,uppercase=manualUppercase);var msie,jqLite,jQuery,angularModule,nodeName_,slice=[].slice,push=[].push,toString=Object.prototype.toString,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),uid=["0","0","0"];msie=int((/msie (\d+)/.exec(lowercase(navigator.userAgent))||[])[1]),isNaN(msie)&&(msie=int((/trident\/.*; rv:(\d+)/.exec(lowercase(navigator.userAgent))||[])[1])),noop.$inject=[],identity.$inject=[];var isArray=function(){return isFunction(Array.isArray)?Array.isArray:function(value){return"[object Array]"===toString.call(value)}}(),trim=function(){return String.prototype.trim?function(value){return isString(value)?value.trim():value}:function(value){return isString(value)?value.replace(/^\s\s*/,"").replace(/\s\s*$/,""):value}}();nodeName_=9>msie?function(element){return element=element.nodeName?element:element[0],element.scopeName&&"HTML"!=element.scopeName?uppercase(element.scopeName+":"+element.nodeName):element.nodeName}:function(element){return element.nodeName?element.nodeName:element[0].nodeName};var csp=function(){if(isDefined(csp.isActive_))return csp.isActive_;var active=!(!document.querySelector("[ng-csp]")&&!document.querySelector("[data-ng-csp]"));if(!active)try{new Function("")}catch(e){active=!0}return csp.isActive_=active},SNAKE_CASE_REGEXP=/[A-Z]/g,version={full:"1.2.26",major:1,minor:2,dot:26,codeName:"captivating-disinterest"};JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1,addEventListenerFn=window.document.addEventListener?function(element,type,fn){element.addEventListener(type,fn,!1)}:function(element,type,fn){element.attachEvent("on"+type,fn)},removeEventListenerFn=window.document.removeEventListener?function(element,type,fn){element.removeEventListener(type,fn,!1)}:function(element,type,fn){element.detachEvent("on"+type,fn)},SPECIAL_CHARS_REGEXP=(JQLite._data=function(node){return this.cache[node[this.expando]]||{}},/([\:\-\_]+(.))/g),MOZ_HACK_REGEXP=/^moz([A-Z])/,jqLiteMinErr=minErr("jqLite"),SINGLE_TAG_REGEXP=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,HTML_REGEXP=/<|&#?\w+;/,TAG_NAME_REGEXP=/<([\w:]+)/,XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var JQLitePrototype=JQLite.prototype={ready:function(fn){function trigger(){fired||(fired=!0,fn())}var fired=!1;"complete"===document.readyState?setTimeout(trigger):(this.on("DOMContentLoaded",trigger),JQLite(window).on("load",trigger))},toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return jqLite(index>=0?this[index]:this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[uppercase(value)]=!0}),forEach({data:jqLiteData,removeData:jqLiteRemoveData},function(fn,name){JQLite[name]=fn}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){if(name=camelCase(name),!isDefined(value)){var val;return 8>=msie&&(val=element.currentStyle&&element.currentStyle[name],""===val&&(val="auto")),val=val||element.style[name],8>=msie&&(val=""===val?undefined:val),val}element.style[name]=value},attr:function(element,name,value){var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(!isDefined(value))return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined;value?(element[name]=!0,element.setAttribute(name,lowercasedName)):(element[name]=!1,element.removeAttribute(lowercasedName))}else if(isDefined(value))element.setAttribute(name,value);else if(element.getAttribute){var ret=element.getAttribute(name,2);return null===ret?undefined:ret}},prop:function(element,name,value){return isDefined(value)?void(element[name]=value):element[name]},text:function(){function getText(element,value){var textProp=NODE_TYPE_TEXT_PROPERTY[element.nodeType];return isUndefined(value)?textProp?element[textProp]:"":void(element[textProp]=value)}var NODE_TYPE_TEXT_PROPERTY=[];return 9>msie?(NODE_TYPE_TEXT_PROPERTY[1]="innerText",NODE_TYPE_TEXT_PROPERTY[3]="nodeValue"):NODE_TYPE_TEXT_PROPERTY[1]=NODE_TYPE_TEXT_PROPERTY[3]="textContent",getText.$dv="",getText}(),val:function(element,value){if(isUndefined(value)){if("SELECT"===nodeName_(element)&&element.multiple){var result=[];return forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)}),0===result.length?null:result}return element.value}element.value=value},html:function(element,value){if(isUndefined(value))return element.innerHTML;for(var i=0,childNodes=element.childNodes;i<childNodes.length;i++)jqLiteDealoc(childNodes[i]);element.innerHTML=value},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key,nodeCount=this.length;if(fn!==jqLiteEmpty&&(2==fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)===undefined){if(isObject(arg1)){for(i=0;nodeCount>i;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}for(var value=fn.$dv,jj=value===undefined?Math.min(nodeCount,1):nodeCount,j=0;jj>j;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;nodeCount>i;i++)fn(this[i],arg1,arg2);return this}}),forEach({removeData:jqLiteRemoveData,dealoc:jqLiteDealoc,on:function onFn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var events=jqLiteExpandoStore(element,"events"),handle=jqLiteExpandoStore(element,"handle");events||jqLiteExpandoStore(element,"events",events={}),handle||jqLiteExpandoStore(element,"handle",handle=createEventHandler(element,events)),forEach(type.split(" "),function(type){var eventFns=events[type];if(!eventFns){if("mouseenter"==type||"mouseleave"==type){var contains=document.body.contains||document.body.compareDocumentPosition?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};events[type]=[];var eventmap={mouseleave:"mouseout",mouseenter:"mouseover"};onFn(element,eventmap[type],function(event){var target=this,related=event.relatedTarget;(!related||related!==target&&!contains(target,related))&&handle(event,type)})}else addEventListenerFn(element,type,handle),events[type]=[];eventFns=events[type]}eventFns.push(fn)})},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element),element.on(type,function onFn(){element.off(type,fn),element.off(type,onFn)}),element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){1===element.nodeType&&children.push(element)}),children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){forEach(new JQLite(node),function(child){(1===element.nodeType||11===element.nodeType)&&element.appendChild(child)})},prepend:function(element,node){if(1===element.nodeType){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){wrapNode=jqLite(wrapNode)[0];var parent=element.parentNode;parent&&parent.replaceChild(wrapNode,element),wrapNode.appendChild(element)},remove:function(element){jqLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)},after:function(element,newElement){var index=element,parent=element.parentNode;forEach(new JQLite(newElement),function(node){parent.insertBefore(node,index.nextSibling),index=node})},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){selector&&forEach(selector.split(" "),function(className){var classCondition=condition;isUndefined(classCondition)&&(classCondition=!jqLiteHasClass(element,className)),(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})},parent:function(element){var parent=element.parentNode;return parent&&11!==parent.nodeType?parent:null},next:function(element){if(element.nextElementSibling)return element.nextElementSibling;for(var elm=element.nextSibling;null!=elm&&1!==elm.nodeType;)elm=elm.nextSibling;return elm},find:function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs,eventName=event.type||event,eventFns=(jqLiteExpandoStore(element,"events")||{})[eventName];eventFns&&(dummyEvent={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopPropagation:noop,type:eventName,target:element},event.type&&(dummyEvent=extend(dummyEvent,event)),eventFnsCopy=shallowCopy(eventFns),handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent],forEach(eventFnsCopy,function(fn){fn.apply(element,handlerArgs)}))}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){for(var value,i=0;i<this.length;i++)isUndefined(value)?(value=fn(this[i],arg1,arg2,arg3),isDefined(value)&&(value=jqLite(value))):jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this},JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off}),HashMap.prototype={put:function(key,value){this[hashKey(key,this.nextUid)]=value},get:function(key){return this[hashKey(key,this.nextUid)]},remove:function(key){var value=this[key=hashKey(key,this.nextUid)];return delete this[key],value}};var FN_ARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$injectorMinErr=minErr("$injector"),$animateMinErr=minErr("$animate"),$AnimateProvider=["$provide",function($provide){this.$$selectors={},this.register=function(name,factory){var key=name+"-animation";if(name&&"."!=name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);this.$$selectors[name.substr(1)]=key,$provide.factory(key,factory)},this.classNameFilter=function(expression){return 1===arguments.length&&(this.$$classNameFilter=expression instanceof RegExp?expression:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function($timeout,$$asyncCallback){function async(fn){fn&&$$asyncCallback(fn)}return{enter:function(element,parent,after,done){after?after.after(element):(parent&&parent[0]||(parent=after.parent()),parent.append(element)),async(done)},leave:function(element,done){element.remove(),async(done)},move:function(element,parent,after,done){this.enter(element,parent,after,done)},addClass:function(element,className,done){className=isString(className)?className:isArray(className)?className.join(" "):"",forEach(element,function(element){jqLiteAddClass(element,className)}),async(done)},removeClass:function(element,className,done){className=isString(className)?className:isArray(className)?className.join(" "):"",forEach(element,function(element){jqLiteRemoveClass(element,className)}),async(done)},setClass:function(element,add,remove,done){forEach(element,function(element){jqLiteAddClass(element,add),jqLiteRemoveClass(element,remove)}),async(done)},enabled:noop}}]}],$compileMinErr=minErr("$compile");$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];var PREFIX_REGEXP=/^(x[\:\-_]|data[\:\-_])/i,$interpolateMinErr=minErr("$interpolate"),PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21},$locationMinErr=minErr("$location");LocationHashbangInHtml5Url.prototype=LocationHashbangUrl.prototype=LocationHtml5Url.prototype={$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return match[1]&&this.path(decodeURIComponent(match[1])),(match[2]||match[1])&&this.search(match[3]||""),this.hash(match[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return path=path?path.toString():"","/"==path.charAt(0)?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search))search=search.toString(),this.$$search=parseKeyValue(search);else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");forEach(search,function(value,key){null==value&&delete search[key]}),this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(hash){return hash?hash.toString():""}),replace:function(){return this.$$replace=!0,this}};
var promiseWarning,$parseMinErr=minErr("$parse"),promiseWarningCache={},CALL=Function.prototype.call,APPLY=Function.prototype.apply,BIND=Function.prototype.bind,OPERATORS={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:noop,"+":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),isDefined(a)?isDefined(b)?a+b:a:isDefined(b)?b:undefined},"-":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),(isDefined(a)?a:0)-(isDefined(b)?b:0)},"*":function(self,locals,a,b){return a(self,locals)*b(self,locals)},"/":function(self,locals,a,b){return a(self,locals)/b(self,locals)},"%":function(self,locals,a,b){return a(self,locals)%b(self,locals)},"^":function(self,locals,a,b){return a(self,locals)^b(self,locals)},"=":noop,"===":function(self,locals,a,b){return a(self,locals)===b(self,locals)},"!==":function(self,locals,a,b){return a(self,locals)!==b(self,locals)},"==":function(self,locals,a,b){return a(self,locals)==b(self,locals)},"!=":function(self,locals,a,b){return a(self,locals)!=b(self,locals)},"<":function(self,locals,a,b){return a(self,locals)<b(self,locals)},">":function(self,locals,a,b){return a(self,locals)>b(self,locals)},"<=":function(self,locals,a,b){return a(self,locals)<=b(self,locals)},">=":function(self,locals,a,b){return a(self,locals)>=b(self,locals)},"&&":function(self,locals,a,b){return a(self,locals)&&b(self,locals)},"||":function(self,locals,a,b){return a(self,locals)||b(self,locals)},"&":function(self,locals,a,b){return a(self,locals)&b(self,locals)},"|":function(self,locals,a,b){return b(self,locals)(self,locals,a(self,locals))},"!":function(self,locals,a){return!a(self,locals)}},ESCAPE={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Lexer=function(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){for(this.text=text,this.index=0,this.ch=undefined,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var ch2=this.ch+this.peek(),ch3=ch2+this.peek(2),fn=OPERATORS[this.ch],fn2=OPERATORS[ch2],fn3=OPERATORS[ch3];fn3?(this.tokens.push({index:this.index,text:ch3,fn:fn3}),this.index+=3):fn2?(this.tokens.push({index:this.index,text:ch2,fn:fn2}),this.index+=2):fn?(this.tokens.push({index:this.index,text:this.ch,fn:fn}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(chars){return-1!==chars.indexOf(this.ch)},was:function(chars){return-1!==chars.indexOf(this.lastCh)},peek:function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):!1},isNumber:function(ch){return ch>="0"&&"9">=ch},isWhitespace:function(ch){return" "===ch||"\r"===ch||"	"===ch||"\n"===ch||""===ch||" "===ch},isIdent:function(ch){return ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch||"_"===ch||"$"===ch},isExpOperator:function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){for(var number="",start=this.index;this.index<this.text.length;){var ch=lowercase(this.text.charAt(this.index));if("."==ch||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if("e"==ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"==number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!=number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}number=1*number,this.tokens.push({index:start,text:number,literal:!0,constant:!0,fn:function(){return number}})},readIdent:function(){for(var lastDot,peekIndex,methodName,ch,parser=this,ident="",start=this.index;this.index<this.text.length&&(ch=this.text.charAt(this.index),"."===ch||this.isIdent(ch)||this.isNumber(ch));)"."===ch&&(lastDot=this.index),ident+=ch,this.index++;if(lastDot)for(peekIndex=this.index;peekIndex<this.text.length;){if(ch=this.text.charAt(peekIndex),"("===ch){methodName=ident.substr(lastDot-start+1),ident=ident.substr(0,lastDot-start),this.index=peekIndex;break}if(!this.isWhitespace(ch))break;peekIndex++}var token={index:start,text:ident};if(OPERATORS.hasOwnProperty(ident))token.fn=OPERATORS[ident],token.literal=!0,token.constant=!0;else{var getter=getterFn(ident,this.options,this.text);token.fn=extend(function(self,locals){return getter(self,locals)},{assign:function(self,value){return setter(self,ident,value,parser.text,parser.options)}})}this.tokens.push(token),methodName&&(this.tokens.push({index:lastDot,text:"."}),this.tokens.push({index:lastDot+1,text:methodName}))},readString:function(quote){var start=this.index;this.index++;for(var string="",rawString=quote,escape=!1;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(rawString+=ch,escape){if("u"===ch){var hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]"),this.index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string+=rep||ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote)return this.index++,void this.tokens.push({index:start,text:rawString,string:string,literal:!0,constant:!0,fn:function(){return string}});string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var Parser=function(lexer,$filter,options){this.lexer=lexer,this.$filter=$filter,this.options=options};Parser.ZERO=extend(function(){return 0},{constant:!0}),Parser.prototype={constructor:Parser,parse:function(text){this.text=text,this.tokens=this.lexer.lex(text);var value=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),value.literal=!!value.literal,value.constant=!!value.constant,value},primary:function(){var primary;if(this.expect("("))primary=this.filterChain(),this.consume(")");else if(this.expect("["))primary=this.arrayDeclaration();else if(this.expect("{"))primary=this.object();else{var token=this.expect();primary=token.fn,primary||this.throwError("not a primary expression",token),primary.literal=!!token.literal,primary.constant=!!token.constant}for(var next,context;next=this.expect("(","[",".");)"("===next.text?(primary=this.functionCall(primary,context),context=null):"["===next.text?(context=primary,primary=this.objectIndex(primary)):"."===next.text?(context=primary,primary=this.fieldAccess(primary)):this.throwError("IMPOSSIBLE");return primary},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},peekToken:function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){if(this.tokens.length>0){var token=this.tokens[0],t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);return token?(this.tokens.shift(),token):!1},consume:function(e1){this.expect(e1)||this.throwError("is unexpected, expecting ["+e1+"]",this.peek())},unaryFn:function(fn,right){return extend(function(self,locals){return fn(self,locals,right)},{constant:right.constant})},ternaryFn:function(left,middle,right){return extend(function(self,locals){return left(self,locals)?middle(self,locals):right(self,locals)},{constant:left.constant&&middle.constant&&right.constant})},binaryFn:function(left,fn,right){return extend(function(self,locals){return fn(self,locals,left,right)},{constant:left.constant&&right.constant})},statements:function(){for(var statements=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&statements.push(this.filterChain()),!this.expect(";"))return 1===statements.length?statements[0]:function(self,locals){for(var value,i=0;i<statements.length;i++){var statement=statements[i];statement&&(value=statement(self,locals))}return value}},filterChain:function(){for(var token,left=this.expression();;){if(!(token=this.expect("|")))return left;left=this.binaryFn(left,token.fn,this.filter())}},filter:function(){for(var token=this.expect(),fn=this.$filter(token.text),argsFn=[];;){if(!(token=this.expect(":"))){var fnInvoke=function(self,locals,input){for(var args=[input],i=0;i<argsFn.length;i++)args.push(argsFn[i](self,locals));return fn.apply(self,args)};return function(){return fnInvoke}}argsFn.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var right,token,left=this.ternary();return(token=this.expect("="))?(left.assign||this.throwError("implies assignment but ["+this.text.substring(0,token.index)+"] can not be assigned to",token),right=this.ternary(),function(scope,locals){return left.assign(scope,right(scope,locals),locals)}):left},ternary:function(){var middle,token,left=this.logicalOR();return(token=this.expect("?"))?(middle=this.assignment(),(token=this.expect(":"))?this.ternaryFn(left,middle,this.assignment()):void this.throwError("expected :",token)):left},logicalOR:function(){for(var token,left=this.logicalAND();;){if(!(token=this.expect("||")))return left;left=this.binaryFn(left,token.fn,this.logicalAND())}},logicalAND:function(){var token,left=this.equality();return(token=this.expect("&&"))&&(left=this.binaryFn(left,token.fn,this.logicalAND())),left},equality:function(){var token,left=this.relational();return(token=this.expect("==","!=","===","!=="))&&(left=this.binaryFn(left,token.fn,this.equality())),left},relational:function(){var token,left=this.additive();return(token=this.expect("<",">","<=",">="))&&(left=this.binaryFn(left,token.fn,this.relational())),left},additive:function(){for(var token,left=this.multiplicative();token=this.expect("+","-");)left=this.binaryFn(left,token.fn,this.multiplicative());return left},multiplicative:function(){for(var token,left=this.unary();token=this.expect("*","/","%");)left=this.binaryFn(left,token.fn,this.unary());return left},unary:function(){var token;return this.expect("+")?this.primary():(token=this.expect("-"))?this.binaryFn(Parser.ZERO,token.fn,this.unary()):(token=this.expect("!"))?this.unaryFn(token.fn,this.unary()):this.primary()},fieldAccess:function(object){var parser=this,field=this.expect().text,getter=getterFn(field,this.options,this.text);return extend(function(scope,locals,self){return getter(self||object(scope,locals))},{assign:function(scope,value,locals){var o=object(scope,locals);return o||object.assign(scope,o={}),setter(o,field,value,parser.text,parser.options)}})},objectIndex:function(obj){var parser=this,indexFn=this.expression();return this.consume("]"),extend(function(self,locals){var v,p,o=obj(self,locals),i=indexFn(self,locals);return ensureSafeMemberName(i,parser.text),o?(v=ensureSafeObject(o[i],parser.text),v&&v.then&&parser.options.unwrapPromises&&(p=v,"$$v"in v||(p.$$v=undefined,p.then(function(val){p.$$v=val})),v=v.$$v),v):undefined},{assign:function(self,value,locals){var key=ensureSafeMemberName(indexFn(self,locals),parser.text),o=ensureSafeObject(obj(self,locals),parser.text);return o||obj.assign(self,o={}),o[key]=value}})},functionCall:function(fn,contextGetter){var argsFn=[];if(")"!==this.peekToken().text)do argsFn.push(this.expression());while(this.expect(","));this.consume(")");var parser=this;return function(scope,locals){for(var args=[],context=contextGetter?contextGetter(scope,locals):scope,i=0;i<argsFn.length;i++)args.push(ensureSafeObject(argsFn[i](scope,locals),parser.text));var fnPtr=fn(scope,locals,context)||noop;ensureSafeObject(context,parser.text),ensureSafeFunction(fnPtr,parser.text);var v=fnPtr.apply?fnPtr.apply(context,args):fnPtr(args[0],args[1],args[2],args[3],args[4]);return ensureSafeObject(v,parser.text)}},arrayDeclaration:function(){var elementFns=[],allConstant=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var elementFn=this.expression();elementFns.push(elementFn),elementFn.constant||(allConstant=!1)}while(this.expect(","));return this.consume("]"),extend(function(self,locals){for(var array=[],i=0;i<elementFns.length;i++)array.push(elementFns[i](self,locals));return array},{literal:!0,constant:allConstant})},object:function(){var keyValues=[],allConstant=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var token=this.expect(),key=token.string||token.text;this.consume(":");var value=this.expression();keyValues.push({key:key,value:value}),value.constant||(allConstant=!1)}while(this.expect(","));return this.consume("}"),extend(function(self,locals){for(var object={},i=0;i<keyValues.length;i++){var keyValue=keyValues[i];object[keyValue.key]=keyValue.value(self,locals)}return object},{literal:!0,constant:allConstant})}};var getterFnCache={},$sceMinErr=minErr("$sce"),SCE_CONTEXTS={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},urlParsingNode=document.createElement("a"),originUrl=urlResolve(window.location.href,!0);$FilterProvider.$inject=["$provide"],currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var DECIMAL_SEP=".",DATE_FORMATS={yyyy:dateGetter("FullYear",4),yy:dateGetter("FullYear",2,0,!0),y:dateGetter("FullYear",1),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter},DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){return 8>=msie&&(attr.href||attr.name||attr.$set("href",""),element.append(document.createComment("IE fix"))),attr.href||attr.xlinkHref||attr.name?void 0:function(scope,element){var href="[object SVGAnimatedString]"===toString.call(element.prop("href"))?"xlink:href":"href";element.on("click",function(event){element.attr(href)||event.preventDefault()})}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if("multiple"!=propName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:100,link:function(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;"href"===attrName&&"[object SVGAnimatedString]"===toString.call(element.prop("href"))&&(name="xlinkHref",attr.$attr[name]="xlink:href",propName=null),attr.$observe(normalized,function(value){return value?(attr.$set(name,value),void(msie&&propName&&element.prop(propName,attr[name]))):void("href"===attrName&&attr.$set(name,null))})}}}});var nullFormCtrl={$addControl:noop,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop};FormController.$inject=["$element","$attrs","$scope","$animate"];var formDirectiveFactory=function(isNgForm){return["$timeout",function($timeout){var formDirective={name:"form",restrict:isNgForm?"EAC":"E",controller:FormController,compile:function(){return{pre:function(scope,formElement,attr,controller){if(!attr.action){var preventDefaultListener=function(event){event.preventDefault?event.preventDefault():event.returnValue=!1};addEventListenerFn(formElement[0],"submit",preventDefaultListener),formElement.on("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",preventDefaultListener)},0,!1)})}var parentFormCtrl=formElement.parent().controller("form"),alias=attr.name||attr.ngForm;alias&&setter(scope,alias,controller,alias),parentFormCtrl&&formElement.on("$destroy",function(){parentFormCtrl.$removeControl(controller),alias&&setter(scope,alias,undefined,alias),extend(controller,nullFormCtrl)})}}}};return formDirective}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,EMAIL_REGEXP=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,inputType={text:textInputType,number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},numberBadFlags=["badInput"],inputDirective=["$browser","$sniffer",function($browser,$sniffer){return{restrict:"E",require:"?ngModel",link:function(scope,element,attr,ctrl){ctrl&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrl,$sniffer,$browser)}}}],VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function($scope,$exceptionHandler,$attr,$element,$parse,$animate){function toggleValidCss(isValid,validationErrorKey){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",$animate.removeClass($element,(isValid?INVALID_CLASS:VALID_CLASS)+validationErrorKey),$animate.addClass($element,(isValid?VALID_CLASS:INVALID_CLASS)+validationErrorKey)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=$attr.name;var ngModelGet=$parse($attr.ngModel),ngModelSet=ngModelGet.assign;if(!ngModelSet)throw minErr("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element));this.$render=noop,this.$isEmpty=function(value){return isUndefined(value)||""===value||null===value||value!==value};var parentForm=$element.inheritedData("$formController")||nullFormCtrl,invalidCount=0,$error=this.$error={};$element.addClass(PRISTINE_CLASS),toggleValidCss(!0),this.$setValidity=function(validationErrorKey,isValid){$error[validationErrorKey]!==!isValid&&(isValid?($error[validationErrorKey]&&invalidCount--,invalidCount||(toggleValidCss(!0),this.$valid=!0,this.$invalid=!1)):(toggleValidCss(!1),this.$invalid=!0,this.$valid=!1,invalidCount++),$error[validationErrorKey]=!isValid,toggleValidCss(isValid,validationErrorKey),parentForm.$setValidity(validationErrorKey,isValid,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,$animate.removeClass($element,DIRTY_CLASS),$animate.addClass($element,PRISTINE_CLASS)},this.$setViewValue=function(value){this.$viewValue=value,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,$animate.removeClass($element,PRISTINE_CLASS),$animate.addClass($element,DIRTY_CLASS),parentForm.$setDirty()),forEach(this.$parsers,function(fn){value=fn(value)}),this.$modelValue!==value&&(this.$modelValue=value,ngModelSet($scope,value),forEach(this.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}}))};var ctrl=this;$scope.$watch(function(){var value=ngModelGet($scope);if(ctrl.$modelValue!==value){var formatters=ctrl.$formatters,idx=formatters.length;for(ctrl.$modelValue=value;idx--;)value=formatters[idx](value);ctrl.$viewValue!==value&&(ctrl.$viewValue=value,ctrl.$render())}return value})}],ngModelDirective=function(){return{require:["ngModel","^?form"],controller:NgModelController,link:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||nullFormCtrl;formCtrl.$addControl(modelCtrl),scope.$on("$destroy",function(){formCtrl.$removeControl(modelCtrl)})}}},ngChangeDirective=valueFn({require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),requiredDirective=function(){return{require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){attr.required=!0;var validator=function(value){return attr.required&&ctrl.$isEmpty(value)?void ctrl.$setValidity("required",!1):(ctrl.$setValidity("required",!0),value)};ctrl.$formatters.push(validator),ctrl.$parsers.unshift(validator),attr.$observe("required",function(){validator(ctrl.$viewValue)})}}}},ngListDirective=function(){return{require:"ngModel",link:function(scope,element,attr,ctrl){var match=/\/(.*)\//.exec(attr.ngList),separator=match&&new RegExp(match[1])||attr.ngList||",",parse=function(viewValue){if(!isUndefined(viewValue)){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trim(value))}),list}};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){return isArray(value)?value.join(", "):undefined}),ctrl.$isEmpty=function(value){return!value||!value.length}}}},CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){return{priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){attr.$set("value",value)})}}}},ngBindDirective=ngDirective({compile:function(templateElement){return templateElement.addClass("ng-binding"),function(scope,element,attr){element.data("$binding",attr.ngBind),scope.$watch(attr.ngBind,function(value){element.text(value==undefined?"":value)})}}}),ngBindTemplateDirective=["$interpolate",function($interpolate){return function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));element.addClass("ng-binding").data("$binding",interpolateFn),attr.$observe("ngBindTemplate",function(value){element.text(value)})}}],ngBindHtmlDirective=["$sce","$parse",function($sce,$parse){return{compile:function(tElement){return tElement.addClass("ng-binding"),function(scope,element,attr){function getStringValue(){return(parsed(scope)||"").toString()}element.data("$binding",attr.ngBindHtml);var parsed=$parse(attr.ngBindHtml);scope.$watch(getStringValue,function(){element.html($sce.getTrustedHtml(parsed(scope))||"")})}}}}],ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{scope:!0,controller:"@",priority:500}}],ngEventDirectives={},forceAsyncEvents={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope",function($parse,$rootScope){return{compile:function($element,attr){var fn=$parse(attr[directiveName]);return function(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};forceAsyncEvents[eventName]&&$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})}}}}]});var ngIfDirective=["$animate",function($animate){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function(value){toBoolean(value)?childScope||(childScope=$scope.$new(),$transclude(childScope,function(clone){clone[clone.length++]=document.createComment(" end ngIf: "+$attr.ngIf+" "),block={clone:clone},$animate.enter(clone,$element.parent(),$element)})):(previousElements&&(previousElements.remove(),previousElements=null),childScope&&(childScope.$destroy(),childScope=null),block&&(previousElements=getBlockElements(block.clone),$animate.leave(previousElements,function(){previousElements=null}),block=null))})}}}],ngIncludeDirective=["$http","$templateCache","$anchorScroll","$animate","$sce",function($http,$templateCache,$anchorScroll,$animate,$sce){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,previousElement,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement,function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch($sce.parseAsResourceUrl(srcExp),function(src){var afterAnimation=function(){!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;src?($http.get(src,{cache:$templateCache}).success(function(response){if(thisChangeId===changeCounter){var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,null,$element,afterAnimation)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded"),scope.$eval(onloadExp)}}).error(function(){thisChangeId===changeCounter&&cleanupLastIncludeContent()}),scope.$emit("$includeContentRequested")):(cleanupLastIncludeContent(),ctrl.template=null)})}}}}],ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){$element.html(ctrl.template),$compile($element.contents())(scope)}}}],ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngPluralizeDirective=["$locale","$interpolate",function($locale,$interpolate){var BRACE=/{}/g;return{restrict:"EA",link:function(scope,element,attr){var numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),isWhen=/^when(Minus)?(.+)$/;forEach(attr,function(expression,attributeName){isWhen.test(attributeName)&&(whens[lowercase(attributeName.replace("when","").replace("Minus","-"))]=element.attr(attr.$attr[attributeName]))}),forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,startSymbol+numberExp+"-"+offset+endSymbol))}),scope.$watch(function(){var value=parseFloat(scope.$eval(numberExp));return isNaN(value)?"":(value in whens||(value=$locale.pluralCat(value-offset)),whensExpFns[value](scope,element,!0))},function(newVal){element.text(newVal)})}}}],ngRepeatDirective=["$parse","$animate",function($parse,$animate){function getBlockStart(block){return block.clone[0]}function getBlockEnd(block){return block.clone[block.clone.length-1]}var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var trackByExp,trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,lhs,rhs,valueIdentifier,keyIdentifier,expression=$attr.ngRepeat,match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),hashFnLocals={$id:hashKey};if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);if(lhs=match[1],rhs=match[2],trackByExp=match[3],trackByExp?(trackByExpGetter=$parse(trackByExp),trackByIdExpFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)}):(trackByIdArrayFn=function(key,value){return hashKey(value)},trackByIdObjFn=function(key){return key}),match=lhs.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);valueIdentifier=match[3]||match[1],keyIdentifier=match[2];var lastBlockMap={};$scope.$watchCollection(rhs,function(collection){var index,length,nextNode,arrayLength,childScope,key,value,trackById,trackByIdFn,collectionKeys,block,elementsToRemove,previousNode=$element[0],nextBlockMap={},nextBlockOrder=[];if(isArrayLike(collection))collectionKeys=collection,trackByIdFn=trackByIdExpFn||trackByIdArrayFn;else{trackByIdFn=trackByIdExpFn||trackByIdObjFn,collectionKeys=[];for(key in collection)collection.hasOwnProperty(key)&&"$"!=key.charAt(0)&&collectionKeys.push(key);collectionKeys.sort()}for(arrayLength=collectionKeys.length,length=nextBlockOrder.length=collectionKeys.length,index=0;length>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),assertNotHasOwnProperty(trackById,"`track by` id"),lastBlockMap.hasOwnProperty(trackById))block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap.hasOwnProperty(trackById))throw forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)}),ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,toJson(value));nextBlockOrder[index]={id:trackById},nextBlockMap[trackById]=!1}for(key in lastBlockMap)lastBlockMap.hasOwnProperty(key)&&(block=lastBlockMap[key],elementsToRemove=getBlockElements(block.clone),$animate.leave(elementsToRemove),forEach(elementsToRemove,function(element){element[NG_REMOVED]=!0}),block.scope.$destroy());for(index=0,length=collectionKeys.length;length>index;index++){if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],block=nextBlockOrder[index],nextBlockOrder[index-1]&&(previousNode=getBlockEnd(nextBlockOrder[index-1])),block.scope){childScope=block.scope,nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);getBlockStart(block)!=nextNode&&$animate.move(getBlockElements(block.clone),null,jqLite(previousNode)),previousNode=getBlockEnd(block)}else childScope=$scope.$new();childScope[valueIdentifier]=value,keyIdentifier&&(childScope[keyIdentifier]=key),childScope.$index=index,childScope.$first=0===index,childScope.$last=index===arrayLength-1,childScope.$middle=!(childScope.$first||childScope.$last),childScope.$odd=!(childScope.$even=0===(1&index)),block.scope||$transclude(childScope,function(clone){clone[clone.length++]=document.createComment(" end ngRepeat: "+expression+" "),$animate.enter(clone,null,jqLite(previousNode)),previousNode=clone,block.scope=childScope,block.clone=clone,nextBlockMap[block.id]=block})}lastBlockMap=nextBlockMap})}}}],ngShowDirective=["$animate",function($animate){return function(scope,element,attr){scope.$watch(attr.ngShow,function(value){$animate[toBoolean(value)?"removeClass":"addClass"](element,"ng-hide")
})}}],ngHideDirective=["$animate",function($animate){return function(scope,element,attr){scope.$watch(attr.ngHide,function(value){$animate[toBoolean(value)?"addClass":"removeClass"](element,"ng-hide")})}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)},!0)}),ngSwitchDirective=["$animate",function($animate){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousElements=[],selectedScopes=[];scope.$watch(watchExpr,function(value){var i,ii;for(i=0,ii=previousElements.length;ii>i;++i)previousElements[i].remove();for(previousElements.length=0,i=0,ii=selectedScopes.length;ii>i;++i){var selected=selectedElements[i];selectedScopes[i].$destroy(),previousElements[i]=selected,$animate.leave(selected,function(){previousElements.splice(i,1)})}selectedElements.length=0,selectedScopes.length=0,(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&(scope.$eval(attr.change),forEach(selectedTranscludes,function(selectedTransclude){var selectedScope=scope.$new();selectedScopes.push(selectedScope),selectedTransclude.transclude(selectedScope,function(caseElement){var anchor=selectedTransclude.element;selectedElements.push(caseElement),$animate.enter(caseElement,anchor.parent(),anchor)})}))})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:800,require:"^ngSwitch",link:function(scope,element,attrs,ctrl,$transclude){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[],ctrl.cases["!"+attrs.ngSwitchWhen].push({transclude:$transclude,element:element})}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:800,require:"^ngSwitch",link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:$transclude,element:element})}}),ngTranscludeDirective=ngDirective({link:function($scope,$element,$attrs,controller,$transclude){if(!$transclude)throw minErr("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));$transclude(function(clone){$element.empty(),$element.append(clone)})}}),scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"==attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],ngOptionsMinErr=minErr("ngOptions"),ngOptionsDirective=valueFn({terminal:!0}),selectDirective=["$compile","$parse",function($compile,$parse){var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,nullModelCtrl={$setViewValue:noop};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function($element,$scope,$attrs){var nullOption,unknownOption,self=this,optionsMap={},ngModelCtrl=nullModelCtrl;self.databound=$attrs.ngModel,self.init=function(ngModelCtrl_,nullOption_,unknownOption_){ngModelCtrl=ngModelCtrl_,nullOption=nullOption_,unknownOption=unknownOption_},self.addOption=function(value){assertNotHasOwnProperty(value,'"option value"'),optionsMap[value]=!0,ngModelCtrl.$viewValue==value&&($element.val(value),unknownOption.parent()&&unknownOption.remove())},self.removeOption=function(value){this.hasOption(value)&&(delete optionsMap[value],ngModelCtrl.$viewValue==value&&this.renderUnknownOption(value))},self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";unknownOption.val(unknownVal),$element.prepend(unknownOption),$element.val(unknownVal),unknownOption.prop("selected",!0)},self.hasOption=function(value){return optionsMap.hasOwnProperty(value)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop})}],link:function(scope,element,attr,ctrls){function setupAsSingle(scope,selectElement,ngModelCtrl,selectCtrl){ngModelCtrl.$render=function(){var viewValue=ngModelCtrl.$viewValue;selectCtrl.hasOption(viewValue)?(unknownOption.parent()&&unknownOption.remove(),selectElement.val(viewValue),""===viewValue&&emptyOption.prop("selected",!0)):isUndefined(viewValue)&&emptyOption?selectElement.val(""):selectCtrl.renderUnknownOption(viewValue)},selectElement.on("change",function(){scope.$apply(function(){unknownOption.parent()&&unknownOption.remove(),ngModelCtrl.$setViewValue(selectElement.val())})})}function setupAsMultiple(scope,selectElement,ctrl){var lastView;ctrl.$render=function(){var items=new HashMap(ctrl.$viewValue);forEach(selectElement.find("option"),function(option){option.selected=isDefined(items.get(option.value))})},scope.$watch(function(){equals(lastView,ctrl.$viewValue)||(lastView=shallowCopy(ctrl.$viewValue),ctrl.$render())}),selectElement.on("change",function(){scope.$apply(function(){var array=[];forEach(selectElement.find("option"),function(option){option.selected&&array.push(option.value)}),ctrl.$setViewValue(array)})})}function setupAsOptions(scope,selectElement,ctrl){function getSelectedSet(){var selectedSet=!1;if(multiple){var modelValue=ctrl.$modelValue;if(trackFn&&isArray(modelValue)){selectedSet=new HashMap([]);for(var locals={},trackIndex=0;trackIndex<modelValue.length;trackIndex++)locals[valueName]=modelValue[trackIndex],selectedSet.put(trackFn(scope,locals),modelValue[trackIndex])}else selectedSet=new HashMap(modelValue)}return selectedSet}function render(){var optionGroupName,optionGroup,option,existingParent,existingOptions,existingOption,key,groupLength,length,groupIndex,index,selected,lastElement,element,label,optionGroups={"":[]},optionGroupNames=[""],modelValue=ctrl.$modelValue,values=valuesFn(scope)||[],keys=keyName?sortedKeys(values):values,locals={},selectedSet=getSelectedSet();for(index=0;length=keys.length,length>index;index++){if(key=index,keyName){if(key=keys[index],"$"===key.charAt(0))continue;locals[keyName]=key}if(locals[valueName]=values[key],optionGroupName=groupByFn(scope,locals)||"",(optionGroup=optionGroups[optionGroupName])||(optionGroup=optionGroups[optionGroupName]=[],optionGroupNames.push(optionGroupName)),multiple)selected=isDefined(selectedSet.remove(trackFn?trackFn(scope,locals):valueFn(scope,locals)));else{if(trackFn){var modelCast={};modelCast[valueName]=modelValue,selected=trackFn(scope,modelCast)===trackFn(scope,locals)}else selected=modelValue===valueFn(scope,locals);selectedSet=selectedSet||selected}label=displayFn(scope,locals),label=isDefined(label)?label:"",optionGroup.push({id:trackFn?trackFn(scope,locals):keyName?keys[index]:index,label:label,selected:selected})}for(multiple||(nullOption||null===modelValue?optionGroups[""].unshift({id:"",label:"",selected:!selectedSet}):selectedSet||optionGroups[""].unshift({id:"?",label:"",selected:!0})),groupIndex=0,groupLength=optionGroupNames.length;groupLength>groupIndex;groupIndex++){for(optionGroupName=optionGroupNames[groupIndex],optionGroup=optionGroups[optionGroupName],optionGroupsCache.length<=groupIndex?(existingParent={element:optGroupTemplate.clone().attr("label",optionGroupName),label:optionGroup.label},existingOptions=[existingParent],optionGroupsCache.push(existingOptions),selectElement.append(existingParent.element)):(existingOptions=optionGroupsCache[groupIndex],existingParent=existingOptions[0],existingParent.label!=optionGroupName&&existingParent.element.attr("label",existingParent.label=optionGroupName)),lastElement=null,index=0,length=optionGroup.length;length>index;index++)option=optionGroup[index],(existingOption=existingOptions[index+1])?(lastElement=existingOption.element,existingOption.label!==option.label&&lastElement.text(existingOption.label=option.label),existingOption.id!==option.id&&lastElement.val(existingOption.id=option.id),lastElement[0].selected!==option.selected&&(lastElement.prop("selected",existingOption.selected=option.selected),msie&&lastElement.prop("selected",existingOption.selected))):(""===option.id&&nullOption?element=nullOption:(element=optionTemplate.clone()).val(option.id).prop("selected",option.selected).attr("selected",option.selected).text(option.label),existingOptions.push(existingOption={element:element,label:option.label,id:option.id,selected:option.selected}),selectCtrl.addOption(option.label,element),lastElement?lastElement.after(element):existingParent.element.append(element),lastElement=element);for(index++;existingOptions.length>index;)option=existingOptions.pop(),selectCtrl.removeOption(option.label),option.element.remove()}for(;optionGroupsCache.length>groupIndex;)optionGroupsCache.pop()[0].element.remove()}var match;if(!(match=optionsExp.match(NG_OPTIONS_REGEXP)))throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var displayFn=$parse(match[2]||match[1]),valueName=match[4]||match[6],keyName=match[5],groupByFn=$parse(match[3]||""),valueFn=$parse(match[2]?match[1]:valueName),valuesFn=$parse(match[7]),track=match[8],trackFn=track?$parse(match[8]):null,optionGroupsCache=[[{element:selectElement,label:""}]];nullOption&&($compile(nullOption)(scope),nullOption.removeClass("ng-scope"),nullOption.remove()),selectElement.empty(),selectElement.on("change",function(){scope.$apply(function(){var optionGroup,key,value,optionElement,index,groupIndex,length,groupLength,trackIndex,collection=valuesFn(scope)||[],locals={};if(multiple){for(value=[],groupIndex=0,groupLength=optionGroupsCache.length;groupLength>groupIndex;groupIndex++)for(optionGroup=optionGroupsCache[groupIndex],index=1,length=optionGroup.length;length>index;index++)if((optionElement=optionGroup[index].element)[0].selected){if(key=optionElement.val(),keyName&&(locals[keyName]=key),trackFn)for(trackIndex=0;trackIndex<collection.length&&(locals[valueName]=collection[trackIndex],trackFn(scope,locals)!=key);trackIndex++);else locals[valueName]=collection[key];value.push(valueFn(scope,locals))}}else if(key=selectElement.val(),"?"==key)value=undefined;else if(""===key)value=null;else if(trackFn){for(trackIndex=0;trackIndex<collection.length;trackIndex++)if(locals[valueName]=collection[trackIndex],trackFn(scope,locals)==key){value=valueFn(scope,locals);break}}else locals[valueName]=collection[key],keyName&&(locals[keyName]=key),value=valueFn(scope,locals);ctrl.$setViewValue(value),render()})}),ctrl.$render=render,scope.$watchCollection(valuesFn,render),scope.$watchCollection(function(){var locals={},values=valuesFn(scope);if(values){for(var toDisplay=new Array(values.length),i=0,ii=values.length;ii>i;i++)locals[valueName]=values[i],toDisplay[i]=displayFn(scope,locals);return toDisplay}},render),multiple&&scope.$watchCollection(function(){return ctrl.$modelValue},render)}if(ctrls[1]){for(var emptyOption,selectCtrl=ctrls[0],ngModelCtrl=ctrls[1],multiple=attr.multiple,optionsExp=attr.ngOptions,nullOption=!1,optionTemplate=jqLite(document.createElement("option")),optGroupTemplate=jqLite(document.createElement("optgroup")),unknownOption=optionTemplate.clone(),i=0,children=element.children(),ii=children.length;ii>i;i++)if(""===children[i].value){emptyOption=nullOption=children.eq(i);break}selectCtrl.init(ngModelCtrl,nullOption,unknownOption),multiple&&(ngModelCtrl.$isEmpty=function(value){return!value||0===value.length}),optionsExp?setupAsOptions(scope,element,ngModelCtrl):multiple?setupAsMultiple(scope,element,ngModelCtrl):setupAsSingle(scope,element,ngModelCtrl,selectCtrl)}}}}],optionDirective=["$interpolate",function($interpolate){var nullSelectCtrl={addOption:noop,removeOption:noop};return{restrict:"E",priority:100,compile:function(element,attr){if(isUndefined(attr.value)){var interpolateFn=$interpolate(element.text(),!0);interpolateFn||attr.$set("value",element.text())}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.databound?element.prop("selected",!1):selectCtrl=nullSelectCtrl,interpolateFn?scope.$watch(interpolateFn,function(newVal,oldVal){attr.$set("value",newVal),newVal!==oldVal&&selectCtrl.removeOption(oldVal),selectCtrl.addOption(newVal)}):selectCtrl.addOption(attr.value),element.on("$destroy",function(){selectCtrl.removeOption(attr.value)})}}}}],styleDirective=valueFn({restrict:"E",terminal:!0});return window.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(bindJQuery(),publishExternalAPI(angular),void jqLite(document).ready(function(){angularInit(document,bootstrap)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>')},{}],20:[function(require,module){function noop(){}var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){var source=ev.source;if((source===window||null===source)&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")}},{}],21:[function(require,module){"use strict";var focusNode=require("./focusNode"),AutoFocusMixin={componentDidMount:function(){this.props.autoFocus&&focusNode(this.getDOMNode())}};module.exports=AutoFocusMixin},{"./focusNode":120}],22:[function(require,module){"use strict";function prefixKey(prefix,key){return prefix+key.charAt(0).toUpperCase()+key.substring(1)}var isUnitlessNumber={columnCount:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},prefixes=["Webkit","ms","Moz","O"];Object.keys(isUnitlessNumber).forEach(function(prop){prefixes.forEach(function(prefix){isUnitlessNumber[prefixKey(prefix,prop)]=isUnitlessNumber[prop]})});var shorthandPropertyExpansions={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};module.exports=CSSProperty},{}],23:[function(require,module){"use strict";var CSSProperty=require("./CSSProperty"),dangerousStyleValue=require("./dangerousStyleValue"),escapeTextForBrowser=require("./escapeTextForBrowser"),hyphenate=require("./hyphenate"),memoizeStringOnly=require("./memoizeStringOnly"),processStyleName=memoizeStringOnly(function(styleName){return escapeTextForBrowser(hyphenate(styleName))}),CSSPropertyOperations={createMarkupForStyles:function(styles){var serialized="";for(var styleName in styles)if(styles.hasOwnProperty(styleName)){var styleValue=styles[styleName];null!=styleValue&&(serialized+=processStyleName(styleName)+":",serialized+=dangerousStyleValue(styleName,styleValue)+";")}return serialized||null},setValueForStyles:function(node,styles){var style=node.style;for(var styleName in styles)if(styles.hasOwnProperty(styleName)){var styleValue=dangerousStyleValue(styleName,styles[styleName]);if(styleValue)style[styleName]=styleValue;else{var expansion=CSSProperty.shorthandPropertyExpansions[styleName];if(expansion)for(var individualStyleName in expansion)style[individualStyleName]="";else style[styleName]=""}}}};module.exports=CSSPropertyOperations},{"./CSSProperty":22,"./dangerousStyleValue":115,"./escapeTextForBrowser":118,"./hyphenate":130,"./memoizeStringOnly":140}],24:[function(require,module){"use strict";function shouldUseChangeEvent(elem){return"SELECT"===elem.nodeName||"INPUT"===elem.nodeName&&"file"===elem.type}function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementID,nativeEvent);EventPropagators.accumulateTwoPhaseDispatches(event),ReactUpdates.batchedUpdates(runEventInBatch,event)}function runEventInBatch(event){EventPluginHub.enqueueEvents(event),EventPluginHub.processEventQueue()}function startWatchingForChangeEventIE8(target,targetID){activeElement=target,activeElementID=targetID,activeElement.attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){activeElement&&(activeElement.detachEvent("onchange",manualDispatchChangeEvent),activeElement=null,activeElementID=null)}function getTargetIDForChangeEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topChange?topLevelTargetID:void 0}function handleEventsForChangeEventIE8(topLevelType,topLevelTarget,topLevelTargetID){topLevelType===topLevelTypes.topFocus?(stopWatchingForChangeEventIE8(),startWatchingForChangeEventIE8(topLevelTarget,topLevelTargetID)):topLevelType===topLevelTypes.topBlur&&stopWatchingForChangeEventIE8()}function startWatchingForValueChange(target,targetID){activeElement=target,activeElementID=targetID,activeElementValue=target.value,activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,"value"),Object.defineProperty(activeElement,"value",newValueProp),activeElement.attachEvent("onpropertychange",handlePropertyChange)}function stopWatchingForValueChange(){activeElement&&(delete activeElement.value,activeElement.detachEvent("onpropertychange",handlePropertyChange),activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null)}function handlePropertyChange(nativeEvent){if("value"===nativeEvent.propertyName){var value=nativeEvent.srcElement.value;value!==activeElementValue&&(activeElementValue=value,manualDispatchChangeEvent(nativeEvent))}}function getTargetIDForInputEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topInput?topLevelTargetID:void 0}function handleEventsForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){topLevelType===topLevelTypes.topFocus?(stopWatchingForValueChange(),startWatchingForValueChange(topLevelTarget,topLevelTargetID)):topLevelType===topLevelTypes.topBlur&&stopWatchingForValueChange()}function getTargetIDForInputEventIE(topLevelType){return topLevelType!==topLevelTypes.topSelectionChange&&topLevelType!==topLevelTypes.topKeyUp&&topLevelType!==topLevelTypes.topKeyDown||!activeElement||activeElement.value===activeElementValue?void 0:(activeElementValue=activeElement.value,activeElementID)}function shouldUseClickEvent(elem){return"INPUT"===elem.nodeName&&("checkbox"===elem.type||"radio"===elem.type)}function getTargetIDForClickEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topClick?topLevelTargetID:void 0}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),EventPropagators=require("./EventPropagators"),ExecutionEnvironment=require("./ExecutionEnvironment"),ReactUpdates=require("./ReactUpdates"),SyntheticEvent=require("./SyntheticEvent"),isEventSupported=require("./isEventSupported"),isTextInputElement=require("./isTextInputElement"),keyOf=require("./keyOf"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null,doesChangeEventBubble=!1;ExecutionEnvironment.canUseDOM&&(doesChangeEventBubble=isEventSupported("change")&&(!("documentMode"in document)||document.documentMode>8));var isInputEventSupported=!1;ExecutionEnvironment.canUseDOM&&(isInputEventSupported=isEventSupported("input")&&(!("documentMode"in document)||document.documentMode>9));var newValueProp={get:function(){return activeElementValueProp.get.call(this)},set:function(val){activeElementValue=""+val,activeElementValueProp.set.call(this,val)}},ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var getTargetIDFunc,handleEventFunc;if(shouldUseChangeEvent(topLevelTarget)?doesChangeEventBubble?getTargetIDFunc=getTargetIDForChangeEvent:handleEventFunc=handleEventsForChangeEventIE8:isTextInputElement(topLevelTarget)?isInputEventSupported?getTargetIDFunc=getTargetIDForInputEvent:(getTargetIDFunc=getTargetIDForInputEventIE,handleEventFunc=handleEventsForInputEventIE):shouldUseClickEvent(topLevelTarget)&&(getTargetIDFunc=getTargetIDForClickEvent),getTargetIDFunc){var targetID=getTargetIDFunc(topLevelType,topLevelTarget,topLevelTargetID);if(targetID){var event=SyntheticEvent.getPooled(eventTypes.change,targetID,nativeEvent);return EventPropagators.accumulateTwoPhaseDispatches(event),event}}handleEventFunc&&handleEventFunc(topLevelType,topLevelTarget,topLevelTargetID)}};module.exports=ChangeEventPlugin},{"./EventConstants":34,"./EventPluginHub":36,"./EventPropagators":39,"./ExecutionEnvironment":40,"./ReactUpdates":91,"./SyntheticEvent":98,"./isEventSupported":133,"./isTextInputElement":135,"./keyOf":139}],25:[function(require,module){"use strict";var nextReactRootIndex=0,ClientReactRootIndex={createReactRootIndex:function(){return nextReactRootIndex++}};module.exports=ClientReactRootIndex},{}],26:[function(require,module){"use strict";function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate}}function isFallbackStart(topLevelType,nativeEvent){return topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE}function isFallbackEnd(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topKeyUp:return-1!==END_KEYCODES.indexOf(nativeEvent.keyCode);case topLevelTypes.topKeyDown:return nativeEvent.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return!0;default:return!1}}function FallbackCompositionState(root){this.root=root,this.startSelection=ReactInputSelection.getSelection(root),this.startValue=this.getText()}var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),ExecutionEnvironment=require("./ExecutionEnvironment"),ReactInputSelection=require("./ReactInputSelection"),SyntheticCompositionEvent=require("./SyntheticCompositionEvent"),getTextContentAccessor=require("./getTextContentAccessor"),keyOf=require("./keyOf"),END_KEYCODES=[9,13,27,32],START_KEYCODE=229,useCompositionEvent=ExecutionEnvironment.canUseDOM&&"CompositionEvent"in window,useFallbackData=!useCompositionEvent||"documentMode"in document&&document.documentMode>8,topLevelTypes=EventConstants.topLevelTypes,currentComposition=null,eventTypes={compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}};FallbackCompositionState.prototype.getText=function(){return this.root.value||this.root[getTextContentAccessor()]},FallbackCompositionState.prototype.getData=function(){var endValue=this.getText(),prefixLength=this.startSelection.start,suffixLength=this.startValue.length-this.startSelection.end;return endValue.substr(prefixLength,endValue.length-suffixLength-prefixLength)};var CompositionEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var eventType,data;if(useCompositionEvent?eventType=getCompositionEventType(topLevelType):currentComposition?isFallbackEnd(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionEnd):isFallbackStart(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionStart),useFallbackData&&(currentComposition||eventType!==eventTypes.compositionStart?eventType===eventTypes.compositionEnd&&currentComposition&&(data=currentComposition.getData(),currentComposition=null):currentComposition=new FallbackCompositionState(topLevelTarget)),eventType){var event=SyntheticCompositionEvent.getPooled(eventType,topLevelTargetID,nativeEvent);return data&&(event.data=data),EventPropagators.accumulateTwoPhaseDispatches(event),event}}};module.exports=CompositionEventPlugin},{"./EventConstants":34,"./EventPropagators":39,"./ExecutionEnvironment":40,"./ReactInputSelection":72,"./SyntheticCompositionEvent":96,"./getTextContentAccessor":128,"./keyOf":139}],27:[function(require,module){"use strict";function insertChildAt(parentNode,childNode,index){var childNodes=parentNode.childNodes;childNodes[index]!==childNode&&(childNode.parentNode===parentNode&&parentNode.removeChild(childNode),index>=childNodes.length?parentNode.appendChild(childNode):parentNode.insertBefore(childNode,childNodes[index]))}var updateTextContent,Danger=require("./Danger"),ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes"),getTextContentAccessor=require("./getTextContentAccessor"),textContentAccessor=getTextContentAccessor();updateTextContent="textContent"===textContentAccessor?function(node,text){node.textContent=text}:function(node,text){for(;node.firstChild;)node.removeChild(node.firstChild);if(text){var doc=node.ownerDocument||document;node.appendChild(doc.createTextNode(text))}};var DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:Danger.dangerouslyReplaceNodeWithMarkup,updateTextContent:updateTextContent,processUpdates:function(updates,markupList){for(var update,initialChildren=null,updatedChildren=null,i=0;update=updates[i];i++)if(update.type===ReactMultiChildUpdateTypes.MOVE_EXISTING||update.type===ReactMultiChildUpdateTypes.REMOVE_NODE){var updatedIndex=update.fromIndex,updatedChild=update.parentNode.childNodes[updatedIndex],parentID=update.parentID;initialChildren=initialChildren||{},initialChildren[parentID]=initialChildren[parentID]||[],initialChildren[parentID][updatedIndex]=updatedChild,updatedChildren=updatedChildren||[],updatedChildren.push(updatedChild)}var renderedMarkup=Danger.dangerouslyRenderMarkup(markupList);if(updatedChildren)for(var j=0;j<updatedChildren.length;j++)updatedChildren[j].parentNode.removeChild(updatedChildren[j]);for(var k=0;update=updates[k];k++)switch(update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertChildAt(update.parentNode,renderedMarkup[update.markupIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:insertChildAt(update.parentNode,initialChildren[update.parentID][update.fromIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:updateTextContent(update.parentNode,update.textContent);break;case ReactMultiChildUpdateTypes.REMOVE_NODE:}}};module.exports=DOMChildrenOperations},{"./Danger":30,"./ReactMultiChildUpdateTypes":78,"./getTextContentAccessor":128}],28:[function(require,module){(function(process){"use strict";var invariant=require("./invariant"),DOMPropertyInjection={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:16,injectDOMPropertyConfig:function(domPropertyConfig){var Properties=domPropertyConfig.Properties||{},DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{},DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{},DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};domPropertyConfig.isCustomAttribute&&DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute);for(var propName in Properties){"production"!==process.env.NODE_ENV?invariant(!DOMProperty.isStandardName[propName],"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",propName):invariant(!DOMProperty.isStandardName[propName]),DOMProperty.isStandardName[propName]=!0;var lowerCased=propName.toLowerCase();DOMProperty.getPossibleStandardName[lowerCased]=propName;var attributeName=DOMAttributeNames[propName];attributeName&&(DOMProperty.getPossibleStandardName[attributeName]=propName),DOMProperty.getAttributeName[propName]=attributeName||lowerCased,DOMProperty.getPropertyName[propName]=DOMPropertyNames[propName]||propName;var mutationMethod=DOMMutationMethods[propName];mutationMethod&&(DOMProperty.getMutationMethod[propName]=mutationMethod);var propConfig=Properties[propName];DOMProperty.mustUseAttribute[propName]=propConfig&DOMPropertyInjection.MUST_USE_ATTRIBUTE,DOMProperty.mustUseProperty[propName]=propConfig&DOMPropertyInjection.MUST_USE_PROPERTY,DOMProperty.hasSideEffects[propName]=propConfig&DOMPropertyInjection.HAS_SIDE_EFFECTS,DOMProperty.hasBooleanValue[propName]=propConfig&DOMPropertyInjection.HAS_BOOLEAN_VALUE,DOMProperty.hasPositiveNumericValue[propName]=propConfig&DOMPropertyInjection.HAS_POSITIVE_NUMERIC_VALUE,"production"!==process.env.NODE_ENV?invariant(!DOMProperty.mustUseAttribute[propName]||!DOMProperty.mustUseProperty[propName],"DOMProperty: Cannot require using both attribute and property: %s",propName):invariant(!DOMProperty.mustUseAttribute[propName]||!DOMProperty.mustUseProperty[propName]),"production"!==process.env.NODE_ENV?invariant(DOMProperty.mustUseProperty[propName]||!DOMProperty.hasSideEffects[propName],"DOMProperty: Properties that have side effects must use property: %s",propName):invariant(DOMProperty.mustUseProperty[propName]||!DOMProperty.hasSideEffects[propName]),"production"!==process.env.NODE_ENV?invariant(!DOMProperty.hasBooleanValue[propName]||!DOMProperty.hasPositiveNumericValue[propName],"DOMProperty: Cannot have both boolean and positive numeric value: %s",propName):invariant(!DOMProperty.hasBooleanValue[propName]||!DOMProperty.hasPositiveNumericValue[propName])
}}},defaultValueCache={},DOMProperty={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasPositiveNumericValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){for(var i=0;i<DOMProperty._isCustomAttributeFunctions.length;i++){var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];if(isCustomAttributeFn(attributeName))return!0}return!1},getDefaultValueForProperty:function(nodeName,prop){var testElement,nodeDefaults=defaultValueCache[nodeName];return nodeDefaults||(defaultValueCache[nodeName]=nodeDefaults={}),prop in nodeDefaults||(testElement=document.createElement(nodeName),nodeDefaults[prop]=testElement[prop]),nodeDefaults[prop]},injection:DOMPropertyInjection};module.exports=DOMProperty}).call(this,require("_process"))},{"./invariant":132,_process:20}],29:[function(require,module){(function(process){"use strict";function shouldIgnoreValue(name,value){return null==value||DOMProperty.hasBooleanValue[name]&&!value||DOMProperty.hasPositiveNumericValue[name]&&(isNaN(value)||1>value)}var DOMProperty=require("./DOMProperty"),escapeTextForBrowser=require("./escapeTextForBrowser"),memoizeStringOnly=require("./memoizeStringOnly"),warning=require("./warning"),processAttributeNameAndPrefix=memoizeStringOnly(function(name){return escapeTextForBrowser(name)+'="'});if("production"!==process.env.NODE_ENV)var reactProps={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},warnedProperties={},warnUnknownProperty=function(name){if(!reactProps[name]&&!warnedProperties[name]){warnedProperties[name]=!0;var lowerCasedName=name.toLowerCase(),standardName=DOMProperty.isCustomAttribute(lowerCasedName)?lowerCasedName:DOMProperty.getPossibleStandardName[lowerCasedName];"production"!==process.env.NODE_ENV?warning(null==standardName,"Unknown DOM property "+name+". Did you mean "+standardName+"?"):null}};var DOMPropertyOperations={createMarkupForID:function(id){return processAttributeNameAndPrefix(DOMProperty.ID_ATTRIBUTE_NAME)+escapeTextForBrowser(id)+'"'},createMarkupForProperty:function(name,value){if(DOMProperty.isStandardName[name]){if(shouldIgnoreValue(name,value))return"";var attributeName=DOMProperty.getAttributeName[name];return DOMProperty.hasBooleanValue[name]?escapeTextForBrowser(attributeName):processAttributeNameAndPrefix(attributeName)+escapeTextForBrowser(value)+'"'}return DOMProperty.isCustomAttribute(name)?null==value?"":processAttributeNameAndPrefix(name)+escapeTextForBrowser(value)+'"':("production"!==process.env.NODE_ENV&&warnUnknownProperty(name),null)},setValueForProperty:function(node,name,value){if(DOMProperty.isStandardName[name]){var mutationMethod=DOMProperty.getMutationMethod[name];if(mutationMethod)mutationMethod(node,value);else if(shouldIgnoreValue(name,value))this.deleteValueForProperty(node,name);else if(DOMProperty.mustUseAttribute[name])node.setAttribute(DOMProperty.getAttributeName[name],""+value);else{var propName=DOMProperty.getPropertyName[name];DOMProperty.hasSideEffects[name]&&node[propName]===value||(node[propName]=value)}}else DOMProperty.isCustomAttribute(name)?null==value?node.removeAttribute(DOMProperty.getAttributeName[name]):node.setAttribute(name,""+value):"production"!==process.env.NODE_ENV&&warnUnknownProperty(name)},deleteValueForProperty:function(node,name){if(DOMProperty.isStandardName[name]){var mutationMethod=DOMProperty.getMutationMethod[name];if(mutationMethod)mutationMethod(node,void 0);else if(DOMProperty.mustUseAttribute[name])node.removeAttribute(DOMProperty.getAttributeName[name]);else{var propName=DOMProperty.getPropertyName[name],defaultValue=DOMProperty.getDefaultValueForProperty(node.nodeName,propName);DOMProperty.hasSideEffects[name]&&node[propName]===defaultValue||(node[propName]=defaultValue)}}else DOMProperty.isCustomAttribute(name)?node.removeAttribute(name):"production"!==process.env.NODE_ENV&&warnUnknownProperty(name)}};module.exports=DOMPropertyOperations}).call(this,require("_process"))},{"./DOMProperty":28,"./escapeTextForBrowser":118,"./memoizeStringOnly":140,"./warning":154,_process:20}],30:[function(require,module){(function(process){"use strict";function getNodeName(markup){return markup.substring(1,markup.indexOf(" "))}var ExecutionEnvironment=require("./ExecutionEnvironment"),createNodesFromMarkup=require("./createNodesFromMarkup"),emptyFunction=require("./emptyFunction"),getMarkupWrap=require("./getMarkupWrap"),invariant=require("./invariant"),OPEN_TAG_NAME_EXP=/^(<[^ \/>]+)/,RESULT_INDEX_ATTR="data-danger-index",Danger={dangerouslyRenderMarkup:function(markupList){"production"!==process.env.NODE_ENV?invariant(ExecutionEnvironment.canUseDOM,"dangerouslyRenderMarkup(...): Cannot render markup in a Worker thread. This is likely a bug in the framework. Please report immediately."):invariant(ExecutionEnvironment.canUseDOM);for(var nodeName,markupByNodeName={},i=0;i<markupList.length;i++)"production"!==process.env.NODE_ENV?invariant(markupList[i],"dangerouslyRenderMarkup(...): Missing markup."):invariant(markupList[i]),nodeName=getNodeName(markupList[i]),nodeName=getMarkupWrap(nodeName)?nodeName:"*",markupByNodeName[nodeName]=markupByNodeName[nodeName]||[],markupByNodeName[nodeName][i]=markupList[i];var resultList=[],resultListAssignmentCount=0;for(nodeName in markupByNodeName)if(markupByNodeName.hasOwnProperty(nodeName)){var markupListByNodeName=markupByNodeName[nodeName];for(var resultIndex in markupListByNodeName)if(markupListByNodeName.hasOwnProperty(resultIndex)){var markup=markupListByNodeName[resultIndex];markupListByNodeName[resultIndex]=markup.replace(OPEN_TAG_NAME_EXP,"$1 "+RESULT_INDEX_ATTR+'="'+resultIndex+'" ')}var renderNodes=createNodesFromMarkup(markupListByNodeName.join(""),emptyFunction);for(i=0;i<renderNodes.length;++i){var renderNode=renderNodes[i];renderNode.hasAttribute&&renderNode.hasAttribute(RESULT_INDEX_ATTR)?(resultIndex=+renderNode.getAttribute(RESULT_INDEX_ATTR),renderNode.removeAttribute(RESULT_INDEX_ATTR),"production"!==process.env.NODE_ENV?invariant(!resultList.hasOwnProperty(resultIndex),"Danger: Assigning to an already-occupied result index."):invariant(!resultList.hasOwnProperty(resultIndex)),resultList[resultIndex]=renderNode,resultListAssignmentCount+=1):"production"!==process.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",renderNode)}}return"production"!==process.env.NODE_ENV?invariant(resultListAssignmentCount===resultList.length,"Danger: Did not assign to every index of resultList."):invariant(resultListAssignmentCount===resultList.length),"production"!==process.env.NODE_ENV?invariant(resultList.length===markupList.length,"Danger: Expected markup to render %s nodes, but rendered %s.",markupList.length,resultList.length):invariant(resultList.length===markupList.length),resultList},dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){"production"!==process.env.NODE_ENV?invariant(ExecutionEnvironment.canUseDOM,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. This is likely a bug in the framework. Please report immediately."):invariant(ExecutionEnvironment.canUseDOM),"production"!==process.env.NODE_ENV?invariant(markup,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):invariant(markup),"production"!==process.env.NODE_ENV?invariant("html"!==oldChild.tagName.toLowerCase(),"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See renderComponentToString()."):invariant("html"!==oldChild.tagName.toLowerCase());var newChild=createNodesFromMarkup(markup,emptyFunction)[0];oldChild.parentNode.replaceChild(newChild,oldChild)}};module.exports=Danger}).call(this,require("_process"))},{"./ExecutionEnvironment":40,"./createNodesFromMarkup":113,"./emptyFunction":116,"./getMarkupWrap":125,"./invariant":132,_process:20}],31:[function(require,module){"use strict";var DOMProperty=require("./DOMProperty"),MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE,MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY,HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE,HAS_SIDE_EFFECTS=DOMProperty.injection.HAS_SIDE_EFFECTS,HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE,DefaultDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,accessKey:null,action:null,allowFullScreen:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,allowTransparency:MUST_USE_ATTRIBUTE,alt:null,async:HAS_BOOLEAN_VALUE,autoComplete:null,autoPlay:HAS_BOOLEAN_VALUE,cellPadding:null,cellSpacing:null,charSet:MUST_USE_ATTRIBUTE,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,className:MUST_USE_PROPERTY,cols:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,colSpan:null,content:null,contentEditable:null,contextMenu:MUST_USE_ATTRIBUTE,controls:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,crossOrigin:null,data:null,dateTime:MUST_USE_ATTRIBUTE,defer:HAS_BOOLEAN_VALUE,dir:null,disabled:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,download:null,draggable:null,encType:null,form:MUST_USE_ATTRIBUTE,formNoValidate:HAS_BOOLEAN_VALUE,frameBorder:MUST_USE_ATTRIBUTE,height:MUST_USE_ATTRIBUTE,hidden:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:MUST_USE_PROPERTY,label:null,lang:null,list:null,loop:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,max:null,maxLength:MUST_USE_ATTRIBUTE,mediaGroup:null,method:null,min:null,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:null,noValidate:HAS_BOOLEAN_VALUE,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,rel:null,required:HAS_BOOLEAN_VALUE,role:MUST_USE_ATTRIBUTE,rows:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,rowSpan:null,sandbox:null,scope:null,scrollLeft:MUST_USE_PROPERTY,scrollTop:MUST_USE_PROPERTY,seamless:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,size:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:null,src:null,srcDoc:MUST_USE_PROPERTY,srcSet:null,step:null,style:null,tabIndex:null,target:null,title:null,type:null,value:MUST_USE_PROPERTY|HAS_SIDE_EFFECTS,width:MUST_USE_ATTRIBUTE,wmode:MUST_USE_ATTRIBUTE,autoCapitalize:null,autoCorrect:null,property:null,cx:MUST_USE_ATTRIBUTE,cy:MUST_USE_ATTRIBUTE,d:MUST_USE_ATTRIBUTE,fill:MUST_USE_ATTRIBUTE,fx:MUST_USE_ATTRIBUTE,fy:MUST_USE_ATTRIBUTE,gradientTransform:MUST_USE_ATTRIBUTE,gradientUnits:MUST_USE_ATTRIBUTE,offset:MUST_USE_ATTRIBUTE,points:MUST_USE_ATTRIBUTE,r:MUST_USE_ATTRIBUTE,rx:MUST_USE_ATTRIBUTE,ry:MUST_USE_ATTRIBUTE,spreadMethod:MUST_USE_ATTRIBUTE,stopColor:MUST_USE_ATTRIBUTE,stopOpacity:MUST_USE_ATTRIBUTE,stroke:MUST_USE_ATTRIBUTE,strokeLinecap:MUST_USE_ATTRIBUTE,strokeWidth:MUST_USE_ATTRIBUTE,textAnchor:MUST_USE_ATTRIBUTE,transform:MUST_USE_ATTRIBUTE,version:MUST_USE_ATTRIBUTE,viewBox:MUST_USE_ATTRIBUTE,x1:MUST_USE_ATTRIBUTE,x2:MUST_USE_ATTRIBUTE,x:MUST_USE_ATTRIBUTE,y1:MUST_USE_ATTRIBUTE,y2:MUST_USE_ATTRIBUTE,y:MUST_USE_ATTRIBUTE},DOMAttributeNames:{className:"class",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",htmlFor:"for",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeLinecap:"stroke-linecap",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"enctype",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};module.exports=DefaultDOMPropertyConfig},{"./DOMProperty":28}],32:[function(require,module){"use strict";var keyOf=require("./keyOf"),DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({CompositionEventPlugin:null}),keyOf({AnalyticsEventPlugin:null}),keyOf({MobileSafariClickEventPlugin:null})];module.exports=DefaultEventPluginOrder},{"./keyOf":139}],33:[function(require,module){"use strict";var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),SyntheticMouseEvent=require("./SyntheticMouseEvent"),ReactMount=require("./ReactMount"),keyOf=require("./keyOf"),topLevelTypes=EventConstants.topLevelTypes,getFirstReactDOM=ReactMount.getFirstReactDOM,eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}},extractedEvents=[null,null],EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement))return null;if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver)return null;var win;if(topLevelTarget.window===topLevelTarget)win=topLevelTarget;else{var doc=topLevelTarget.ownerDocument;win=doc?doc.defaultView||doc.parentWindow:window}var from,to;if(topLevelType===topLevelTypes.topMouseOut?(from=topLevelTarget,to=getFirstReactDOM(nativeEvent.relatedTarget||nativeEvent.toElement)||win):(from=win,to=topLevelTarget),from===to)return null;var fromID=from?ReactMount.getID(from):"",toID=to?ReactMount.getID(to):"",leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,fromID,nativeEvent);leave.type="mouseleave",leave.target=from,leave.relatedTarget=to;var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,toID,nativeEvent);return enter.type="mouseenter",enter.target=to,enter.relatedTarget=from,EventPropagators.accumulateEnterLeaveDispatches(leave,enter,fromID,toID),extractedEvents[0]=leave,extractedEvents[1]=enter,extractedEvents}};module.exports=EnterLeaveEventPlugin},{"./EventConstants":34,"./EventPropagators":39,"./ReactMount":75,"./SyntheticMouseEvent":101,"./keyOf":139}],34:[function(require,module){"use strict";var keyMirror=require("./keyMirror"),PropagationPhases=keyMirror({bubbled:null,captured:null}),topLevelTypes=keyMirror({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};module.exports=EventConstants},{"./keyMirror":138}],35:[function(require,module){(function(process){var emptyFunction=require("./emptyFunction"),EventListener={listen:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!1),{remove:function(){target.removeEventListener(eventType,callback,!1)}}):target.attachEvent?(target.attachEvent("on"+eventType,callback),{remove:function(){target.detachEvent(eventType,callback)}}):void 0},capture:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!0),{remove:function(){target.removeEventListener(eventType,callback,!0)}}):("production"!==process.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:emptyFunction})}};module.exports=EventListener}).call(this,require("_process"))},{"./emptyFunction":116,_process:20}],36:[function(require,module){(function(process){"use strict";function validateInstanceHandle(){var invalid=!InstanceHandle||!InstanceHandle.traverseTwoPhase||!InstanceHandle.traverseEnterLeave;if(invalid)throw new Error("InstanceHandle not injected before use!")}var EventPluginRegistry=require("./EventPluginRegistry"),EventPluginUtils=require("./EventPluginUtils"),ExecutionEnvironment=require("./ExecutionEnvironment"),accumulate=require("./accumulate"),forEachAccumulated=require("./forEachAccumulated"),invariant=require("./invariant"),isEventSupported=require("./isEventSupported"),monitorCodeUse=require("./monitorCodeUse"),listenerBank={},eventQueue=null,executeDispatchesAndRelease=function(event){if(event){var executeDispatch=EventPluginUtils.executeDispatch,PluginModule=EventPluginRegistry.getPluginModuleForEvent(event);PluginModule&&PluginModule.executeDispatch&&(executeDispatch=PluginModule.executeDispatch),EventPluginUtils.executeDispatchesInOrder(event,executeDispatch),event.isPersistent()||event.constructor.release(event)}},InstanceHandle=null,EventPluginHub={injection:{injectMount:EventPluginUtils.injection.injectMount,injectInstanceHandle:function(InjectedInstanceHandle){InstanceHandle=InjectedInstanceHandle,"production"!==process.env.NODE_ENV&&validateInstanceHandle()},getInstanceHandle:function(){return"production"!==process.env.NODE_ENV&&validateInstanceHandle(),InstanceHandle},injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},eventNameDispatchConfigs:EventPluginRegistry.eventNameDispatchConfigs,registrationNameModules:EventPluginRegistry.registrationNameModules,putListener:function(id,registrationName,listener){"production"!==process.env.NODE_ENV?invariant(ExecutionEnvironment.canUseDOM,"Cannot call putListener() in a non-DOM environment."):invariant(ExecutionEnvironment.canUseDOM),"production"!==process.env.NODE_ENV?invariant(!listener||"function"==typeof listener,"Expected %s listener to be a function, instead got type %s",registrationName,typeof listener):invariant(!listener||"function"==typeof listener),"production"!==process.env.NODE_ENV&&("onScroll"!==registrationName||isEventSupported("scroll",!0)||(monitorCodeUse("react_no_scroll_event"),console.warn("This browser doesn't support the `onScroll` event")));var bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[id]=listener},getListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];return bankForRegistrationName&&bankForRegistrationName[id]},deleteListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];bankForRegistrationName&&delete bankForRegistrationName[id]},deleteAllListeners:function(id){for(var registrationName in listenerBank)delete listenerBank[registrationName][id]},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){for(var events,plugins=EventPluginRegistry.plugins,i=0,l=plugins.length;l>i;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent);extractedEvents&&(events=accumulate(events,extractedEvents))}}return events},enqueueEvents:function(events){events&&(eventQueue=accumulate(eventQueue,events))},processEventQueue:function(){var processingEventQueue=eventQueue;eventQueue=null,forEachAccumulated(processingEventQueue,executeDispatchesAndRelease),"production"!==process.env.NODE_ENV?invariant(!eventQueue,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):invariant(!eventQueue)},__purge:function(){listenerBank={}},__getListenerBank:function(){return listenerBank}};module.exports=EventPluginHub}).call(this,require("_process"))},{"./EventPluginRegistry":37,"./EventPluginUtils":38,"./ExecutionEnvironment":40,"./accumulate":107,"./forEachAccumulated":121,"./invariant":132,"./isEventSupported":133,"./monitorCodeUse":145,_process:20}],37:[function(require,module){(function(process){"use strict";function recomputePluginOrdering(){if(EventPluginOrder)for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName],pluginIndex=EventPluginOrder.indexOf(pluginName);if("production"!==process.env.NODE_ENV?invariant(pluginIndex>-1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",pluginName):invariant(pluginIndex>-1),!EventPluginRegistry.plugins[pluginIndex]){"production"!==process.env.NODE_ENV?invariant(PluginModule.extractEvents,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",pluginName):invariant(PluginModule.extractEvents),EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents)"production"!==process.env.NODE_ENV?invariant(publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName),"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",eventName,pluginName):invariant(publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName))}}}function publishEventForPlugin(dispatchConfig,PluginModule,eventName){"production"!==process.env.NODE_ENV?invariant(!EventPluginRegistry.eventNameDispatchConfigs[eventName],"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",eventName):invariant(!EventPluginRegistry.eventNameDispatchConfigs[eventName]),EventPluginRegistry.eventNameDispatchConfigs[eventName]=dispatchConfig;var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames)if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule,eventName)}return!0}return dispatchConfig.registrationName?(publishRegistrationName(dispatchConfig.registrationName,PluginModule,eventName),!0):!1}function publishRegistrationName(registrationName,PluginModule,eventName){"production"!==process.env.NODE_ENV?invariant(!EventPluginRegistry.registrationNameModules[registrationName],"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",registrationName):invariant(!EventPluginRegistry.registrationNameModules[registrationName]),EventPluginRegistry.registrationNameModules[registrationName]=PluginModule,EventPluginRegistry.registrationNameDependencies[registrationName]=PluginModule.eventTypes[eventName].dependencies}var invariant=require("./invariant"),EventPluginOrder=null,namesToPlugins={},EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(InjectedEventPluginOrder){"production"!==process.env.NODE_ENV?invariant(!EventPluginOrder,"EventPluginRegistry: Cannot inject event plugin ordering more than once."):invariant(!EventPluginOrder),EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder),recomputePluginOrdering()},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=!1;for(var pluginName in injectedNamesToPlugins)if(injectedNamesToPlugins.hasOwnProperty(pluginName)){var PluginModule=injectedNamesToPlugins[pluginName];namesToPlugins[pluginName]!==PluginModule&&("production"!==process.env.NODE_ENV?invariant(!namesToPlugins[pluginName],"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",pluginName):invariant(!namesToPlugins[pluginName]),namesToPlugins[pluginName]=PluginModule,isOrderingDirty=!0)}isOrderingDirty&&recomputePluginOrdering()},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName)return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName]||null;for(var phase in dispatchConfig.phasedRegistrationNames)if(dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){var PluginModule=EventPluginRegistry.registrationNameModules[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule)return PluginModule}return null},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins)namesToPlugins.hasOwnProperty(pluginName)&&delete namesToPlugins[pluginName];EventPluginRegistry.plugins.length=0;var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;for(var eventName in eventNameDispatchConfigs)eventNameDispatchConfigs.hasOwnProperty(eventName)&&delete eventNameDispatchConfigs[eventName];var registrationNameModules=EventPluginRegistry.registrationNameModules;for(var registrationName in registrationNameModules)registrationNameModules.hasOwnProperty(registrationName)&&delete registrationNameModules[registrationName]}};module.exports=EventPluginRegistry}).call(this,require("_process"))},{"./invariant":132,_process:20}],38:[function(require,module){(function(process){"use strict";function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel}function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove}function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart}function forEachEventDispatch(event,cb){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs;if("production"!==process.env.NODE_ENV&&validateEventDispatches(event),Array.isArray(dispatchListeners))for(var i=0;i<dispatchListeners.length&&!event.isPropagationStopped();i++)cb(event,dispatchListeners[i],dispatchIDs[i]);else dispatchListeners&&cb(event,dispatchListeners,dispatchIDs)}function executeDispatch(event,listener,domID){event.currentTarget=injection.Mount.getNode(domID);var returnValue=listener(event,domID);return event.currentTarget=null,returnValue}function executeDispatchesInOrder(event,executeDispatch){forEachEventDispatch(event,executeDispatch),event._dispatchListeners=null,event._dispatchIDs=null}function executeDispatchesInOrderStopAtTrue(event){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs;if("production"!==process.env.NODE_ENV&&validateEventDispatches(event),Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length&&!event.isPropagationStopped();i++)if(dispatchListeners[i](event,dispatchIDs[i]))return dispatchIDs[i]}else if(dispatchListeners&&dispatchListeners(event,dispatchIDs))return dispatchIDs;return null}function executeDirectDispatch(event){"production"!==process.env.NODE_ENV&&validateEventDispatches(event);var dispatchListener=event._dispatchListeners,dispatchID=event._dispatchIDs;"production"!==process.env.NODE_ENV?invariant(!Array.isArray(dispatchListener),"executeDirectDispatch(...): Invalid `event`."):invariant(!Array.isArray(dispatchListener));var res=dispatchListener?dispatchListener(event,dispatchID):null;return event._dispatchListeners=null,event._dispatchIDs=null,res}function hasDispatches(event){return!!event._dispatchListeners}var validateEventDispatches,EventConstants=require("./EventConstants"),invariant=require("./invariant"),injection={Mount:null,injectMount:function(InjectedMount){injection.Mount=InjectedMount,"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?invariant(InjectedMount&&InjectedMount.getNode,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode."):invariant(InjectedMount&&InjectedMount.getNode))}},topLevelTypes=EventConstants.topLevelTypes;"production"!==process.env.NODE_ENV&&(validateEventDispatches=function(event){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs,listenersIsArr=Array.isArray(dispatchListeners),idsIsArr=Array.isArray(dispatchIDs),IDsLen=idsIsArr?dispatchIDs.length:dispatchIDs?1:0,listenersLen=listenersIsArr?dispatchListeners.length:dispatchListeners?1:0;"production"!==process.env.NODE_ENV?invariant(idsIsArr===listenersIsArr&&IDsLen===listenersLen,"EventPluginUtils: Invalid `event`."):invariant(idsIsArr===listenersIsArr&&IDsLen===listenersLen)});var EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatch:executeDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,injection:injection,useTouchEvents:!1};module.exports=EventPluginUtils}).call(this,require("_process"))},{"./EventConstants":34,"./invariant":132,_process:20}],39:[function(require,module){(function(process){"use strict";function listenerAtPhase(id,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(id,registrationName)}function accumulateDirectionalDispatches(domID,upwards,event){if("production"!==process.env.NODE_ENV&&!domID)throw new Error("Dispatching id must not be null");var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured,listener=listenerAtPhase(domID,event,phase);listener&&(event._dispatchListeners=accumulate(event._dispatchListeners,listener),event._dispatchIDs=accumulate(event._dispatchIDs,domID))}function accumulateTwoPhaseDispatchesSingle(event){event&&event.dispatchConfig.phasedRegistrationNames&&EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(event.dispatchMarker,accumulateDirectionalDispatches,event)}function accumulateDispatches(id,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName,listener=getListener(id,registrationName);listener&&(event._dispatchListeners=accumulate(event._dispatchListeners,listener),event._dispatchIDs=accumulate(event._dispatchIDs,id))}}function accumulateDirectDispatchesSingle(event){event&&event.dispatchConfig.registrationName&&accumulateDispatches(event.dispatchMarker,null,event)}function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle)}function accumulateEnterLeaveDispatches(leave,enter,fromID,toID){EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(fromID,toID,accumulateDispatches,leave,enter)}function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle)}var EventConstants=require("./EventConstants"),EventPluginHub=require("./EventPluginHub"),accumulate=require("./accumulate"),forEachAccumulated=require("./forEachAccumulated"),PropagationPhases=EventConstants.PropagationPhases,getListener=EventPluginHub.getListener,EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};module.exports=EventPropagators}).call(this,require("_process"))},{"./EventConstants":34,"./EventPluginHub":36,"./accumulate":107,"./forEachAccumulated":121,_process:20}],40:[function(require,module){"use strict";var canUseDOM="undefined"!=typeof window,ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:canUseDOM&&(window.addEventListener||window.attachEvent),isInWorker:!canUseDOM};module.exports=ExecutionEnvironment},{}],41:[function(require,module){(function(process){"use strict";function _assertSingleLink(input){"production"!==process.env.NODE_ENV?invariant(null==input.props.checkedLink||null==input.props.valueLink,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):invariant(null==input.props.checkedLink||null==input.props.valueLink)
}function _assertValueLink(input){_assertSingleLink(input),"production"!==process.env.NODE_ENV?invariant(null==input.props.value&&null==input.props.onChange,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):invariant(null==input.props.value&&null==input.props.onChange)}function _assertCheckedLink(input){_assertSingleLink(input),"production"!==process.env.NODE_ENV?invariant(null==input.props.checked&&null==input.props.onChange,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):invariant(null==input.props.checked&&null==input.props.onChange)}function _handleLinkedValueChange(e){this.props.valueLink.requestChange(e.target.value)}function _handleLinkedCheckChange(e){this.props.checkedLink.requestChange(e.target.checked)}var ReactPropTypes=require("./ReactPropTypes"),invariant=require("./invariant"),warning=require("./warning"),hasReadOnlyValue={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},LinkedValueUtils={Mixin:{propTypes:{value:function(props,propName){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!props[propName]||hasReadOnlyValue[props.type]||props.onChange||props.readOnly||props.disabled,"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."):null)},checked:function(props,propName){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!props[propName]||props.onChange||props.readOnly||props.disabled,"You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`."):null)},onChange:ReactPropTypes.func}},getValue:function(input){return input.props.valueLink?(_assertValueLink(input),input.props.valueLink.value):input.props.value},getChecked:function(input){return input.props.checkedLink?(_assertCheckedLink(input),input.props.checkedLink.value):input.props.checked},getOnChange:function(input){return input.props.valueLink?(_assertValueLink(input),_handleLinkedValueChange):input.props.checkedLink?(_assertCheckedLink(input),_handleLinkedCheckChange):input.props.onChange}};module.exports=LinkedValueUtils}).call(this,require("_process"))},{"./ReactPropTypes":84,"./invariant":132,"./warning":154,_process:20}],42:[function(require,module){"use strict";var EventConstants=require("./EventConstants"),emptyFunction=require("./emptyFunction"),topLevelTypes=EventConstants.topLevelTypes,MobileSafariClickEventPlugin={eventTypes:null,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){if(topLevelType===topLevelTypes.topTouchStart){var target=nativeEvent.target;target&&!target.onclick&&(target.onclick=emptyFunction)}}};module.exports=MobileSafariClickEventPlugin},{"./EventConstants":34,"./emptyFunction":116}],43:[function(require,module){(function(process){"use strict";var invariant=require("./invariant"),oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,copyFieldsFrom),instance}return new Klass(copyFieldsFrom)},twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2),instance}return new Klass(a1,a2)},threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3),instance}return new Klass(a1,a2,a3)},fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3,a4,a5),instance}return new Klass(a1,a2,a3,a4,a5)},standardReleaser=function(instance){var Klass=this;"production"!==process.env.NODE_ENV?invariant(instance instanceof Klass,"Trying to release an instance into a pool of a different type."):invariant(instance instanceof Klass),instance.destructor&&instance.destructor(),Klass.instancePool.length<Klass.poolSize&&Klass.instancePool.push(instance)},DEFAULT_POOL_SIZE=10,DEFAULT_POOLER=oneArgumentPooler,addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;return NewKlass.instancePool=[],NewKlass.getPooled=pooler||DEFAULT_POOLER,NewKlass.poolSize||(NewKlass.poolSize=DEFAULT_POOL_SIZE),NewKlass.release=standardReleaser,NewKlass},PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass}).call(this,require("_process"))},{"./invariant":132,_process:20}],44:[function(require,module){(function(process){"use strict";var DOMPropertyOperations=require("./DOMPropertyOperations"),EventPluginUtils=require("./EventPluginUtils"),ReactChildren=require("./ReactChildren"),ReactComponent=require("./ReactComponent"),ReactCompositeComponent=require("./ReactCompositeComponent"),ReactContext=require("./ReactContext"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactDOM=require("./ReactDOM"),ReactDOMComponent=require("./ReactDOMComponent"),ReactDefaultInjection=require("./ReactDefaultInjection"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),ReactMultiChild=require("./ReactMultiChild"),ReactPerf=require("./ReactPerf"),ReactPropTypes=require("./ReactPropTypes"),ReactServerRendering=require("./ReactServerRendering"),ReactTextComponent=require("./ReactTextComponent"),onlyChild=require("./onlyChild");ReactDefaultInjection.inject();var React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,only:onlyChild},DOM:ReactDOM,PropTypes:ReactPropTypes,initializeTouchEvents:function(shouldUseTouch){EventPluginUtils.useTouchEvents=shouldUseTouch},createClass:ReactCompositeComponent.createClass,constructAndRenderComponent:ReactMount.constructAndRenderComponent,constructAndRenderComponentByID:ReactMount.constructAndRenderComponentByID,renderComponent:ReactPerf.measure("React","renderComponent",ReactMount.renderComponent),renderComponentToString:ReactServerRendering.renderComponentToString,renderComponentToStaticMarkup:ReactServerRendering.renderComponentToStaticMarkup,unmountComponentAtNode:ReactMount.unmountComponentAtNode,isValidClass:ReactCompositeComponent.isValidClass,isValidComponent:ReactComponent.isValidComponent,withContext:ReactContext.withContext,__internals:{Component:ReactComponent,CurrentOwner:ReactCurrentOwner,DOMComponent:ReactDOMComponent,DOMPropertyOperations:DOMPropertyOperations,InstanceHandles:ReactInstanceHandles,Mount:ReactMount,MultiChild:ReactMultiChild,TextComponent:ReactTextComponent}};if("production"!==process.env.NODE_ENV){var ExecutionEnvironment=require("./ExecutionEnvironment");ExecutionEnvironment.canUseDOM&&window.top===window.self&&navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the React DevTools for a better development experience: http://fb.me/react-devtools")}React.version="0.10.0",module.exports=React}).call(this,require("_process"))},{"./DOMPropertyOperations":29,"./EventPluginUtils":38,"./ExecutionEnvironment":40,"./ReactChildren":46,"./ReactComponent":47,"./ReactCompositeComponent":49,"./ReactContext":50,"./ReactCurrentOwner":51,"./ReactDOM":52,"./ReactDOMComponent":54,"./ReactDefaultInjection":64,"./ReactInstanceHandles":73,"./ReactMount":75,"./ReactMultiChild":77,"./ReactPerf":80,"./ReactPropTypes":84,"./ReactServerRendering":88,"./ReactTextComponent":90,"./onlyChild":148,_process:20}],45:[function(require,module){(function(process){"use strict";var ReactMount=require("./ReactMount"),invariant=require("./invariant"),ReactBrowserComponentMixin={getDOMNode:function(){return"production"!==process.env.NODE_ENV?invariant(this.isMounted(),"getDOMNode(): A component must be mounted to have a DOM node."):invariant(this.isMounted()),ReactMount.getNode(this._rootNodeID)}};module.exports=ReactBrowserComponentMixin}).call(this,require("_process"))},{"./ReactMount":75,"./invariant":132,_process:20}],46:[function(require,module){(function(process){"use strict";function ForEachBookKeeping(forEachFunction,forEachContext){this.forEachFunction=forEachFunction,this.forEachContext=forEachContext}function forEachSingleChild(traverseContext,child,name,i){var forEachBookKeeping=traverseContext;forEachBookKeeping.forEachFunction.call(forEachBookKeeping.forEachContext,child,i)}function forEachChildren(children,forEachFunc,forEachContext){if(null==children)return children;var traverseContext=ForEachBookKeeping.getPooled(forEachFunc,forEachContext);traverseAllChildren(children,forEachSingleChild,traverseContext),ForEachBookKeeping.release(traverseContext)}function MapBookKeeping(mapResult,mapFunction,mapContext){this.mapResult=mapResult,this.mapFunction=mapFunction,this.mapContext=mapContext}function mapSingleChildIntoContext(traverseContext,child,name,i){var mapBookKeeping=traverseContext,mapResult=mapBookKeeping.mapResult,mappedChild=mapBookKeeping.mapFunction.call(mapBookKeeping.mapContext,child,i);"production"!==process.env.NODE_ENV?invariant(!mapResult.hasOwnProperty(name),"ReactChildren.map(...): Encountered two children with the same key, `%s`. Children keys must be unique.",name):invariant(!mapResult.hasOwnProperty(name)),mapResult[name]=mappedChild}function mapChildren(children,func,context){if(null==children)return children;var mapResult={},traverseContext=MapBookKeeping.getPooled(mapResult,func,context);return traverseAllChildren(children,mapSingleChildIntoContext,traverseContext),MapBookKeeping.release(traverseContext),mapResult}var PooledClass=require("./PooledClass"),invariant=require("./invariant"),traverseAllChildren=require("./traverseAllChildren"),twoArgumentPooler=PooledClass.twoArgumentPooler,threeArgumentPooler=PooledClass.threeArgumentPooler;PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler),PooledClass.addPoolingTo(MapBookKeeping,threeArgumentPooler);var ReactChildren={forEach:forEachChildren,map:mapChildren};module.exports=ReactChildren}).call(this,require("_process"))},{"./PooledClass":43,"./invariant":132,"./traverseAllChildren":153,_process:20}],47:[function(require,module){(function(process){"use strict";function validateExplicitKey(component){if(!component.__keyValidated__&&null==component.props.key&&(component.__keyValidated__=!0,ReactCurrentOwner.current)){var currentName=ReactCurrentOwner.current.constructor.displayName;if(!ownerHasExplicitKeyWarning.hasOwnProperty(currentName)){ownerHasExplicitKeyWarning[currentName]=!0;var message='Each child in an array should have a unique "key" prop. Check the render method of '+currentName+".",childOwnerName=null;component.isOwnedBy(ReactCurrentOwner.current)||(childOwnerName=component._owner&&component._owner.constructor.displayName,message+=" It was passed a child from "+childOwnerName+"."),message+=" See http://fb.me/react-warning-keys for more information.",monitorCodeUse("react_key_warning",{component:currentName,componentOwner:childOwnerName}),console.warn(message)}}}function validatePropertyKey(name){if(NUMERIC_PROPERTY_REGEX.test(name)){var currentName=ReactCurrentOwner.current.constructor.displayName;if(ownerHasPropertyWarning.hasOwnProperty(currentName))return;ownerHasPropertyWarning[currentName]=!0,monitorCodeUse("react_numeric_key_warning"),console.warn("Child objects should have non-numeric keys so ordering is preserved. Check the render method of "+currentName+". See http://fb.me/react-warning-keys for more information.")}}function monitorUseOfObjectMap(){var currentName=ReactCurrentOwner.current&&ReactCurrentOwner.current.constructor.displayName||"";ownerHasMonitoredObjectMap.hasOwnProperty(currentName)||(ownerHasMonitoredObjectMap[currentName]=!0,monitorCodeUse("react_object_map_children"))}function validateChildKeys(component){if(Array.isArray(component))for(var i=0;i<component.length;i++){var child=component[i];ReactComponent.isValidComponent(child)&&validateExplicitKey(child)}else if(ReactComponent.isValidComponent(component))component.__keyValidated__=!0;else if(component&&"object"==typeof component){monitorUseOfObjectMap();for(var name in component)validatePropertyKey(name,component)}}var ReactCurrentOwner=require("./ReactCurrentOwner"),ReactOwner=require("./ReactOwner"),ReactUpdates=require("./ReactUpdates"),invariant=require("./invariant"),keyMirror=require("./keyMirror"),merge=require("./merge"),monitorCodeUse=require("./monitorCodeUse"),ComponentLifeCycle=keyMirror({MOUNTED:null,UNMOUNTED:null}),ownerHasExplicitKeyWarning={},ownerHasPropertyWarning={},ownerHasMonitoredObjectMap={},NUMERIC_PROPERTY_REGEX=/^\d+$/,injected=!1,unmountIDFromEnvironment=null,mountImageIntoNode=null,ReactComponent={injection:{injectEnvironment:function(ReactComponentEnvironment){"production"!==process.env.NODE_ENV?invariant(!injected,"ReactComponent: injectEnvironment() can only be called once."):invariant(!injected),mountImageIntoNode=ReactComponentEnvironment.mountImageIntoNode,unmountIDFromEnvironment=ReactComponentEnvironment.unmountIDFromEnvironment,ReactComponent.BackendIDOperations=ReactComponentEnvironment.BackendIDOperations,ReactComponent.ReactReconcileTransaction=ReactComponentEnvironment.ReactReconcileTransaction,injected=!0}},isValidComponent:function(object){if(!object||!object.type||!object.type.prototype)return!1;var prototype=object.type.prototype;return"function"==typeof prototype.mountComponentIntoNode&&"function"==typeof prototype.receiveComponent},LifeCycle:ComponentLifeCycle,BackendIDOperations:null,ReactReconcileTransaction:null,Mixin:{isMounted:function(){return this._lifeCycleState===ComponentLifeCycle.MOUNTED},setProps:function(partialProps,callback){this.replaceProps(merge(this._pendingProps||this.props,partialProps),callback)},replaceProps:function(props,callback){"production"!==process.env.NODE_ENV?invariant(this.isMounted(),"replaceProps(...): Can only update a mounted component."):invariant(this.isMounted()),"production"!==process.env.NODE_ENV?invariant(0===this._mountDepth,"replaceProps(...): You called `setProps` or `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):invariant(0===this._mountDepth),this._pendingProps=props,ReactUpdates.enqueueUpdate(this,callback)},construct:function(initialProps,children){this.props=initialProps||{},this._owner=ReactCurrentOwner.current,this._lifeCycleState=ComponentLifeCycle.UNMOUNTED,this._pendingProps=null,this._pendingCallbacks=null,this._pendingOwner=this._owner;var childrenLength=arguments.length-1;if(1===childrenLength)"production"!==process.env.NODE_ENV&&validateChildKeys(children),this.props.children=children;else if(childrenLength>1){for(var childArray=Array(childrenLength),i=0;childrenLength>i;i++)"production"!==process.env.NODE_ENV&&validateChildKeys(arguments[i+1]),childArray[i]=arguments[i+1];this.props.children=childArray}},mountComponent:function(rootID,transaction,mountDepth){"production"!==process.env.NODE_ENV?invariant(!this.isMounted(),"mountComponent(%s, ...): Can only mount an unmounted component. Make sure to avoid storing components between renders or reusing a single component instance in multiple places.",rootID):invariant(!this.isMounted());var props=this.props;null!=props.ref&&ReactOwner.addComponentAsRefTo(this,props.ref,this._owner),this._rootNodeID=rootID,this._lifeCycleState=ComponentLifeCycle.MOUNTED,this._mountDepth=mountDepth},unmountComponent:function(){"production"!==process.env.NODE_ENV?invariant(this.isMounted(),"unmountComponent(): Can only unmount a mounted component."):invariant(this.isMounted());var props=this.props;null!=props.ref&&ReactOwner.removeComponentAsRefFrom(this,props.ref,this._owner),unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._lifeCycleState=ComponentLifeCycle.UNMOUNTED},receiveComponent:function(nextComponent,transaction){"production"!==process.env.NODE_ENV?invariant(this.isMounted(),"receiveComponent(...): Can only update a mounted component."):invariant(this.isMounted()),this._pendingOwner=nextComponent._owner,this._pendingProps=nextComponent.props,this._performUpdateIfNecessary(transaction)},performUpdateIfNecessary:function(){var transaction=ReactComponent.ReactReconcileTransaction.getPooled();transaction.perform(this._performUpdateIfNecessary,this,transaction),ReactComponent.ReactReconcileTransaction.release(transaction)},_performUpdateIfNecessary:function(transaction){if(null!=this._pendingProps){var prevProps=this.props,prevOwner=this._owner;this.props=this._pendingProps,this._owner=this._pendingOwner,this._pendingProps=null,this.updateComponent(transaction,prevProps,prevOwner)}},updateComponent:function(transaction,prevProps,prevOwner){var props=this.props;(this._owner!==prevOwner||props.ref!==prevProps.ref)&&(null!=prevProps.ref&&ReactOwner.removeComponentAsRefFrom(this,prevProps.ref,prevOwner),null!=props.ref&&ReactOwner.addComponentAsRefTo(this,props.ref,this._owner))},mountComponentIntoNode:function(rootID,container,shouldReuseMarkup){var transaction=ReactComponent.ReactReconcileTransaction.getPooled();transaction.perform(this._mountComponentIntoNode,this,rootID,container,transaction,shouldReuseMarkup),ReactComponent.ReactReconcileTransaction.release(transaction)},_mountComponentIntoNode:function(rootID,container,transaction,shouldReuseMarkup){var markup=this.mountComponent(rootID,transaction,0);mountImageIntoNode(markup,container,shouldReuseMarkup)},isOwnedBy:function(owner){return this._owner===owner},getSiblingByRef:function(ref){var owner=this._owner;return owner&&owner.refs?owner.refs[ref]:null}}};module.exports=ReactComponent}).call(this,require("_process"))},{"./ReactCurrentOwner":51,"./ReactOwner":79,"./ReactUpdates":91,"./invariant":132,"./keyMirror":138,"./merge":141,"./monitorCodeUse":145,_process:20}],48:[function(require,module){(function(process){"use strict";var ReactDOMIDOperations=require("./ReactDOMIDOperations"),ReactMarkupChecksum=require("./ReactMarkupChecksum"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),ReactReconcileTransaction=require("./ReactReconcileTransaction"),getReactRootElementInContainer=require("./getReactRootElementInContainer"),invariant=require("./invariant"),ELEMENT_NODE_TYPE=1,DOC_NODE_TYPE=9,ReactComponentBrowserEnvironment={ReactReconcileTransaction:ReactReconcileTransaction,BackendIDOperations:ReactDOMIDOperations,unmountIDFromEnvironment:function(rootNodeID){ReactMount.purgeID(rootNodeID)},mountImageIntoNode:ReactPerf.measure("ReactComponentBrowserEnvironment","mountImageIntoNode",function(markup,container,shouldReuseMarkup){if("production"!==process.env.NODE_ENV?invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE),"mountComponentIntoNode(...): Target container is not valid."):invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE)),shouldReuseMarkup){if(ReactMarkupChecksum.canReuseMarkup(markup,getReactRootElementInContainer(container)))return;"production"!==process.env.NODE_ENV?invariant(container.nodeType!==DOC_NODE_TYPE,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side."):invariant(container.nodeType!==DOC_NODE_TYPE),"production"!==process.env.NODE_ENV&&console.warn("React attempted to use reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injectednew markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server.")}"production"!==process.env.NODE_ENV?invariant(container.nodeType!==DOC_NODE_TYPE,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See renderComponentToString() for server rendering."):invariant(container.nodeType!==DOC_NODE_TYPE),container.innerHTML=markup})};module.exports=ReactComponentBrowserEnvironment}).call(this,require("_process"))},{"./ReactDOMIDOperations":56,"./ReactMarkupChecksum":74,"./ReactMount":75,"./ReactPerf":80,"./ReactReconcileTransaction":86,"./getReactRootElementInContainer":127,"./invariant":132,_process:20}],49:[function(require,module){(function(process){"use strict";function validateTypeDef(Constructor,typeDef,location){for(var propName in typeDef)typeDef.hasOwnProperty(propName)&&("production"!==process.env.NODE_ENV?invariant("function"==typeof typeDef[propName],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",Constructor.displayName||"ReactCompositeComponent",ReactPropTypeLocationNames[location],propName):invariant("function"==typeof typeDef[propName]))}function validateMethodOverride(proto,name){var specPolicy=ReactCompositeComponentInterface[name];ReactCompositeComponentMixin.hasOwnProperty(name)&&("production"!==process.env.NODE_ENV?invariant(specPolicy===SpecPolicy.OVERRIDE_BASE,"ReactCompositeComponentInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",name):invariant(specPolicy===SpecPolicy.OVERRIDE_BASE)),proto.hasOwnProperty(name)&&("production"!==process.env.NODE_ENV?invariant(specPolicy===SpecPolicy.DEFINE_MANY||specPolicy===SpecPolicy.DEFINE_MANY_MERGED,"ReactCompositeComponentInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name):invariant(specPolicy===SpecPolicy.DEFINE_MANY||specPolicy===SpecPolicy.DEFINE_MANY_MERGED))}function validateLifeCycleOnReplaceState(instance){var compositeLifeCycleState=instance._compositeLifeCycleState;"production"!==process.env.NODE_ENV?invariant(instance.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING,"replaceState(...): Can only update a mounted or mounting component."):invariant(instance.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING),"production"!==process.env.NODE_ENV?invariant(compositeLifeCycleState!==CompositeLifeCycle.RECEIVING_STATE,"replaceState(...): Cannot update during an existing state transition (such as within `render`). This could potentially cause an infinite loop so it is forbidden."):invariant(compositeLifeCycleState!==CompositeLifeCycle.RECEIVING_STATE),"production"!==process.env.NODE_ENV?invariant(compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING,"replaceState(...): Cannot update while unmounting component. This usually means you called setState() on an unmounted component."):invariant(compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING)}function mixSpecIntoComponent(ConvenienceConstructor,spec){"production"!==process.env.NODE_ENV?invariant(!isValidClass(spec),"ReactCompositeComponent: You're attempting to use a component class as a mixin. Instead, just use a regular object."):invariant(!isValidClass(spec)),"production"!==process.env.NODE_ENV?invariant(!ReactComponent.isValidComponent(spec),"ReactCompositeComponent: You're attempting to use a component as a mixin. Instead, just use a regular object."):invariant(!ReactComponent.isValidComponent(spec));var Constructor=ConvenienceConstructor.componentConstructor,proto=Constructor.prototype;for(var name in spec){var property=spec[name];if(spec.hasOwnProperty(name))if(validateMethodOverride(proto,name),RESERVED_SPEC_KEYS.hasOwnProperty(name))RESERVED_SPEC_KEYS[name](ConvenienceConstructor,property);else{var isCompositeComponentMethod=name in ReactCompositeComponentInterface,isInherited=name in proto,markedDontBind=property&&property.__reactDontBind,isFunction="function"==typeof property,shouldAutoBind=isFunction&&!isCompositeComponentMethod&&!isInherited&&!markedDontBind;shouldAutoBind?(proto.__reactAutoBindMap||(proto.__reactAutoBindMap={}),proto.__reactAutoBindMap[name]=property,proto[name]=property):proto[name]=isInherited?ReactCompositeComponentInterface[name]===SpecPolicy.DEFINE_MANY_MERGED?createMergedResultFunction(proto[name],property):createChainedFunction(proto[name],property):property}}}function mixStaticSpecIntoComponent(ConvenienceConstructor,statics){if(statics)for(var name in statics){var property=statics[name];if(!statics.hasOwnProperty(name))return;var isInherited=name in ConvenienceConstructor,result=property;if(isInherited){var existingProperty=ConvenienceConstructor[name],existingType=typeof existingProperty,propertyType=typeof property;"production"!==process.env.NODE_ENV?invariant("function"===existingType&&"function"===propertyType,"ReactCompositeComponent: You are attempting to define `%s` on your component more than once, but that is only supported for functions, which are chained together. This conflict may be due to a mixin.",name):invariant("function"===existingType&&"function"===propertyType),result=createChainedFunction(existingProperty,property)}ConvenienceConstructor[name]=result,ConvenienceConstructor.componentConstructor[name]=result}}function mergeObjectsWithNoDuplicateKeys(one,two){return"production"!==process.env.NODE_ENV?invariant(one&&two&&"object"==typeof one&&"object"==typeof two,"mergeObjectsWithNoDuplicateKeys(): Cannot merge non-objects"):invariant(one&&two&&"object"==typeof one&&"object"==typeof two),objMap(two,function(value,key){"production"!==process.env.NODE_ENV?invariant(void 0===one[key],"mergeObjectsWithNoDuplicateKeys(): Tried to merge two objects with the same key: %s",key):invariant(void 0===one[key]),one[key]=value}),one}function createMergedResultFunction(one,two){return function(){var a=one.apply(this,arguments),b=two.apply(this,arguments);return null==a?b:null==b?a:mergeObjectsWithNoDuplicateKeys(a,b)}}function createChainedFunction(one,two){return function(){one.apply(this,arguments),two.apply(this,arguments)}}function isValidClass(componentClass){return componentClass instanceof Function&&"componentConstructor"in componentClass&&componentClass.componentConstructor instanceof Function}var ReactComponent=require("./ReactComponent"),ReactContext=require("./ReactContext"),ReactCurrentOwner=require("./ReactCurrentOwner"),ReactErrorUtils=require("./ReactErrorUtils"),ReactOwner=require("./ReactOwner"),ReactPerf=require("./ReactPerf"),ReactPropTransferer=require("./ReactPropTransferer"),ReactPropTypeLocations=require("./ReactPropTypeLocations"),ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames"),ReactUpdates=require("./ReactUpdates"),instantiateReactComponent=require("./instantiateReactComponent"),invariant=require("./invariant"),keyMirror=require("./keyMirror"),merge=require("./merge"),mixInto=require("./mixInto"),monitorCodeUse=require("./monitorCodeUse"),objMap=require("./objMap"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent"),warning=require("./warning"),SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),injectedMixins=[],ReactCompositeComponentInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE},RESERVED_SPEC_KEYS={displayName:function(ConvenienceConstructor,displayName){ConvenienceConstructor.componentConstructor.displayName=displayName},mixins:function(ConvenienceConstructor,mixins){if(mixins)for(var i=0;i<mixins.length;i++)mixSpecIntoComponent(ConvenienceConstructor,mixins[i])},childContextTypes:function(ConvenienceConstructor,childContextTypes){var Constructor=ConvenienceConstructor.componentConstructor;validateTypeDef(Constructor,childContextTypes,ReactPropTypeLocations.childContext),Constructor.childContextTypes=merge(Constructor.childContextTypes,childContextTypes)},contextTypes:function(ConvenienceConstructor,contextTypes){var Constructor=ConvenienceConstructor.componentConstructor;validateTypeDef(Constructor,contextTypes,ReactPropTypeLocations.context),Constructor.contextTypes=merge(Constructor.contextTypes,contextTypes)},propTypes:function(ConvenienceConstructor,propTypes){var Constructor=ConvenienceConstructor.componentConstructor;validateTypeDef(Constructor,propTypes,ReactPropTypeLocations.prop),Constructor.propTypes=merge(Constructor.propTypes,propTypes)},statics:function(ConvenienceConstructor,statics){mixStaticSpecIntoComponent(ConvenienceConstructor,statics)}};if("production"!==process.env.NODE_ENV)var unmountedPropertyWhitelist={constructor:!0,construct:!0,isOwnedBy:!0,type:!0,props:!0,__keyValidated__:!0,_owner:!0,_currentContext:!0},componentInstanceProperties={__keyValidated__:!0,__keySetters:!0,_compositeLifeCycleState:!0,_currentContext:!0,_defaultProps:!0,_instance:!0,_lifeCycleState:!0,_mountDepth:!0,_owner:!0,_pendingCallbacks:!0,_pendingContext:!0,_pendingForceUpdate:!0,_pendingOwner:!0,_pendingProps:!0,_pendingState:!0,_renderedComponent:!0,_rootNodeID:!0,context:!0,props:!0,refs:!0,state:!0,_pendingQueries:!0,_queryPropListeners:!0,queryParams:!0},hasWarnedOnComponentType={},warningStackCounter=0,issueMembraneWarning=function(instance,key){var isWhitelisted=unmountedPropertyWhitelist.hasOwnProperty(key);if(!(warningStackCounter>0||isWhitelisted)){var name=instance.constructor.displayName||"Unknown",owner=ReactCurrentOwner.current,ownerName=owner&&owner.constructor.displayName||"Unknown",warningKey=key+"|"+name+"|"+ownerName;if(!hasWarnedOnComponentType.hasOwnProperty(warningKey)){hasWarnedOnComponentType[warningKey]=!0;var context=owner?" in "+ownerName+".":" at the top level.",staticMethodExample="<"+name+" />.type."+key+"(...)";monitorCodeUse("react_descriptor_property_access",{component:name}),console.warn('Invalid access to component property "'+key+'" on '+name+context+" See http://fb.me/react-warning-descriptors . Use a static method instead: "+staticMethodExample)}}},wrapInMembraneFunction=function(fn,thisBinding){return fn.__reactMembraneFunction&&fn.__reactMembraneSelf===thisBinding?fn.__reactMembraneFunction:fn.__reactMembraneFunction=function(){warningStackCounter++;try{var self=this===thisBinding?this.__realComponentInstance:this;return fn.apply(self,arguments)}finally{warningStackCounter--}}},defineMembraneProperty=function(membrane,prototype,key){Object.defineProperty(membrane,key,{configurable:!1,enumerable:!0,get:function(){if(this===membrane)return prototype[key];var realValue=this.__realComponentInstance[key];return"function"==typeof realValue&&"type"!==key&&"constructor"!==key?wrapInMembraneFunction(realValue,this):realValue},set:function(value){return this===membrane?void(prototype[key]=value):(issueMembraneWarning(this,key),void(this.__realComponentInstance[key]=value))
}})},createMountWarningMembrane=function(prototype){var key,membrane={};for(key in prototype)defineMembraneProperty(membrane,prototype,key);for(key in componentInstanceProperties)!componentInstanceProperties.hasOwnProperty(key)||key in prototype||defineMembraneProperty(membrane,prototype,key);return membrane},createDescriptorProxy=function(constructor){try{var ProxyConstructor=function(){this.__realComponentInstance=new constructor,Object.freeze(this)};return ProxyConstructor.prototype=createMountWarningMembrane(constructor.prototype),ProxyConstructor}catch(x){return constructor}};var CompositeLifeCycle=keyMirror({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null,RECEIVING_STATE:null}),ReactCompositeComponentMixin={construct:function(){ReactComponent.Mixin.construct.apply(this,arguments),ReactOwner.Mixin.construct.apply(this,arguments),this.state=null,this._pendingState=null,this.context=null,this._currentContext=ReactContext.current,this._pendingContext=null,this._descriptor=null,this._compositeLifeCycleState=null},toJSON:function(){return{type:this.type,props:this.props}},isMounted:function(){return ReactComponent.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==CompositeLifeCycle.MOUNTING},mountComponent:ReactPerf.measure("ReactCompositeComponent","mountComponent",function(rootID,transaction,mountDepth){ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth),this._compositeLifeCycleState=CompositeLifeCycle.MOUNTING,this.context=this._processContext(this._currentContext),this._defaultProps=this.getDefaultProps?this.getDefaultProps():null,this.props=this._processProps(this.props),this.__reactAutoBindMap&&this._bindAutoBindMethods(),this.state=this.getInitialState?this.getInitialState():null,"production"!==process.env.NODE_ENV?invariant("object"==typeof this.state&&!Array.isArray(this.state),"%s.getInitialState(): must return an object or null",this.constructor.displayName||"ReactCompositeComponent"):invariant("object"==typeof this.state&&!Array.isArray(this.state)),this._pendingState=null,this._pendingForceUpdate=!1,this.componentWillMount&&(this.componentWillMount(),this._pendingState&&(this.state=this._pendingState,this._pendingState=null)),this._renderedComponent=instantiateReactComponent(this._renderValidatedComponent()),this._compositeLifeCycleState=null;var markup=this._renderedComponent.mountComponent(rootID,transaction,mountDepth+1);return this.componentDidMount&&transaction.getReactMountReady().enqueue(this,this.componentDidMount),markup}),unmountComponent:function(){this._compositeLifeCycleState=CompositeLifeCycle.UNMOUNTING,this.componentWillUnmount&&this.componentWillUnmount(),this._compositeLifeCycleState=null,this._defaultProps=null,this._renderedComponent.unmountComponent(),this._renderedComponent=null,ReactComponent.Mixin.unmountComponent.call(this)},setState:function(partialState,callback){"production"!==process.env.NODE_ENV?invariant("object"==typeof partialState||null==partialState,"setState(...): takes an object of state variables to update."):invariant("object"==typeof partialState||null==partialState),"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(null!=partialState,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):null),this.replaceState(merge(this._pendingState||this.state,partialState),callback)},replaceState:function(completeState,callback){validateLifeCycleOnReplaceState(this),this._pendingState=completeState,ReactUpdates.enqueueUpdate(this,callback)},_processContext:function(context){var maskedContext=null,contextTypes=this.constructor.contextTypes;if(contextTypes){maskedContext={};for(var contextName in contextTypes)maskedContext[contextName]=context[contextName];"production"!==process.env.NODE_ENV&&this._checkPropTypes(contextTypes,maskedContext,ReactPropTypeLocations.context)}return maskedContext},_processChildContext:function(currentContext){var childContext=this.getChildContext&&this.getChildContext(),displayName=this.constructor.displayName||"ReactCompositeComponent";if(childContext){"production"!==process.env.NODE_ENV?invariant("object"==typeof this.constructor.childContextTypes,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",displayName):invariant("object"==typeof this.constructor.childContextTypes),"production"!==process.env.NODE_ENV&&this._checkPropTypes(this.constructor.childContextTypes,childContext,ReactPropTypeLocations.childContext);for(var name in childContext)"production"!==process.env.NODE_ENV?invariant(name in this.constructor.childContextTypes,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',displayName,name):invariant(name in this.constructor.childContextTypes);return merge(currentContext,childContext)}return currentContext},_processProps:function(newProps){var props=merge(newProps),defaultProps=this._defaultProps;for(var propName in defaultProps)"undefined"==typeof props[propName]&&(props[propName]=defaultProps[propName]);if("production"!==process.env.NODE_ENV){var propTypes=this.constructor.propTypes;propTypes&&this._checkPropTypes(propTypes,props,ReactPropTypeLocations.prop)}return props},_checkPropTypes:function(propTypes,props,location){var componentName=this.constructor.displayName;for(var propName in propTypes)propTypes.hasOwnProperty(propName)&&propTypes[propName](props,propName,componentName,location)},performUpdateIfNecessary:function(){var compositeLifeCycleState=this._compositeLifeCycleState;compositeLifeCycleState!==CompositeLifeCycle.MOUNTING&&compositeLifeCycleState!==CompositeLifeCycle.RECEIVING_PROPS&&ReactComponent.Mixin.performUpdateIfNecessary.call(this)},_performUpdateIfNecessary:function(transaction){if(null!=this._pendingProps||null!=this._pendingState||null!=this._pendingContext||this._pendingForceUpdate){var nextFullContext=this._pendingContext||this._currentContext,nextContext=this._processContext(nextFullContext);this._pendingContext=null;var nextProps=this.props;null!=this._pendingProps&&(nextProps=this._processProps(this._pendingProps),this._pendingProps=null,this._compositeLifeCycleState=CompositeLifeCycle.RECEIVING_PROPS,this.componentWillReceiveProps&&this.componentWillReceiveProps(nextProps,nextContext)),this._compositeLifeCycleState=CompositeLifeCycle.RECEIVING_STATE;var nextOwner=this._pendingOwner,nextState=this._pendingState||this.state;this._pendingState=null;try{this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(nextProps,nextState,nextContext)?(this._pendingForceUpdate=!1,this._performComponentUpdate(nextProps,nextOwner,nextState,nextFullContext,nextContext,transaction)):(this.props=nextProps,this._owner=nextOwner,this.state=nextState,this._currentContext=nextFullContext,this.context=nextContext)}finally{this._compositeLifeCycleState=null}}},_performComponentUpdate:function(nextProps,nextOwner,nextState,nextFullContext,nextContext,transaction){var prevProps=this.props,prevOwner=this._owner,prevState=this.state,prevContext=this.context;this.componentWillUpdate&&this.componentWillUpdate(nextProps,nextState,nextContext),this.props=nextProps,this._owner=nextOwner,this.state=nextState,this._currentContext=nextFullContext,this.context=nextContext,this.updateComponent(transaction,prevProps,prevOwner,prevState,prevContext),this.componentDidUpdate&&transaction.getReactMountReady().enqueue(this,this.componentDidUpdate.bind(this,prevProps,prevState,prevContext))},receiveComponent:function(nextComponent,transaction){nextComponent!==this._descriptor&&(this._descriptor=nextComponent,this._pendingContext=nextComponent._currentContext,ReactComponent.Mixin.receiveComponent.call(this,nextComponent,transaction))},updateComponent:ReactPerf.measure("ReactCompositeComponent","updateComponent",function(transaction,prevProps,prevOwner){ReactComponent.Mixin.updateComponent.call(this,transaction,prevProps,prevOwner);var prevComponentInstance=this._renderedComponent,nextComponent=this._renderValidatedComponent();if(shouldUpdateReactComponent(prevComponentInstance,nextComponent))prevComponentInstance.receiveComponent(nextComponent,transaction);else{var thisID=this._rootNodeID,prevComponentID=prevComponentInstance._rootNodeID;prevComponentInstance.unmountComponent(),this._renderedComponent=instantiateReactComponent(nextComponent);var nextMarkup=this._renderedComponent.mountComponent(thisID,transaction,this._mountDepth+1);ReactComponent.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(prevComponentID,nextMarkup)}}),forceUpdate:function(callback){var compositeLifeCycleState=this._compositeLifeCycleState;"production"!==process.env.NODE_ENV?invariant(this.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING,"forceUpdate(...): Can only force an update on mounted or mounting components."):invariant(this.isMounted()||compositeLifeCycleState===CompositeLifeCycle.MOUNTING),"production"!==process.env.NODE_ENV?invariant(compositeLifeCycleState!==CompositeLifeCycle.RECEIVING_STATE&&compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING,"forceUpdate(...): Cannot force an update while unmounting component or during an existing state transition (such as within `render`)."):invariant(compositeLifeCycleState!==CompositeLifeCycle.RECEIVING_STATE&&compositeLifeCycleState!==CompositeLifeCycle.UNMOUNTING),this._pendingForceUpdate=!0,ReactUpdates.enqueueUpdate(this,callback)},_renderValidatedComponent:ReactPerf.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var renderedComponent,previousContext=ReactContext.current;ReactContext.current=this._processChildContext(this._currentContext),ReactCurrentOwner.current=this;try{renderedComponent=this.render()}finally{ReactContext.current=previousContext,ReactCurrentOwner.current=null}return"production"!==process.env.NODE_ENV?invariant(ReactComponent.isValidComponent(renderedComponent),"%s.render(): A valid ReactComponent must be returned. You may have returned null, undefined, an array, or some other invalid object.",this.constructor.displayName||"ReactCompositeComponent"):invariant(ReactComponent.isValidComponent(renderedComponent)),renderedComponent}),_bindAutoBindMethods:function(){for(var autoBindKey in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(autoBindKey)){var method=this.__reactAutoBindMap[autoBindKey];this[autoBindKey]=this._bindAutoBindMethod(ReactErrorUtils.guard(method,this.constructor.displayName+"."+autoBindKey))}},_bindAutoBindMethod:function(method){var component=this,boundMethod=function(){return method.apply(component,arguments)};if("production"!==process.env.NODE_ENV){boundMethod.__reactBoundContext=component,boundMethod.__reactBoundMethod=method,boundMethod.__reactBoundArguments=null;var componentName=component.constructor.displayName,_bind=boundMethod.bind;boundMethod.bind=function(newThis){var args=Array.prototype.slice.call(arguments,1);if(newThis!==component&&null!==newThis)monitorCodeUse("react_bind_warning",{component:componentName}),console.warn("bind(): React component methods may only be bound to the component instance. See "+componentName);else if(!args.length)return monitorCodeUse("react_bind_warning",{component:componentName}),console.warn("bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See "+componentName),boundMethod;var reboundMethod=_bind.apply(boundMethod,arguments);return reboundMethod.__reactBoundContext=component,reboundMethod.__reactBoundMethod=method,reboundMethod.__reactBoundArguments=args,reboundMethod}}return boundMethod}},ReactCompositeComponentBase=function(){};mixInto(ReactCompositeComponentBase,ReactComponent.Mixin),mixInto(ReactCompositeComponentBase,ReactOwner.Mixin),mixInto(ReactCompositeComponentBase,ReactPropTransferer.Mixin),mixInto(ReactCompositeComponentBase,ReactCompositeComponentMixin);var ReactCompositeComponent={LifeCycle:CompositeLifeCycle,Base:ReactCompositeComponentBase,createClass:function(spec){var Constructor=function(){};Constructor.prototype=new ReactCompositeComponentBase,Constructor.prototype.constructor=Constructor;var DescriptorConstructor=Constructor,ConvenienceConstructor=function(){var descriptor=new DescriptorConstructor;return descriptor.construct.apply(descriptor,arguments),descriptor};ConvenienceConstructor.componentConstructor=Constructor,Constructor.ConvenienceConstructor=ConvenienceConstructor,ConvenienceConstructor.originalSpec=spec,injectedMixins.forEach(mixSpecIntoComponent.bind(null,ConvenienceConstructor)),mixSpecIntoComponent(ConvenienceConstructor,spec),"production"!==process.env.NODE_ENV?invariant(Constructor.prototype.render,"createClass(...): Class specification must implement a `render` method."):invariant(Constructor.prototype.render),"production"!==process.env.NODE_ENV&&Constructor.prototype.componentShouldUpdate&&(monitorCodeUse("react_component_should_update_warning",{component:spec.displayName}),console.warn((spec.displayName||"A component")+" has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.")),ConvenienceConstructor.type=Constructor,Constructor.prototype.type=Constructor;for(var methodName in ReactCompositeComponentInterface)Constructor.prototype[methodName]||(Constructor.prototype[methodName]=null);return"production"!==process.env.NODE_ENV&&(DescriptorConstructor=createDescriptorProxy(Constructor)),ConvenienceConstructor},isValidClass:isValidClass,injection:{injectMixin:function(mixin){injectedMixins.push(mixin)}}};module.exports=ReactCompositeComponent}).call(this,require("_process"))},{"./ReactComponent":47,"./ReactContext":50,"./ReactCurrentOwner":51,"./ReactErrorUtils":67,"./ReactOwner":79,"./ReactPerf":80,"./ReactPropTransferer":81,"./ReactPropTypeLocationNames":82,"./ReactPropTypeLocations":83,"./ReactUpdates":91,"./instantiateReactComponent":131,"./invariant":132,"./keyMirror":138,"./merge":141,"./mixInto":144,"./monitorCodeUse":145,"./objMap":146,"./shouldUpdateReactComponent":151,"./warning":154,_process:20}],50:[function(require,module){"use strict";var merge=require("./merge"),ReactContext={current:{},withContext:function(newContext,scopedCallback){var result,previousContext=ReactContext.current;ReactContext.current=merge(previousContext,newContext);try{result=scopedCallback()}finally{ReactContext.current=previousContext}return result}};module.exports=ReactContext},{"./merge":141}],51:[function(require,module){"use strict";var ReactCurrentOwner={current:null};module.exports=ReactCurrentOwner},{}],52:[function(require,module){"use strict";function createDOMComponentClass(tag,omitClose){var Constructor=function(){};Constructor.prototype=new ReactDOMComponent(tag,omitClose),Constructor.prototype.constructor=Constructor,Constructor.displayName=tag;var ConvenienceConstructor=function(){var instance=new Constructor;return instance.construct.apply(instance,arguments),instance};return ConvenienceConstructor.type=Constructor,Constructor.prototype.type=Constructor,Constructor.ConvenienceConstructor=ConvenienceConstructor,ConvenienceConstructor.componentConstructor=Constructor,ConvenienceConstructor}var ReactDOMComponent=require("./ReactDOMComponent"),mergeInto=require("./mergeInto"),objMapKeyVal=require("./objMapKeyVal"),ReactDOM=objMapKeyVal({a:!1,abbr:!1,address:!1,area:!0,article:!1,aside:!1,audio:!1,b:!1,base:!0,bdi:!1,bdo:!1,big:!1,blockquote:!1,body:!1,br:!0,button:!1,canvas:!1,caption:!1,cite:!1,code:!1,col:!0,colgroup:!1,data:!1,datalist:!1,dd:!1,del:!1,details:!1,dfn:!1,div:!1,dl:!1,dt:!1,em:!1,embed:!0,fieldset:!1,figcaption:!1,figure:!1,footer:!1,form:!1,h1:!1,h2:!1,h3:!1,h4:!1,h5:!1,h6:!1,head:!1,header:!1,hr:!0,html:!1,i:!1,iframe:!1,img:!0,input:!0,ins:!1,kbd:!1,keygen:!0,label:!1,legend:!1,li:!1,link:!0,main:!1,map:!1,mark:!1,menu:!1,menuitem:!1,meta:!0,meter:!1,nav:!1,noscript:!1,object:!1,ol:!1,optgroup:!1,option:!1,output:!1,p:!1,param:!0,pre:!1,progress:!1,q:!1,rp:!1,rt:!1,ruby:!1,s:!1,samp:!1,script:!1,section:!1,select:!1,small:!1,source:!0,span:!1,strong:!1,style:!1,sub:!1,summary:!1,sup:!1,table:!1,tbody:!1,td:!1,textarea:!1,tfoot:!1,th:!1,thead:!1,time:!1,title:!1,tr:!1,track:!0,u:!1,ul:!1,"var":!1,video:!1,wbr:!0,circle:!1,defs:!1,g:!1,line:!1,linearGradient:!1,path:!1,polygon:!1,polyline:!1,radialGradient:!1,rect:!1,stop:!1,svg:!1,text:!1},createDOMComponentClass),injection={injectComponentClasses:function(componentClasses){mergeInto(ReactDOM,componentClasses)}};ReactDOM.injection=injection,module.exports=ReactDOM},{"./ReactDOMComponent":54,"./mergeInto":143,"./objMapKeyVal":147}],53:[function(require,module){"use strict";var AutoFocusMixin=require("./AutoFocusMixin"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactCompositeComponent=require("./ReactCompositeComponent"),ReactDOM=require("./ReactDOM"),keyMirror=require("./keyMirror"),button=ReactDOM.button,mouseListenerNames=keyMirror({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),ReactDOMButton=ReactCompositeComponent.createClass({displayName:"ReactDOMButton",mixins:[AutoFocusMixin,ReactBrowserComponentMixin],render:function(){var props={};for(var key in this.props)!this.props.hasOwnProperty(key)||this.props.disabled&&mouseListenerNames[key]||(props[key]=this.props[key]);return button(props,this.props.children)}});module.exports=ReactDOMButton},{"./AutoFocusMixin":21,"./ReactBrowserComponentMixin":45,"./ReactCompositeComponent":49,"./ReactDOM":52,"./keyMirror":138}],54:[function(require,module){(function(process){"use strict";function assertValidProps(props){props&&("production"!==process.env.NODE_ENV?invariant(null==props.children||null==props.dangerouslySetInnerHTML,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):invariant(null==props.children||null==props.dangerouslySetInnerHTML),"production"!==process.env.NODE_ENV?invariant(null==props.style||"object"==typeof props.style,"The `style` prop expects a mapping from style properties to values, not a string."):invariant(null==props.style||"object"==typeof props.style))}function putListener(id,registrationName,listener,transaction){var container=ReactMount.findReactContainerForID(id);if(container){var doc=container.nodeType===ELEMENT_NODE_TYPE?container.ownerDocument:container;listenTo(registrationName,doc)}transaction.getPutListenerQueue().enqueuePutListener(id,registrationName,listener)}function ReactDOMComponent(tag,omitClose){this._tagOpen="<"+tag,this._tagClose=omitClose?"":"</"+tag+">",this.tagName=tag.toUpperCase()}var CSSPropertyOperations=require("./CSSPropertyOperations"),DOMProperty=require("./DOMProperty"),DOMPropertyOperations=require("./DOMPropertyOperations"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactComponent=require("./ReactComponent"),ReactEventEmitter=require("./ReactEventEmitter"),ReactMount=require("./ReactMount"),ReactMultiChild=require("./ReactMultiChild"),ReactPerf=require("./ReactPerf"),escapeTextForBrowser=require("./escapeTextForBrowser"),invariant=require("./invariant"),keyOf=require("./keyOf"),merge=require("./merge"),mixInto=require("./mixInto"),deleteListener=ReactEventEmitter.deleteListener,listenTo=ReactEventEmitter.listenTo,registrationNameModules=ReactEventEmitter.registrationNameModules,CONTENT_TYPES={string:!0,number:!0},STYLE=keyOf({style:null}),ELEMENT_NODE_TYPE=1;ReactDOMComponent.Mixin={mountComponent:ReactPerf.measure("ReactDOMComponent","mountComponent",function(rootID,transaction,mountDepth){return ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth),assertValidProps(this.props),this._createOpenTagMarkupAndPutListeners(transaction)+this._createContentMarkup(transaction)+this._tagClose}),_createOpenTagMarkupAndPutListeners:function(transaction){var props=this.props,ret=this._tagOpen;for(var propKey in props)if(props.hasOwnProperty(propKey)){var propValue=props[propKey];if(null!=propValue)if(registrationNameModules[propKey])putListener(this._rootNodeID,propKey,propValue,transaction);else{propKey===STYLE&&(propValue&&(propValue=props.style=merge(props.style)),propValue=CSSPropertyOperations.createMarkupForStyles(propValue));var markup=DOMPropertyOperations.createMarkupForProperty(propKey,propValue);markup&&(ret+=" "+markup)}}if(transaction.renderToStaticMarkup)return ret+">";var markupForID=DOMPropertyOperations.createMarkupForID(this._rootNodeID);return ret+" "+markupForID+">"},_createContentMarkup:function(transaction){var innerHTML=this.props.dangerouslySetInnerHTML;if(null!=innerHTML){if(null!=innerHTML.__html)return innerHTML.__html}else{var contentToUse=CONTENT_TYPES[typeof this.props.children]?this.props.children:null,childrenToUse=null!=contentToUse?null:this.props.children;if(null!=contentToUse)return escapeTextForBrowser(contentToUse);if(null!=childrenToUse){var mountImages=this.mountChildren(childrenToUse,transaction);return mountImages.join("")}}return""},receiveComponent:function(nextComponent,transaction){nextComponent!==this&&(assertValidProps(nextComponent.props),ReactComponent.Mixin.receiveComponent.call(this,nextComponent,transaction))},updateComponent:ReactPerf.measure("ReactDOMComponent","updateComponent",function(transaction,prevProps,prevOwner){ReactComponent.Mixin.updateComponent.call(this,transaction,prevProps,prevOwner),this._updateDOMProperties(prevProps,transaction),this._updateDOMChildren(prevProps,transaction)}),_updateDOMProperties:function(lastProps,transaction){var propKey,styleName,styleUpdates,nextProps=this.props;for(propKey in lastProps)if(!nextProps.hasOwnProperty(propKey)&&lastProps.hasOwnProperty(propKey))if(propKey===STYLE){var lastStyle=lastProps[propKey];for(styleName in lastStyle)lastStyle.hasOwnProperty(styleName)&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]="")}else registrationNameModules[propKey]?deleteListener(this._rootNodeID,propKey):(DOMProperty.isStandardName[propKey]||DOMProperty.isCustomAttribute(propKey))&&ReactComponent.BackendIDOperations.deletePropertyByID(this._rootNodeID,propKey);for(propKey in nextProps){var nextProp=nextProps[propKey],lastProp=lastProps[propKey];if(nextProps.hasOwnProperty(propKey)&&nextProp!==lastProp)if(propKey===STYLE)if(nextProp&&(nextProp=nextProps.style=merge(nextProp)),lastProp){for(styleName in lastProp)lastProp.hasOwnProperty(styleName)&&!nextProp.hasOwnProperty(styleName)&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]="");for(styleName in nextProp)nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]=nextProp[styleName])}else styleUpdates=nextProp;else registrationNameModules[propKey]?putListener(this._rootNodeID,propKey,nextProp,transaction):(DOMProperty.isStandardName[propKey]||DOMProperty.isCustomAttribute(propKey))&&ReactComponent.BackendIDOperations.updatePropertyByID(this._rootNodeID,propKey,nextProp)}styleUpdates&&ReactComponent.BackendIDOperations.updateStylesByID(this._rootNodeID,styleUpdates)},_updateDOMChildren:function(lastProps,transaction){var nextProps=this.props,lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null,nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null,lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html,nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html,lastChildren=null!=lastContent?null:lastProps.children,nextChildren=null!=nextContent?null:nextProps.children,lastHasContentOrHtml=null!=lastContent||null!=lastHtml,nextHasContentOrHtml=null!=nextContent||null!=nextHtml;null!=lastChildren&&null==nextChildren?this.updateChildren(null,transaction):lastHasContentOrHtml&&!nextHasContentOrHtml&&this.updateTextContent(""),null!=nextContent?lastContent!==nextContent&&this.updateTextContent(""+nextContent):null!=nextHtml?lastHtml!==nextHtml&&ReactComponent.BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,nextHtml):null!=nextChildren&&this.updateChildren(nextChildren,transaction)},unmountComponent:function(){this.unmountChildren(),ReactEventEmitter.deleteAllListeners(this._rootNodeID),ReactComponent.Mixin.unmountComponent.call(this)}},mixInto(ReactDOMComponent,ReactComponent.Mixin),mixInto(ReactDOMComponent,ReactDOMComponent.Mixin),mixInto(ReactDOMComponent,ReactMultiChild.Mixin),mixInto(ReactDOMComponent,ReactBrowserComponentMixin),module.exports=ReactDOMComponent}).call(this,require("_process"))},{"./CSSPropertyOperations":23,"./DOMProperty":28,"./DOMPropertyOperations":29,"./ReactBrowserComponentMixin":45,"./ReactComponent":47,"./ReactEventEmitter":68,"./ReactMount":75,"./ReactMultiChild":77,"./ReactPerf":80,"./escapeTextForBrowser":118,"./invariant":132,"./keyOf":139,"./merge":141,"./mixInto":144,_process:20}],55:[function(require,module){"use strict";var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactCompositeComponent=require("./ReactCompositeComponent"),ReactDOM=require("./ReactDOM"),ReactEventEmitter=require("./ReactEventEmitter"),EventConstants=require("./EventConstants"),form=ReactDOM.form,ReactDOMForm=ReactCompositeComponent.createClass({displayName:"ReactDOMForm",mixins:[ReactBrowserComponentMixin],render:function(){return this.transferPropsTo(form(null,this.props.children))},componentDidMount:function(){ReactEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topReset,"reset",this.getDOMNode()),ReactEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,"submit",this.getDOMNode())}});module.exports=ReactDOMForm},{"./EventConstants":34,"./ReactBrowserComponentMixin":45,"./ReactCompositeComponent":49,"./ReactDOM":52,"./ReactEventEmitter":68}],56:[function(require,module){(function(process){"use strict";var useWhitespaceWorkaround,CSSPropertyOperations=require("./CSSPropertyOperations"),DOMChildrenOperations=require("./DOMChildrenOperations"),DOMPropertyOperations=require("./DOMPropertyOperations"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),invariant=require("./invariant"),INVALID_PROPERTY_ERRORS={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},ReactDOMIDOperations={updatePropertyByID:ReactPerf.measure("ReactDOMIDOperations","updatePropertyByID",function(id,name,value){var node=ReactMount.getNode(id);"production"!==process.env.NODE_ENV?invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name),"updatePropertyByID(...): %s",INVALID_PROPERTY_ERRORS[name]):invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name)),null!=value?DOMPropertyOperations.setValueForProperty(node,name,value):DOMPropertyOperations.deleteValueForProperty(node,name)}),deletePropertyByID:ReactPerf.measure("ReactDOMIDOperations","deletePropertyByID",function(id,name,value){var node=ReactMount.getNode(id);"production"!==process.env.NODE_ENV?invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name),"updatePropertyByID(...): %s",INVALID_PROPERTY_ERRORS[name]):invariant(!INVALID_PROPERTY_ERRORS.hasOwnProperty(name)),DOMPropertyOperations.deleteValueForProperty(node,name,value)}),updateStylesByID:ReactPerf.measure("ReactDOMIDOperations","updateStylesByID",function(id,styles){var node=ReactMount.getNode(id);CSSPropertyOperations.setValueForStyles(node,styles)}),updateInnerHTMLByID:ReactPerf.measure("ReactDOMIDOperations","updateInnerHTMLByID",function(id,html){var node=ReactMount.getNode(id);if(void 0===useWhitespaceWorkaround){var temp=document.createElement("div");temp.innerHTML=" ",useWhitespaceWorkaround=""===temp.innerHTML}useWhitespaceWorkaround&&node.parentNode.replaceChild(node,node),useWhitespaceWorkaround&&html.match(/^[ \r\n\t\f]/)?(node.innerHTML="﻿"+html,node.firstChild.deleteData(0,1)):node.innerHTML=html}),updateTextContentByID:ReactPerf.measure("ReactDOMIDOperations","updateTextContentByID",function(id,content){var node=ReactMount.getNode(id);DOMChildrenOperations.updateTextContent(node,content)}),dangerouslyReplaceNodeWithMarkupByID:ReactPerf.measure("ReactDOMIDOperations","dangerouslyReplaceNodeWithMarkupByID",function(id,markup){var node=ReactMount.getNode(id);DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(node,markup)}),dangerouslyProcessChildrenUpdates:ReactPerf.measure("ReactDOMIDOperations","dangerouslyProcessChildrenUpdates",function(updates,markup){for(var i=0;i<updates.length;i++)updates[i].parentNode=ReactMount.getNode(updates[i].parentID);DOMChildrenOperations.processUpdates(updates,markup)})};module.exports=ReactDOMIDOperations}).call(this,require("_process"))},{"./CSSPropertyOperations":23,"./DOMChildrenOperations":27,"./DOMPropertyOperations":29,"./ReactMount":75,"./ReactPerf":80,"./invariant":132,_process:20}],57:[function(require,module){"use strict";var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactCompositeComponent=require("./ReactCompositeComponent"),ReactDOM=require("./ReactDOM"),ReactEventEmitter=require("./ReactEventEmitter"),EventConstants=require("./EventConstants"),img=ReactDOM.img,ReactDOMImg=ReactCompositeComponent.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[ReactBrowserComponentMixin],render:function(){return img(this.props)},componentDidMount:function(){var node=this.getDOMNode();ReactEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node),ReactEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error",node)}});module.exports=ReactDOMImg},{"./EventConstants":34,"./ReactBrowserComponentMixin":45,"./ReactCompositeComponent":49,"./ReactDOM":52,"./ReactEventEmitter":68}],58:[function(require,module){(function(process){"use strict";var AutoFocusMixin=require("./AutoFocusMixin"),DOMPropertyOperations=require("./DOMPropertyOperations"),LinkedValueUtils=require("./LinkedValueUtils"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactCompositeComponent=require("./ReactCompositeComponent"),ReactDOM=require("./ReactDOM"),ReactMount=require("./ReactMount"),invariant=require("./invariant"),merge=require("./merge"),input=ReactDOM.input,instancesByReactID={},ReactDOMInput=ReactCompositeComponent.createClass({displayName:"ReactDOMInput",mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],getInitialState:function(){var defaultValue=this.props.defaultValue;return{checked:this.props.defaultChecked||!1,value:null!=defaultValue?defaultValue:null}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var props=merge(this.props);props.defaultChecked=null,props.defaultValue=null;var value=LinkedValueUtils.getValue(this);props.value=null!=value?value:this.state.value;var checked=LinkedValueUtils.getChecked(this);return props.checked=null!=checked?checked:this.state.checked,props.onChange=this._handleChange,input(props,this.props.children)},componentDidMount:function(){var id=ReactMount.getID(this.getDOMNode());instancesByReactID[id]=this},componentWillUnmount:function(){var rootNode=this.getDOMNode(),id=ReactMount.getID(rootNode);delete instancesByReactID[id]},componentDidUpdate:function(){var rootNode=this.getDOMNode();null!=this.props.checked&&DOMPropertyOperations.setValueForProperty(rootNode,"checked",this.props.checked||!1);var value=LinkedValueUtils.getValue(this);null!=value&&DOMPropertyOperations.setValueForProperty(rootNode,"value",""+value)},_handleChange:function(event){var returnValue,onChange=LinkedValueUtils.getOnChange(this);onChange&&(this._isChanging=!0,returnValue=onChange.call(this,event),this._isChanging=!1),this.setState({checked:event.target.checked,value:event.target.value});var name=this.props.name;if("radio"===this.props.type&&null!=name){for(var rootNode=this.getDOMNode(),queryRoot=rootNode;queryRoot.parentNode;)queryRoot=queryRoot.parentNode;
for(var group=queryRoot.querySelectorAll("input[name="+JSON.stringify(""+name)+'][type="radio"]'),i=0,groupLen=group.length;groupLen>i;i++){var otherNode=group[i];if(otherNode!==rootNode&&otherNode.form===rootNode.form){var otherID=ReactMount.getID(otherNode);"production"!==process.env.NODE_ENV?invariant(otherID,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):invariant(otherID);var otherInstance=instancesByReactID[otherID];"production"!==process.env.NODE_ENV?invariant(otherInstance,"ReactDOMInput: Unknown radio button ID %s.",otherID):invariant(otherInstance),otherInstance.setState({checked:!1})}}}return returnValue}});module.exports=ReactDOMInput}).call(this,require("_process"))},{"./AutoFocusMixin":21,"./DOMPropertyOperations":29,"./LinkedValueUtils":41,"./ReactBrowserComponentMixin":45,"./ReactCompositeComponent":49,"./ReactDOM":52,"./ReactMount":75,"./invariant":132,"./merge":141,_process:20}],59:[function(require,module){(function(process){"use strict";var ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactCompositeComponent=require("./ReactCompositeComponent"),ReactDOM=require("./ReactDOM"),warning=require("./warning"),option=ReactDOM.option,ReactDOMOption=ReactCompositeComponent.createClass({displayName:"ReactDOMOption",mixins:[ReactBrowserComponentMixin],componentWillMount:function(){"production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(null==this.props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):null)},render:function(){return option(this.props,this.props.children)}});module.exports=ReactDOMOption}).call(this,require("_process"))},{"./ReactBrowserComponentMixin":45,"./ReactCompositeComponent":49,"./ReactDOM":52,"./warning":154,_process:20}],60:[function(require,module){(function(process){"use strict";function selectValueType(props,propName){null!=props[propName]&&(props.multiple?"production"!==process.env.NODE_ENV?invariant(Array.isArray(props[propName]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.",propName):invariant(Array.isArray(props[propName])):"production"!==process.env.NODE_ENV?invariant(!Array.isArray(props[propName]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.",propName):invariant(!Array.isArray(props[propName])))}function updateOptions(component,propValue){var selectedValue,i,l,multiple=component.props.multiple,value=null!=propValue?propValue:component.state.value,options=component.getDOMNode().options;if(multiple)for(selectedValue={},i=0,l=value.length;l>i;++i)selectedValue[""+value[i]]=!0;else selectedValue=""+value;for(i=0,l=options.length;l>i;i++){var selected=multiple?selectedValue.hasOwnProperty(options[i].value):options[i].value===selectedValue;selected!==options[i].selected&&(options[i].selected=selected)}}var AutoFocusMixin=require("./AutoFocusMixin"),LinkedValueUtils=require("./LinkedValueUtils"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactCompositeComponent=require("./ReactCompositeComponent"),ReactDOM=require("./ReactDOM"),invariant=require("./invariant"),merge=require("./merge"),select=ReactDOM.select,ReactDOMSelect=ReactCompositeComponent.createClass({displayName:"ReactDOMSelect",mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],propTypes:{defaultValue:selectValueType,value:selectValueType},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:"")}},componentWillReceiveProps:function(nextProps){!this.props.multiple&&nextProps.multiple?this.setState({value:[this.state.value]}):this.props.multiple&&!nextProps.multiple&&this.setState({value:this.state.value[0]})},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var props=merge(this.props);return props.onChange=this._handleChange,props.value=null,select(props,this.props.children)},componentDidMount:function(){updateOptions(this,LinkedValueUtils.getValue(this))},componentDidUpdate:function(){var value=LinkedValueUtils.getValue(this);null!=value&&updateOptions(this,value)},_handleChange:function(event){var returnValue,onChange=LinkedValueUtils.getOnChange(this);onChange&&(this._isChanging=!0,returnValue=onChange.call(this,event),this._isChanging=!1);var selectedValue;if(this.props.multiple){selectedValue=[];for(var options=event.target.options,i=0,l=options.length;l>i;i++)options[i].selected&&selectedValue.push(options[i].value)}else selectedValue=event.target.value;return this.setState({value:selectedValue}),returnValue}});module.exports=ReactDOMSelect}).call(this,require("_process"))},{"./AutoFocusMixin":21,"./LinkedValueUtils":41,"./ReactBrowserComponentMixin":45,"./ReactCompositeComponent":49,"./ReactDOM":52,"./invariant":132,"./merge":141,_process:20}],61:[function(require,module){"use strict";function getIEOffsets(node){var selection=document.selection,selectedRange=selection.createRange(),selectedLength=selectedRange.text.length,fromStart=selectedRange.duplicate();fromStart.moveToElementText(node),fromStart.setEndPoint("EndToStart",selectedRange);var startOffset=fromStart.text.length,endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset}}function getModernOffsets(node){var selection=window.getSelection();if(0===selection.rangeCount)return null;var anchorNode=selection.anchorNode,anchorOffset=selection.anchorOffset,focusNode=selection.focusNode,focusOffset=selection.focusOffset,currentRange=selection.getRangeAt(0),rangeLength=currentRange.toString().length,tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node),tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var start=tempRange.toString().length,end=start+rangeLength,detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset),detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;return detectionRange.detach(),{start:isBackward?end:start,end:isBackward?start:end}}function setIEOffsets(node,offsets){var start,end,range=document.selection.createRange().duplicate();"undefined"==typeof offsets.end?(start=offsets.start,end=start):offsets.start>offsets.end?(start=offsets.end,end=offsets.start):(start=offsets.start,end=offsets.end),range.moveToElementText(node),range.moveStart("character",start),range.setEndPoint("EndToStart",range),range.moveEnd("character",end-start),range.select()}function setModernOffsets(node,offsets){var selection=window.getSelection(),length=node[getTextContentAccessor()].length,start=Math.min(offsets.start,length),end="undefined"==typeof offsets.end?start:Math.min(offsets.end,length);if(!selection.extend&&start>end){var temp=end;end=start,start=temp}var startMarker=getNodeForCharacterOffset(node,start),endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset),selection.removeAllRanges(),start>end?(selection.addRange(range),selection.extend(endMarker.node,endMarker.offset)):(range.setEnd(endMarker.node,endMarker.offset),selection.addRange(range)),range.detach()}}var getNodeForCharacterOffset=require("./getNodeForCharacterOffset"),getTextContentAccessor=require("./getTextContentAccessor"),ReactDOMSelection={getOffsets:function(node){var getOffsets=document.selection?getIEOffsets:getModernOffsets;return getOffsets(node)},setOffsets:function(node,offsets){var setOffsets=document.selection?setIEOffsets:setModernOffsets;setOffsets(node,offsets)}};module.exports=ReactDOMSelection},{"./getNodeForCharacterOffset":126,"./getTextContentAccessor":128}],62:[function(require,module){(function(process){"use strict";var AutoFocusMixin=require("./AutoFocusMixin"),DOMPropertyOperations=require("./DOMPropertyOperations"),LinkedValueUtils=require("./LinkedValueUtils"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactCompositeComponent=require("./ReactCompositeComponent"),ReactDOM=require("./ReactDOM"),invariant=require("./invariant"),merge=require("./merge"),warning=require("./warning"),textarea=ReactDOM.textarea,ReactDOMTextarea=ReactCompositeComponent.createClass({displayName:"ReactDOMTextarea",mixins:[AutoFocusMixin,LinkedValueUtils.Mixin,ReactBrowserComponentMixin],getInitialState:function(){var defaultValue=this.props.defaultValue,children=this.props.children;null!=children&&("production"!==process.env.NODE_ENV&&("production"!==process.env.NODE_ENV?warning(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):null),"production"!==process.env.NODE_ENV?invariant(null==defaultValue,"If you supply `defaultValue` on a <textarea>, do not pass children."):invariant(null==defaultValue),Array.isArray(children)&&("production"!==process.env.NODE_ENV?invariant(children.length<=1,"<textarea> can only have at most one child."):invariant(children.length<=1),children=children[0]),defaultValue=""+children),null==defaultValue&&(defaultValue="");var value=LinkedValueUtils.getValue(this);return{initialValue:""+(null!=value?value:defaultValue),value:defaultValue}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var props=merge(this.props),value=LinkedValueUtils.getValue(this);return"production"!==process.env.NODE_ENV?invariant(null==props.dangerouslySetInnerHTML,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):invariant(null==props.dangerouslySetInnerHTML),props.defaultValue=null,props.value=null!=value?value:this.state.value,props.onChange=this._handleChange,textarea(props,this.state.initialValue)},componentDidUpdate:function(){var value=LinkedValueUtils.getValue(this);if(null!=value){var rootNode=this.getDOMNode();DOMPropertyOperations.setValueForProperty(rootNode,"value",""+value)}},_handleChange:function(event){var returnValue,onChange=LinkedValueUtils.getOnChange(this);return onChange&&(this._isChanging=!0,returnValue=onChange.call(this,event),this._isChanging=!1),this.setState({value:event.target.value}),returnValue}});module.exports=ReactDOMTextarea}).call(this,require("_process"))},{"./AutoFocusMixin":21,"./DOMPropertyOperations":29,"./LinkedValueUtils":41,"./ReactBrowserComponentMixin":45,"./ReactCompositeComponent":49,"./ReactDOM":52,"./invariant":132,"./merge":141,"./warning":154,_process:20}],63:[function(require,module){"use strict";function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}var ReactUpdates=require("./ReactUpdates"),Transaction=require("./Transaction"),emptyFunction=require("./emptyFunction"),mixInto=require("./mixInto"),RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=!1}},FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)},TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];mixInto(ReactDefaultBatchingStrategyTransaction,Transaction.Mixin),mixInto(ReactDefaultBatchingStrategyTransaction,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS}});var transaction=new ReactDefaultBatchingStrategyTransaction,ReactDefaultBatchingStrategy={isBatchingUpdates:!1,batchedUpdates:function(callback,param){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=!0,alreadyBatchingUpdates?callback(param):transaction.perform(callback,null,param)}};module.exports=ReactDefaultBatchingStrategy},{"./ReactUpdates":91,"./Transaction":105,"./emptyFunction":116,"./mixInto":144}],64:[function(require,module){(function(process){"use strict";function inject(){if(ReactInjection.EventEmitter.injectTopLevelCallbackCreator(ReactEventTopLevelCallback),ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder),ReactInjection.EventPluginHub.injectInstanceHandle(ReactInstanceHandles),ReactInjection.EventPluginHub.injectMount(ReactMount),ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,CompositionEventPlugin:CompositionEventPlugin,MobileSafariClickEventPlugin:MobileSafariClickEventPlugin,SelectEventPlugin:SelectEventPlugin}),ReactInjection.DOM.injectComponentClasses({button:ReactDOMButton,form:ReactDOMForm,img:ReactDOMImg,input:ReactDOMInput,option:ReactDOMOption,select:ReactDOMSelect,textarea:ReactDOMTextarea,html:createFullPageComponent(ReactDOM.html),head:createFullPageComponent(ReactDOM.head),title:createFullPageComponent(ReactDOM.title),body:createFullPageComponent(ReactDOM.body)}),ReactInjection.CompositeComponent.injectMixin(ReactBrowserComponentMixin),ReactInjection.DOMProperty.injectDOMPropertyConfig(DefaultDOMPropertyConfig),ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy),ReactInjection.RootIndex.injectCreateReactRootIndex(ExecutionEnvironment.canUseDOM?ClientReactRootIndex.createReactRootIndex:ServerReactRootIndex.createReactRootIndex),ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment),"production"!==process.env.NODE_ENV){var url=ExecutionEnvironment.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(url)){var ReactDefaultPerf=require("./ReactDefaultPerf");ReactDefaultPerf.start()}}}var ReactInjection=require("./ReactInjection"),ExecutionEnvironment=require("./ExecutionEnvironment"),DefaultDOMPropertyConfig=require("./DefaultDOMPropertyConfig"),ChangeEventPlugin=require("./ChangeEventPlugin"),ClientReactRootIndex=require("./ClientReactRootIndex"),CompositionEventPlugin=require("./CompositionEventPlugin"),DefaultEventPluginOrder=require("./DefaultEventPluginOrder"),EnterLeaveEventPlugin=require("./EnterLeaveEventPlugin"),MobileSafariClickEventPlugin=require("./MobileSafariClickEventPlugin"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactComponentBrowserEnvironment=require("./ReactComponentBrowserEnvironment"),ReactEventTopLevelCallback=require("./ReactEventTopLevelCallback"),ReactDOM=require("./ReactDOM"),ReactDOMButton=require("./ReactDOMButton"),ReactDOMForm=require("./ReactDOMForm"),ReactDOMImg=require("./ReactDOMImg"),ReactDOMInput=require("./ReactDOMInput"),ReactDOMOption=require("./ReactDOMOption"),ReactDOMSelect=require("./ReactDOMSelect"),ReactDOMTextarea=require("./ReactDOMTextarea"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),SelectEventPlugin=require("./SelectEventPlugin"),ServerReactRootIndex=require("./ServerReactRootIndex"),SimpleEventPlugin=require("./SimpleEventPlugin"),ReactDefaultBatchingStrategy=require("./ReactDefaultBatchingStrategy"),createFullPageComponent=require("./createFullPageComponent");module.exports={inject:inject}}).call(this,require("_process"))},{"./ChangeEventPlugin":24,"./ClientReactRootIndex":25,"./CompositionEventPlugin":26,"./DefaultDOMPropertyConfig":31,"./DefaultEventPluginOrder":32,"./EnterLeaveEventPlugin":33,"./ExecutionEnvironment":40,"./MobileSafariClickEventPlugin":42,"./ReactBrowserComponentMixin":45,"./ReactComponentBrowserEnvironment":48,"./ReactDOM":52,"./ReactDOMButton":53,"./ReactDOMForm":55,"./ReactDOMImg":57,"./ReactDOMInput":58,"./ReactDOMOption":59,"./ReactDOMSelect":60,"./ReactDOMTextarea":62,"./ReactDefaultBatchingStrategy":63,"./ReactDefaultPerf":65,"./ReactEventTopLevelCallback":70,"./ReactInjection":71,"./ReactInstanceHandles":73,"./ReactMount":75,"./SelectEventPlugin":92,"./ServerReactRootIndex":93,"./SimpleEventPlugin":94,"./createFullPageComponent":112,_process:20}],65:[function(require,module){"use strict";function roundFloat(val){return Math.floor(100*val)/100}var DOMProperty=require("./DOMProperty"),ReactDefaultPerfAnalysis=require("./ReactDefaultPerfAnalysis"),ReactMount=require("./ReactMount"),ReactPerf=require("./ReactPerf"),performanceNow=require("./performanceNow"),ReactDefaultPerf={_allMeasurements:[],_injected:!1,start:function(){ReactDefaultPerf._injected||ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure),ReactDefaultPerf._allMeasurements.length=0,ReactPerf.enableMeasure=!0},stop:function(){ReactPerf.enableMeasure=!1},getLastMeasurements:function(){return ReactDefaultPerf._allMeasurements},printExclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);console.table(summary.map(function(item){return{"Component class name":item.componentName,"Total inclusive time (ms)":roundFloat(item.inclusive),"Total exclusive time (ms)":roundFloat(item.exclusive),"Exclusive time per instance (ms)":roundFloat(item.exclusive/item.count),Instances:item.count}})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},printInclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);console.table(summary.map(function(item){return{"Owner > component":item.componentName,"Inclusive time (ms)":roundFloat(item.time),Instances:item.count}})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},printWasted:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements,!0);console.table(summary.map(function(item){return{"Owner > component":item.componentName,"Wasted time (ms)":item.time,Instances:item.count}})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},printDOM:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getDOMSummary(measurements);console.table(summary.map(function(item){var result={};return result[DOMProperty.ID_ATTRIBUTE_NAME]=item.id,result.type=item.type,result.args=JSON.stringify(item.args),result})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},_recordWrite:function(id,fnName,totalTime,args){var writes=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].writes;writes[id]=writes[id]||[],writes[id].push({type:fnName,time:totalTime,args:args})},measure:function(moduleName,fnName,func){return function(){var totalTime,rv,start,args=Array.prototype.slice.call(arguments,0);if("_renderNewRootComponent"===fnName||"flushBatchedUpdates"===fnName)return ReactDefaultPerf._allMeasurements.push({exclusive:{},inclusive:{},counts:{},writes:{},displayNames:{},totalTime:0}),start=performanceNow(),rv=func.apply(this,args),ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].totalTime=performanceNow()-start,rv;if("ReactDOMIDOperations"===moduleName||"ReactComponentBrowserEnvironment"===moduleName){if(start=performanceNow(),rv=func.apply(this,args),totalTime=performanceNow()-start,"mountImageIntoNode"===fnName){var mountID=ReactMount.getID(args[1]);ReactDefaultPerf._recordWrite(mountID,fnName,totalTime,args[0])}else"dangerouslyProcessChildrenUpdates"===fnName?args[0].forEach(function(update){var writeArgs={};null!==update.fromIndex&&(writeArgs.fromIndex=update.fromIndex),null!==update.toIndex&&(writeArgs.toIndex=update.toIndex),null!==update.textContent&&(writeArgs.textContent=update.textContent),null!==update.markupIndex&&(writeArgs.markup=args[1][update.markupIndex]),ReactDefaultPerf._recordWrite(update.parentID,update.type,totalTime,writeArgs)}):ReactDefaultPerf._recordWrite(args[0],fnName,totalTime,Array.prototype.slice.call(args,1));return rv}if("ReactCompositeComponent"!==moduleName||"mountComponent"!==fnName&&"updateComponent"!==fnName&&"_renderValidatedComponent"!==fnName)return func.apply(this,args);var rootNodeID="mountComponent"===fnName?args[0]:this._rootNodeID,isRender="_renderValidatedComponent"===fnName,entry=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1];isRender&&(entry.counts[rootNodeID]=entry.counts[rootNodeID]||0,entry.counts[rootNodeID]+=1),start=performanceNow(),rv=func.apply(this,args),totalTime=performanceNow()-start;var typeOfLog=isRender?entry.exclusive:entry.inclusive;return typeOfLog[rootNodeID]=typeOfLog[rootNodeID]||0,typeOfLog[rootNodeID]+=totalTime,entry.displayNames[rootNodeID]={current:this.constructor.displayName,owner:this._owner?this._owner.constructor.displayName:"<root>"},rv}}};module.exports=ReactDefaultPerf},{"./DOMProperty":28,"./ReactDefaultPerfAnalysis":66,"./ReactMount":75,"./ReactPerf":80,"./performanceNow":149}],66:[function(require,module){function getTotalTime(measurements){for(var totalTime=0,i=0;i<measurements.length;i++){var measurement=measurements[i];totalTime+=measurement.totalTime}return totalTime}function getDOMSummary(measurements){for(var items=[],i=0;i<measurements.length;i++){var id,measurement=measurements[i];for(id in measurement.writes)measurement.writes[id].forEach(function(write){items.push({id:id,type:DOM_OPERATION_TYPES[write.type]||write.type,args:write.args})})}return items}function getExclusiveSummary(measurements){for(var displayName,candidates={},i=0;i<measurements.length;i++){var measurement=measurements[i],allIDs=merge(measurement.exclusive,measurement.inclusive);for(var id in allIDs)displayName=measurement.displayNames[id].current,candidates[displayName]=candidates[displayName]||{componentName:displayName,inclusive:0,exclusive:0,count:0},measurement.exclusive[id]&&(candidates[displayName].exclusive+=measurement.exclusive[id]),measurement.inclusive[id]&&(candidates[displayName].inclusive+=measurement.inclusive[id]),measurement.counts[id]&&(candidates[displayName].count+=measurement.counts[id])}var arr=[];for(displayName in candidates)candidates[displayName].exclusive>=DONT_CARE_THRESHOLD&&arr.push(candidates[displayName]);return arr.sort(function(a,b){return b.exclusive-a.exclusive}),arr}function getInclusiveSummary(measurements,onlyClean){for(var inclusiveKey,candidates={},i=0;i<measurements.length;i++){var cleanComponents,measurement=measurements[i],allIDs=merge(measurement.exclusive,measurement.inclusive);onlyClean&&(cleanComponents=getUnchangedComponents(measurement));for(var id in allIDs)if(!onlyClean||cleanComponents[id]){var displayName=measurement.displayNames[id];inclusiveKey=displayName.owner+" > "+displayName.current,candidates[inclusiveKey]=candidates[inclusiveKey]||{componentName:inclusiveKey,time:0,count:0},measurement.inclusive[id]&&(candidates[inclusiveKey].time+=measurement.inclusive[id]),measurement.counts[id]&&(candidates[inclusiveKey].count+=measurement.counts[id])}}var arr=[];for(inclusiveKey in candidates)candidates[inclusiveKey].time>=DONT_CARE_THRESHOLD&&arr.push(candidates[inclusiveKey]);return arr.sort(function(a,b){return b.time-a.time}),arr}function getUnchangedComponents(measurement){var cleanComponents={},dirtyLeafIDs=Object.keys(measurement.writes),allIDs=merge(measurement.exclusive,measurement.inclusive);for(var id in allIDs){for(var isDirty=!1,i=0;i<dirtyLeafIDs.length;i++)if(0===dirtyLeafIDs[i].indexOf(id)){isDirty=!0;break}!isDirty&&measurement.counts[id]>0&&(cleanComponents[id]=!0)}return cleanComponents}var merge=require("./merge"),DONT_CARE_THRESHOLD=1.2,DOM_OPERATION_TYPES={mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},ReactDefaultPerfAnalysis={getExclusiveSummary:getExclusiveSummary,getInclusiveSummary:getInclusiveSummary,getDOMSummary:getDOMSummary,getTotalTime:getTotalTime};module.exports=ReactDefaultPerfAnalysis},{"./merge":141}],67:[function(require,module){"use strict";var ReactErrorUtils={guard:function(func){return func}};module.exports=ReactErrorUtils},{}],68:[function(require,module){(function(process){"use strict";function getListeningForDocument(mountAt){return null==mountAt[topListenersIDKey]&&(mountAt[topListenersIDKey]=reactTopListenersCounter++,alreadyListeningTo[mountAt[topListenersIDKey]]={}),alreadyListeningTo[mountAt[topListenersIDKey]]}function trapBubbledEvent(topLevelType,handlerBaseName,element){EventListener.listen(element,handlerBaseName,ReactEventEmitter.TopLevelCallbackCreator.createTopLevelCallback(topLevelType))}function trapCapturedEvent(topLevelType,handlerBaseName,element){EventListener.capture(element,handlerBaseName,ReactEventEmitter.TopLevelCallbackCreator.createTopLevelCallback(topLevelType))}var EventConstants=require("./EventConstants"),EventListener=require("./EventListener"),EventPluginHub=require("./EventPluginHub"),EventPluginRegistry=require("./EventPluginRegistry"),ExecutionEnvironment=require("./ExecutionEnvironment"),ReactEventEmitterMixin=require("./ReactEventEmitterMixin"),ViewportMetrics=require("./ViewportMetrics"),invariant=require("./invariant"),isEventSupported=require("./isEventSupported"),merge=require("./merge"),alreadyListeningTo={},isMonitoringScrollValue=!0,reactTopListenersCounter=0,topEventMapping={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},topListenersIDKey="_reactListenersID"+String(Math.random()).slice(2),ReactEventEmitter=merge(ReactEventEmitterMixin,{TopLevelCallbackCreator:null,injection:{injectTopLevelCallbackCreator:function(TopLevelCallbackCreator){ReactEventEmitter.TopLevelCallbackCreator=TopLevelCallbackCreator}},setEnabled:function(enabled){"production"!==process.env.NODE_ENV?invariant(ExecutionEnvironment.canUseDOM,"setEnabled(...): Cannot toggle event listening in a Worker thread. This is likely a bug in the framework. Please report immediately."):invariant(ExecutionEnvironment.canUseDOM),ReactEventEmitter.TopLevelCallbackCreator&&ReactEventEmitter.TopLevelCallbackCreator.setEnabled(enabled)},isEnabled:function(){return!(!ReactEventEmitter.TopLevelCallbackCreator||!ReactEventEmitter.TopLevelCallbackCreator.isEnabled())},listenTo:function(registrationName,contentDocument){for(var mountAt=contentDocument,isListening=getListeningForDocument(mountAt),dependencies=EventPluginRegistry.registrationNameDependencies[registrationName],topLevelTypes=EventConstants.topLevelTypes,i=0,l=dependencies.length;l>i;i++){var dependency=dependencies[i];if(!isListening[dependency]){var topLevelType=topLevelTypes[dependency];topLevelType===topLevelTypes.topWheel?isEventSupported("wheel")?trapBubbledEvent(topLevelTypes.topWheel,"wheel",mountAt):isEventSupported("mousewheel")?trapBubbledEvent(topLevelTypes.topWheel,"mousewheel",mountAt):trapBubbledEvent(topLevelTypes.topWheel,"DOMMouseScroll",mountAt):topLevelType===topLevelTypes.topScroll?isEventSupported("scroll",!0)?trapCapturedEvent(topLevelTypes.topScroll,"scroll",mountAt):trapBubbledEvent(topLevelTypes.topScroll,"scroll",window):topLevelType===topLevelTypes.topFocus||topLevelType===topLevelTypes.topBlur?(isEventSupported("focus",!0)?(trapCapturedEvent(topLevelTypes.topFocus,"focus",mountAt),trapCapturedEvent(topLevelTypes.topBlur,"blur",mountAt)):isEventSupported("focusin")&&(trapBubbledEvent(topLevelTypes.topFocus,"focusin",mountAt),trapBubbledEvent(topLevelTypes.topBlur,"focusout",mountAt)),isListening[topLevelTypes.topBlur]=!0,isListening[topLevelTypes.topFocus]=!0):topEventMapping[dependency]&&trapBubbledEvent(topLevelType,topEventMapping[dependency],mountAt),isListening[dependency]=!0}}},ensureScrollValueMonitoring:function(){if(!isMonitoringScrollValue){var refresh=ViewportMetrics.refreshScrollValues;EventListener.listen(window,"scroll",refresh),EventListener.listen(window,"resize",refresh),isMonitoringScrollValue=!0}},eventNameDispatchConfigs:EventPluginHub.eventNameDispatchConfigs,registrationNameModules:EventPluginHub.registrationNameModules,putListener:EventPluginHub.putListener,getListener:EventPluginHub.getListener,deleteListener:EventPluginHub.deleteListener,deleteAllListeners:EventPluginHub.deleteAllListeners,trapBubbledEvent:trapBubbledEvent,trapCapturedEvent:trapCapturedEvent});module.exports=ReactEventEmitter}).call(this,require("_process"))},{"./EventConstants":34,"./EventListener":35,"./EventPluginHub":36,"./EventPluginRegistry":37,"./ExecutionEnvironment":40,"./ReactEventEmitterMixin":69,"./ViewportMetrics":106,"./invariant":132,"./isEventSupported":133,"./merge":141,_process:20}],69:[function(require,module){"use strict";function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events),EventPluginHub.processEventQueue()}var EventPluginHub=require("./EventPluginHub"),ReactUpdates=require("./ReactUpdates"),ReactEventEmitterMixin={handleTopLevel:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var events=EventPluginHub.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent);ReactUpdates.batchedUpdates(runEventQueueInBatch,events)}};module.exports=ReactEventEmitterMixin},{"./EventPluginHub":36,"./ReactUpdates":91}],70:[function(require,module){"use strict";function findParent(node){var nodeID=ReactMount.getID(node),rootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID),container=ReactMount.findReactContainerForID(rootID),parent=ReactMount.getFirstReactDOM(container);return parent}function handleTopLevelImpl(topLevelType,nativeEvent,bookKeeping){for(var topLevelTarget=ReactMount.getFirstReactDOM(getEventTarget(nativeEvent))||window,ancestor=topLevelTarget;ancestor;)bookKeeping.ancestors.push(ancestor),ancestor=findParent(ancestor);for(var i=0,l=bookKeeping.ancestors.length;l>i;i++){topLevelTarget=bookKeeping.ancestors[i];var topLevelTargetID=ReactMount.getID(topLevelTarget)||"";ReactEventEmitter.handleTopLevel(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent)}}function TopLevelCallbackBookKeeping(){this.ancestors=[]}var PooledClass=require("./PooledClass"),ReactEventEmitter=require("./ReactEventEmitter"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMount=require("./ReactMount"),getEventTarget=require("./getEventTarget"),mixInto=require("./mixInto"),_topLevelListenersEnabled=!0;mixInto(TopLevelCallbackBookKeeping,{destructor:function(){this.ancestors.length=0}}),PooledClass.addPoolingTo(TopLevelCallbackBookKeeping);var ReactEventTopLevelCallback={setEnabled:function(enabled){_topLevelListenersEnabled=!!enabled},isEnabled:function(){return _topLevelListenersEnabled},createTopLevelCallback:function(topLevelType){return function(nativeEvent){if(_topLevelListenersEnabled){var bookKeeping=TopLevelCallbackBookKeeping.getPooled();try{handleTopLevelImpl(topLevelType,nativeEvent,bookKeeping)}finally{TopLevelCallbackBookKeeping.release(bookKeeping)}}}}};module.exports=ReactEventTopLevelCallback},{"./PooledClass":43,"./ReactEventEmitter":68,"./ReactInstanceHandles":73,"./ReactMount":75,"./getEventTarget":124,"./mixInto":144}],71:[function(require,module){"use strict";var DOMProperty=require("./DOMProperty"),EventPluginHub=require("./EventPluginHub"),ReactComponent=require("./ReactComponent"),ReactCompositeComponent=require("./ReactCompositeComponent"),ReactDOM=require("./ReactDOM"),ReactEventEmitter=require("./ReactEventEmitter"),ReactPerf=require("./ReactPerf"),ReactRootIndex=require("./ReactRootIndex"),ReactUpdates=require("./ReactUpdates"),ReactInjection={Component:ReactComponent.injection,CompositeComponent:ReactCompositeComponent.injection,DOMProperty:DOMProperty.injection,EventPluginHub:EventPluginHub.injection,DOM:ReactDOM.injection,EventEmitter:ReactEventEmitter.injection,Perf:ReactPerf.injection,RootIndex:ReactRootIndex.injection,Updates:ReactUpdates.injection};
module.exports=ReactInjection},{"./DOMProperty":28,"./EventPluginHub":36,"./ReactComponent":47,"./ReactCompositeComponent":49,"./ReactDOM":52,"./ReactEventEmitter":68,"./ReactPerf":80,"./ReactRootIndex":87,"./ReactUpdates":91}],72:[function(require,module){"use strict";function isInDocument(node){return containsNode(document.documentElement,node)}var ReactDOMSelection=require("./ReactDOMSelection"),containsNode=require("./containsNode"),focusNode=require("./focusNode"),getActiveElement=require("./getActiveElement"),ReactInputSelection={hasSelectionCapabilities:function(elem){return elem&&("INPUT"===elem.nodeName&&"text"===elem.type||"TEXTAREA"===elem.nodeName||"true"===elem.contentEditable)},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null}},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement(),priorFocusedElem=priorSelectionInformation.focusedElem,priorSelectionRange=priorSelectionInformation.selectionRange;curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)&&(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)&&ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange),focusNode(priorFocusedElem))},getSelection:function(input){var selection;if("selectionStart"in input)selection={start:input.selectionStart,end:input.selectionEnd};else if(document.selection&&"INPUT"===input.nodeName){var range=document.selection.createRange();range.parentElement()===input&&(selection={start:-range.moveStart("character",-input.value.length),end:-range.moveEnd("character",-input.value.length)})}else selection=ReactDOMSelection.getOffsets(input);return selection||{start:0,end:0}},setSelection:function(input,offsets){var start=offsets.start,end=offsets.end;if("undefined"==typeof end&&(end=start),"selectionStart"in input)input.selectionStart=start,input.selectionEnd=Math.min(end,input.value.length);else if(document.selection&&"INPUT"===input.nodeName){var range=input.createTextRange();range.collapse(!0),range.moveStart("character",start),range.moveEnd("character",end-start),range.select()}else ReactDOMSelection.setOffsets(input,offsets)}};module.exports=ReactInputSelection},{"./ReactDOMSelection":61,"./containsNode":109,"./focusNode":120,"./getActiveElement":122}],73:[function(require,module){(function(process){"use strict";function getReactRootIDString(index){return SEPARATOR+index.toString(36)}function isBoundary(id,index){return id.charAt(index)===SEPARATOR||index===id.length}function isValidID(id){return""===id||id.charAt(0)===SEPARATOR&&id.charAt(id.length-1)!==SEPARATOR}function isAncestorIDOf(ancestorID,descendantID){return 0===descendantID.indexOf(ancestorID)&&isBoundary(descendantID,ancestorID.length)}function getParentID(id){return id?id.substr(0,id.lastIndexOf(SEPARATOR)):""}function getNextDescendantID(ancestorID,destinationID){if("production"!==process.env.NODE_ENV?invariant(isValidID(ancestorID)&&isValidID(destinationID),"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",ancestorID,destinationID):invariant(isValidID(ancestorID)&&isValidID(destinationID)),"production"!==process.env.NODE_ENV?invariant(isAncestorIDOf(ancestorID,destinationID),"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",ancestorID,destinationID):invariant(isAncestorIDOf(ancestorID,destinationID)),ancestorID===destinationID)return ancestorID;for(var start=ancestorID.length+SEPARATOR_LENGTH,i=start;i<destinationID.length&&!isBoundary(destinationID,i);i++);return destinationID.substr(0,i)}function getFirstCommonAncestorID(oneID,twoID){var minLength=Math.min(oneID.length,twoID.length);if(0===minLength)return"";for(var lastCommonMarkerIndex=0,i=0;minLength>=i;i++)if(isBoundary(oneID,i)&&isBoundary(twoID,i))lastCommonMarkerIndex=i;else if(oneID.charAt(i)!==twoID.charAt(i))break;var longestCommonID=oneID.substr(0,lastCommonMarkerIndex);return"production"!==process.env.NODE_ENV?invariant(isValidID(longestCommonID),"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",oneID,twoID,longestCommonID):invariant(isValidID(longestCommonID)),longestCommonID}function traverseParentPath(start,stop,cb,arg,skipFirst,skipLast){start=start||"",stop=stop||"","production"!==process.env.NODE_ENV?invariant(start!==stop,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",start):invariant(start!==stop);var traverseUp=isAncestorIDOf(stop,start);"production"!==process.env.NODE_ENV?invariant(traverseUp||isAncestorIDOf(start,stop),"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",start,stop):invariant(traverseUp||isAncestorIDOf(start,stop));for(var depth=0,traverse=traverseUp?getParentID:getNextDescendantID,id=start;;id=traverse(id,stop)){var ret;if(skipFirst&&id===start||skipLast&&id===stop||(ret=cb(id,traverseUp,arg)),ret===!1||id===stop)break;"production"!==process.env.NODE_ENV?invariant(depth++<MAX_TREE_DEPTH,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",start,stop):invariant(depth++<MAX_TREE_DEPTH)}}var ReactRootIndex=require("./ReactRootIndex"),invariant=require("./invariant"),SEPARATOR=".",SEPARATOR_LENGTH=SEPARATOR.length,MAX_TREE_DEPTH=100,ReactInstanceHandles={createReactRootID:function(){return getReactRootIDString(ReactRootIndex.createReactRootIndex())},createReactID:function(rootID,name){return rootID+name},getReactRootIDFromNodeID:function(id){if(id&&id.charAt(0)===SEPARATOR&&id.length>1){var index=id.indexOf(SEPARATOR,1);return index>-1?id.substr(0,index):id}return null},traverseEnterLeave:function(leaveID,enterID,cb,upArg,downArg){var ancestorID=getFirstCommonAncestorID(leaveID,enterID);ancestorID!==leaveID&&traverseParentPath(leaveID,ancestorID,cb,upArg,!1,!0),ancestorID!==enterID&&traverseParentPath(ancestorID,enterID,cb,downArg,!0,!1)},traverseTwoPhase:function(targetID,cb,arg){targetID&&(traverseParentPath("",targetID,cb,arg,!0,!1),traverseParentPath(targetID,"",cb,arg,!1,!0))},traverseAncestors:function(targetID,cb,arg){traverseParentPath("",targetID,cb,arg,!0,!1)},_getFirstCommonAncestorID:getFirstCommonAncestorID,_getNextDescendantID:getNextDescendantID,isAncestorIDOf:isAncestorIDOf,SEPARATOR:SEPARATOR};module.exports=ReactInstanceHandles}).call(this,require("_process"))},{"./ReactRootIndex":87,"./invariant":132,_process:20}],74:[function(require,module){"use strict";var adler32=require("./adler32"),ReactMarkupChecksum={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(markup){var checksum=adler32(markup);return markup.replace(">"," "+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'">')},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum}};module.exports=ReactMarkupChecksum},{"./adler32":108}],75:[function(require,module){(function(process){"use strict";function getReactRootID(container){var rootElement=getReactRootElementInContainer(container);return rootElement&&ReactMount.getID(rootElement)}function getID(node){var id=internalGetID(node);if(id)if(nodeCache.hasOwnProperty(id)){var cached=nodeCache[id];cached!==node&&("production"!==process.env.NODE_ENV?invariant(!isValid(cached,id),"ReactMount: Two valid but unequal nodes with the same `%s`: %s",ATTR_NAME,id):invariant(!isValid(cached,id)),nodeCache[id]=node)}else nodeCache[id]=node;return id}function internalGetID(node){return node&&node.getAttribute&&node.getAttribute(ATTR_NAME)||""}function setID(node,id){var oldID=internalGetID(node);oldID!==id&&delete nodeCache[oldID],node.setAttribute(ATTR_NAME,id),nodeCache[id]=node}function getNode(id){return nodeCache.hasOwnProperty(id)&&isValid(nodeCache[id],id)||(nodeCache[id]=ReactMount.findReactNodeByID(id)),nodeCache[id]}function isValid(node,id){if(node){"production"!==process.env.NODE_ENV?invariant(internalGetID(node)===id,"ReactMount: Unexpected modification of `%s`",ATTR_NAME):invariant(internalGetID(node)===id);var container=ReactMount.findReactContainerForID(id);if(container&&containsNode(container,node))return!0}return!1}function purgeID(id){delete nodeCache[id]}function findDeepestCachedAncestorImpl(ancestorID){var ancestor=nodeCache[ancestorID];return ancestor&&isValid(ancestor,ancestorID)?void(deepestNodeSoFar=ancestor):!1}function findDeepestCachedAncestor(targetID){deepestNodeSoFar=null,ReactInstanceHandles.traverseAncestors(targetID,findDeepestCachedAncestorImpl);var foundNode=deepestNodeSoFar;return deepestNodeSoFar=null,foundNode}var DOMProperty=require("./DOMProperty"),ReactEventEmitter=require("./ReactEventEmitter"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactPerf=require("./ReactPerf"),containsNode=require("./containsNode"),getReactRootElementInContainer=require("./getReactRootElementInContainer"),instantiateReactComponent=require("./instantiateReactComponent"),invariant=require("./invariant"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent"),SEPARATOR=ReactInstanceHandles.SEPARATOR,ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME,nodeCache={},ELEMENT_NODE_TYPE=1,DOC_NODE_TYPE=9,instancesByReactRootID={},containersByReactRootID={};if("production"!==process.env.NODE_ENV)var rootElementsByReactRootID={};var findComponentRootReusableArray=[],deepestNodeSoFar=null,ReactMount={totalInstantiationTime:0,totalInjectionTime:0,useTouchEvents:!1,_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback()},_updateRootComponent:function(prevComponent,nextComponent,container,callback){var nextProps=nextComponent.props;return ReactMount.scrollMonitor(container,function(){prevComponent.replaceProps(nextProps,callback)}),"production"!==process.env.NODE_ENV&&(rootElementsByReactRootID[getReactRootID(container)]=getReactRootElementInContainer(container)),prevComponent},_registerComponent:function(nextComponent,container){"production"!==process.env.NODE_ENV?invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE),"_registerComponent(...): Target container is not a DOM element."):invariant(container&&(container.nodeType===ELEMENT_NODE_TYPE||container.nodeType===DOC_NODE_TYPE)),ReactEventEmitter.ensureScrollValueMonitoring();var reactRootID=ReactMount.registerContainer(container);return instancesByReactRootID[reactRootID]=nextComponent,reactRootID},_renderNewRootComponent:ReactPerf.measure("ReactMount","_renderNewRootComponent",function(nextComponent,container,shouldReuseMarkup){var componentInstance=instantiateReactComponent(nextComponent),reactRootID=ReactMount._registerComponent(componentInstance,container);return componentInstance.mountComponentIntoNode(reactRootID,container,shouldReuseMarkup),"production"!==process.env.NODE_ENV&&(rootElementsByReactRootID[reactRootID]=getReactRootElementInContainer(container)),componentInstance}),renderComponent:function(nextComponent,container,callback){var prevComponent=instancesByReactRootID[getReactRootID(container)];if(prevComponent){if(shouldUpdateReactComponent(prevComponent,nextComponent))return ReactMount._updateRootComponent(prevComponent,nextComponent,container,callback);ReactMount.unmountComponentAtNode(container)}var reactRootElement=getReactRootElementInContainer(container),containerHasReactMarkup=reactRootElement&&ReactMount.isRenderedByReact(reactRootElement),shouldReuseMarkup=containerHasReactMarkup&&!prevComponent,component=ReactMount._renderNewRootComponent(nextComponent,container,shouldReuseMarkup);return callback&&callback.call(component),component},constructAndRenderComponent:function(constructor,props,container){return ReactMount.renderComponent(constructor(props),container)},constructAndRenderComponentByID:function(constructor,props,id){var domNode=document.getElementById(id);return"production"!==process.env.NODE_ENV?invariant(domNode,'Tried to get element with id of "%s" but it is not present on the page.',id):invariant(domNode),ReactMount.constructAndRenderComponent(constructor,props,domNode)},registerContainer:function(container){var reactRootID=getReactRootID(container);return reactRootID&&(reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID)),reactRootID||(reactRootID=ReactInstanceHandles.createReactRootID()),containersByReactRootID[reactRootID]=container,reactRootID},unmountComponentAtNode:function(container){var reactRootID=getReactRootID(container),component=instancesByReactRootID[reactRootID];return component?(ReactMount.unmountComponentFromNode(component,container),delete instancesByReactRootID[reactRootID],delete containersByReactRootID[reactRootID],"production"!==process.env.NODE_ENV&&delete rootElementsByReactRootID[reactRootID],!0):!1},unmountComponentFromNode:function(instance,container){for(instance.unmountComponent(),container.nodeType===DOC_NODE_TYPE&&(container=container.documentElement);container.lastChild;)container.removeChild(container.lastChild)},findReactContainerForID:function(id){var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(id),container=containersByReactRootID[reactRootID];if("production"!==process.env.NODE_ENV){var rootElement=rootElementsByReactRootID[reactRootID];if(rootElement&&rootElement.parentNode!==container){"production"!==process.env.NODE_ENV?invariant(internalGetID(rootElement)===reactRootID,"ReactMount: Root element ID differed from reactRootID."):invariant(internalGetID(rootElement)===reactRootID);var containerChild=container.firstChild;containerChild&&reactRootID===internalGetID(containerChild)?rootElementsByReactRootID[reactRootID]=containerChild:console.warn("ReactMount: Root element has been removed from its original container. New container:",rootElement.parentNode)}}return container},findReactNodeByID:function(id){var reactRoot=ReactMount.findReactContainerForID(id);return ReactMount.findComponentRoot(reactRoot,id)},isRenderedByReact:function(node){if(1!==node.nodeType)return!1;var id=ReactMount.getID(node);return id?id.charAt(0)===SEPARATOR:!1},getFirstReactDOM:function(node){for(var current=node;current&&current.parentNode!==current;){if(ReactMount.isRenderedByReact(current))return current;current=current.parentNode}return null},findComponentRoot:function(ancestorNode,targetID){var firstChildren=findComponentRootReusableArray,childIndex=0,deepestAncestor=findDeepestCachedAncestor(targetID)||ancestorNode;for(firstChildren[0]=deepestAncestor.firstChild,firstChildren.length=1;childIndex<firstChildren.length;){for(var targetChild,child=firstChildren[childIndex++];child;){var childID=ReactMount.getID(child);childID?targetID===childID?targetChild=child:ReactInstanceHandles.isAncestorIDOf(childID,targetID)&&(firstChildren.length=childIndex=0,firstChildren.push(child.firstChild)):firstChildren.push(child.firstChild),child=child.nextSibling}if(targetChild)return firstChildren.length=0,targetChild}firstChildren.length=0,"production"!==process.env.NODE_ENV?invariant(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables or nesting <p> or <a> tags. Try inspecting the child nodes of the element with React ID `%s`.",targetID,ReactMount.getID(ancestorNode)):invariant(!1)},getReactRootID:getReactRootID,getID:getID,setID:setID,getNode:getNode,purgeID:purgeID};module.exports=ReactMount}).call(this,require("_process"))},{"./DOMProperty":28,"./ReactEventEmitter":68,"./ReactInstanceHandles":73,"./ReactPerf":80,"./containsNode":109,"./getReactRootElementInContainer":127,"./instantiateReactComponent":131,"./invariant":132,"./shouldUpdateReactComponent":151,_process:20}],76:[function(require,module){"use strict";function ReactMountReady(initialCollection){this._queue=initialCollection||null}var PooledClass=require("./PooledClass"),mixInto=require("./mixInto");mixInto(ReactMountReady,{enqueue:function(component,callback){this._queue=this._queue||[],this._queue.push({component:component,callback:callback})},notifyAll:function(){var queue=this._queue;if(queue){this._queue=null;for(var i=0,l=queue.length;l>i;i++){var component=queue[i].component,callback=queue[i].callback;callback.call(component)}queue.length=0}},reset:function(){this._queue=null},destructor:function(){this.reset()}}),PooledClass.addPoolingTo(ReactMountReady),module.exports=ReactMountReady},{"./PooledClass":43,"./mixInto":144}],77:[function(require,module){"use strict";function enqueueMarkup(parentID,markup,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.INSERT_MARKUP,markupIndex:markupQueue.push(markup)-1,textContent:null,fromIndex:null,toIndex:toIndex})}function enqueueMove(parentID,fromIndex,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:fromIndex,toIndex:toIndex})}function enqueueRemove(parentID,fromIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:fromIndex,toIndex:null})}function enqueueTextContent(parentID,textContent){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.TEXT_CONTENT,markupIndex:null,textContent:textContent,fromIndex:null,toIndex:null})}function processQueue(){updateQueue.length&&(ReactComponent.BackendIDOperations.dangerouslyProcessChildrenUpdates(updateQueue,markupQueue),clearQueue())}function clearQueue(){updateQueue.length=0,markupQueue.length=0}var ReactComponent=require("./ReactComponent"),ReactMultiChildUpdateTypes=require("./ReactMultiChildUpdateTypes"),flattenChildren=require("./flattenChildren"),instantiateReactComponent=require("./instantiateReactComponent"),shouldUpdateReactComponent=require("./shouldUpdateReactComponent"),updateDepth=0,updateQueue=[],markupQueue=[],ReactMultiChild={Mixin:{mountChildren:function(nestedChildren,transaction){var children=flattenChildren(nestedChildren),mountImages=[],index=0;this._renderedChildren=children;for(var name in children){var child=children[name];if(children.hasOwnProperty(name)){var childInstance=instantiateReactComponent(child);children[name]=childInstance;var rootID=this._rootNodeID+name,mountImage=childInstance.mountComponent(rootID,transaction,this._mountDepth+1);childInstance._mountIndex=index,mountImages.push(mountImage),index++}}return mountImages},updateTextContent:function(nextContent){updateDepth++;var errorThrown=!0;try{var prevChildren=this._renderedChildren;for(var name in prevChildren)prevChildren.hasOwnProperty(name)&&this._unmountChildByName(prevChildren[name],name);this.setTextContent(nextContent),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},updateChildren:function(nextNestedChildren,transaction){updateDepth++;var errorThrown=!0;try{this._updateChildren(nextNestedChildren,transaction),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},_updateChildren:function(nextNestedChildren,transaction){var nextChildren=flattenChildren(nextNestedChildren),prevChildren=this._renderedChildren;if(nextChildren||prevChildren){var name,lastIndex=0,nextIndex=0;for(name in nextChildren)if(nextChildren.hasOwnProperty(name)){var prevChild=prevChildren&&prevChildren[name],nextChild=nextChildren[name];if(shouldUpdateReactComponent(prevChild,nextChild))this.moveChild(prevChild,nextIndex,lastIndex),lastIndex=Math.max(prevChild._mountIndex,lastIndex),prevChild.receiveComponent(nextChild,transaction),prevChild._mountIndex=nextIndex;else{prevChild&&(lastIndex=Math.max(prevChild._mountIndex,lastIndex),this._unmountChildByName(prevChild,name));var nextChildInstance=instantiateReactComponent(nextChild);this._mountChildByNameAtIndex(nextChildInstance,name,nextIndex,transaction)}nextIndex++}for(name in prevChildren)!prevChildren.hasOwnProperty(name)||nextChildren&&nextChildren[name]||this._unmountChildByName(prevChildren[name],name)}},unmountChildren:function(){var renderedChildren=this._renderedChildren;for(var name in renderedChildren){var renderedChild=renderedChildren[name];renderedChild.unmountComponent&&renderedChild.unmountComponent()}this._renderedChildren=null},moveChild:function(child,toIndex,lastIndex){child._mountIndex<lastIndex&&enqueueMove(this._rootNodeID,child._mountIndex,toIndex)},createChild:function(child,mountImage){enqueueMarkup(this._rootNodeID,mountImage,child._mountIndex)},removeChild:function(child){enqueueRemove(this._rootNodeID,child._mountIndex)},setTextContent:function(textContent){enqueueTextContent(this._rootNodeID,textContent)},_mountChildByNameAtIndex:function(child,name,index,transaction){var rootID=this._rootNodeID+name,mountImage=child.mountComponent(rootID,transaction,this._mountDepth+1);child._mountIndex=index,this.createChild(child,mountImage),this._renderedChildren=this._renderedChildren||{},this._renderedChildren[name]=child},_unmountChildByName:function(child,name){ReactComponent.isValidComponent(child)&&(this.removeChild(child),child._mountIndex=null,child.unmountComponent(),delete this._renderedChildren[name])}}};module.exports=ReactMultiChild},{"./ReactComponent":47,"./ReactMultiChildUpdateTypes":78,"./flattenChildren":119,"./instantiateReactComponent":131,"./shouldUpdateReactComponent":151}],78:[function(require,module){"use strict";var keyMirror=require("./keyMirror"),ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});module.exports=ReactMultiChildUpdateTypes},{"./keyMirror":138}],79:[function(require,module){(function(process){"use strict";var emptyObject=require("./emptyObject"),invariant=require("./invariant"),ReactOwner={isValidOwner:function(object){return!(!object||"function"!=typeof object.attachRef||"function"!=typeof object.detachRef)},addComponentAsRefTo:function(component,ref,owner){"production"!==process.env.NODE_ENV?invariant(ReactOwner.isValidOwner(owner),"addComponentAsRefTo(...): Only a ReactOwner can have refs. This usually means that you're trying to add a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):invariant(ReactOwner.isValidOwner(owner)),owner.attachRef(ref,component)},removeComponentAsRefFrom:function(component,ref,owner){"production"!==process.env.NODE_ENV?invariant(ReactOwner.isValidOwner(owner),"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. This usually means that you're trying to remove a ref to a component that doesn't have an owner (that is, was not created inside of another component's `render` method). Try rendering this component inside of a new top-level component which will hold the ref."):invariant(ReactOwner.isValidOwner(owner)),owner.refs[ref]===component&&owner.detachRef(ref)},Mixin:{construct:function(){this.refs=emptyObject},attachRef:function(ref,component){"production"!==process.env.NODE_ENV?invariant(component.isOwnedBy(this),"attachRef(%s, ...): Only a component's owner can store a ref to it.",ref):invariant(component.isOwnedBy(this));var refs=this.refs===emptyObject?this.refs={}:this.refs;refs[ref]=component},detachRef:function(ref){delete this.refs[ref]}}};module.exports=ReactOwner}).call(this,require("_process"))},{"./emptyObject":117,"./invariant":132,_process:20}],80:[function(require,module){(function(process){"use strict";function _noMeasure(objName,fnName,func){return func}var ReactPerf={enableMeasure:!0,storedMeasure:_noMeasure,measure:function(objName,fnName,func){if("production"!==process.env.NODE_ENV){var measuredFunc=null;return function(){return ReactPerf.enableMeasure?(measuredFunc||(measuredFunc=ReactPerf.storedMeasure(objName,fnName,func)),measuredFunc.apply(this,arguments)):func.apply(this,arguments)}}return func},injection:{injectMeasure:function(measure){ReactPerf.storedMeasure=measure}}};module.exports=ReactPerf}).call(this,require("_process"))},{_process:20}],81:[function(require,module){(function(process){"use strict";function createTransferStrategy(mergeStrategy){return function(props,key,value){props[key]=props.hasOwnProperty(key)?mergeStrategy(props[key],value):value}}var emptyFunction=require("./emptyFunction"),invariant=require("./invariant"),joinClasses=require("./joinClasses"),merge=require("./merge"),TransferStrategies={children:emptyFunction,className:createTransferStrategy(joinClasses),key:emptyFunction,ref:emptyFunction,style:createTransferStrategy(merge)},ReactPropTransferer={TransferStrategies:TransferStrategies,mergeProps:function(oldProps,newProps){var props=merge(oldProps);for(var thisKey in newProps)if(newProps.hasOwnProperty(thisKey)){var transferStrategy=TransferStrategies[thisKey];transferStrategy&&TransferStrategies.hasOwnProperty(thisKey)?transferStrategy(props,thisKey,newProps[thisKey]):props.hasOwnProperty(thisKey)||(props[thisKey]=newProps[thisKey])}return props},Mixin:{transferPropsTo:function(component){return"production"!==process.env.NODE_ENV?invariant(component._owner===this,"%s: You can't call transferPropsTo() on a component that you don't own, %s. This usually means you are calling transferPropsTo() on a component passed in as props or children.",this.constructor.displayName,component.constructor.displayName):invariant(component._owner===this),component.props=ReactPropTransferer.mergeProps(component.props,this.props),component}}};module.exports=ReactPropTransferer}).call(this,require("_process"))},{"./emptyFunction":116,"./invariant":132,"./joinClasses":137,"./merge":141,_process:20}],82:[function(require,module){(function(process){"use strict";var ReactPropTypeLocationNames={};"production"!==process.env.NODE_ENV&&(ReactPropTypeLocationNames={prop:"prop",context:"context",childContext:"child context"}),module.exports=ReactPropTypeLocationNames}).call(this,require("_process"))},{_process:20}],83:[function(require,module){"use strict";var keyMirror=require("./keyMirror"),ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});module.exports=ReactPropTypeLocations},{"./keyMirror":138}],84:[function(require,module){(function(process){"use strict";function isRenderable(propValue){switch(typeof propValue){case"number":case"string":return!0;case"object":if(Array.isArray(propValue))return propValue.every(isRenderable);if(ReactComponent.isValidComponent(propValue))return!0;for(var k in propValue)if(!isRenderable(propValue[k]))return!1;return!0;default:return!1}}function getPropType(propValue){var propType=typeof propValue;return"object"===propType&&Array.isArray(propValue)?"array":propType}function createAnyTypeChecker(){function validateAnyType(){return!0}return createChainableTypeChecker(validateAnyType)}function createPrimitiveTypeChecker(expectedType){function validatePrimitiveType(shouldWarn,propValue,propName,componentName,location){var propType=getPropType(propValue),isValid=propType===expectedType;return shouldWarn&&("production"!==process.env.NODE_ENV?warning(isValid,"Invalid %s `%s` of type `%s` supplied to `%s`, expected `%s`.",ReactPropTypeLocationNames[location],propName,propType,componentName,expectedType):null),isValid}return createChainableTypeChecker(validatePrimitiveType)}function createEnumTypeChecker(expectedValues){function validateEnumType(shouldWarn,propValue,propName,componentName,location){var isValid=expectedEnum[propValue];return shouldWarn&&("production"!==process.env.NODE_ENV?warning(isValid,"Invalid %s `%s` supplied to `%s`, expected one of %s.",ReactPropTypeLocationNames[location],propName,componentName,JSON.stringify(Object.keys(expectedEnum))):null),isValid}var expectedEnum=createObjectFrom(expectedValues);return createChainableTypeChecker(validateEnumType)}function createShapeTypeChecker(shapeTypes){function validateShapeType(shouldWarn,propValue,propName,componentName,location){var propType=getPropType(propValue),isValid="object"===propType;if(isValid)for(var key in shapeTypes){var checker=shapeTypes[key];if(checker&&!checker(propValue,key,componentName,location))return!1}return shouldWarn&&("production"!==process.env.NODE_ENV?warning(isValid,"Invalid %s `%s` of type `%s` supplied to `%s`, expected `object`.",ReactPropTypeLocationNames[location],propName,propType,componentName):null),isValid}return createChainableTypeChecker(validateShapeType)}function createInstanceTypeChecker(expectedClass){function validateInstanceType(shouldWarn,propValue,propName,componentName,location){var isValid=propValue instanceof expectedClass;return shouldWarn&&("production"!==process.env.NODE_ENV?warning(isValid,"Invalid %s `%s` supplied to `%s`, expected instance of `%s`.",ReactPropTypeLocationNames[location],propName,componentName,expectedClass.name||ANONYMOUS):null),isValid}return createChainableTypeChecker(validateInstanceType)}function createArrayOfTypeChecker(propTypeChecker){function validateArrayType(shouldWarn,propValue,propName,componentName,location){var isValid=Array.isArray(propValue);if(isValid)for(var i=0;i<propValue.length;i++)if(!propTypeChecker(propValue,i,componentName,location))return!1;return shouldWarn&&("production"!==process.env.NODE_ENV?warning(isValid,"Invalid %s `%s` supplied to `%s`, expected an array.",ReactPropTypeLocationNames[location],propName,componentName):null),isValid}return createChainableTypeChecker(validateArrayType)}function createRenderableTypeChecker(){function validateRenderableType(shouldWarn,propValue,propName,componentName,location){var isValid=isRenderable(propValue);return shouldWarn&&("production"!==process.env.NODE_ENV?warning(isValid,"Invalid %s `%s` supplied to `%s`, expected a renderable prop.",ReactPropTypeLocationNames[location],propName,componentName):null),isValid}return createChainableTypeChecker(validateRenderableType)}function createComponentTypeChecker(){function validateComponentType(shouldWarn,propValue,propName,componentName,location){var isValid=ReactComponent.isValidComponent(propValue);return shouldWarn&&("production"!==process.env.NODE_ENV?warning(isValid,"Invalid %s `%s` supplied to `%s`, expected a React component.",ReactPropTypeLocationNames[location],propName,componentName):null),isValid}return createChainableTypeChecker(validateComponentType)}function createUnionTypeChecker(arrayOfValidators){return function(props,propName,componentName,location){for(var isValid=!1,ii=0;ii<arrayOfValidators.length;ii++){var validate=arrayOfValidators[ii];if("function"==typeof validate.weak&&(validate=validate.weak),validate(props,propName,componentName,location)){isValid=!0;break}}return"production"!==process.env.NODE_ENV?warning(isValid,"Invalid %s `%s` supplied to `%s`.",ReactPropTypeLocationNames[location],propName,componentName||ANONYMOUS):null,isValid}}function createChainableTypeChecker(validate){function checkType(isRequired,shouldWarn,props,propName,componentName,location){var propValue=props[propName];if(null!=propValue)return validate(shouldWarn,propValue,propName,componentName||ANONYMOUS,location);var isValid=!isRequired;return shouldWarn&&("production"!==process.env.NODE_ENV?warning(isValid,"Required %s `%s` was not specified in `%s`.",ReactPropTypeLocationNames[location],propName,componentName||ANONYMOUS):null),isValid}var checker=checkType.bind(null,!1,!0);return checker.weak=checkType.bind(null,!1,!1),checker.isRequired=checkType.bind(null,!0,!0),checker.weak.isRequired=checkType.bind(null,!0,!1),checker.isRequired.weak=checker.weak.isRequired,checker}var ReactComponent=require("./ReactComponent"),ReactPropTypeLocationNames=require("./ReactPropTypeLocationNames"),warning=require("./warning"),createObjectFrom=require("./createObjectFrom"),Props={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),shape:createShapeTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,arrayOf:createArrayOfTypeChecker,instanceOf:createInstanceTypeChecker,renderable:createRenderableTypeChecker(),component:createComponentTypeChecker(),any:createAnyTypeChecker()},ANONYMOUS="<<anonymous>>";
module.exports=Props}).call(this,require("_process"))},{"./ReactComponent":47,"./ReactPropTypeLocationNames":82,"./createObjectFrom":114,"./warning":154,_process:20}],85:[function(require,module){"use strict";function ReactPutListenerQueue(){this.listenersToPut=[]}var PooledClass=require("./PooledClass"),ReactEventEmitter=require("./ReactEventEmitter"),mixInto=require("./mixInto");mixInto(ReactPutListenerQueue,{enqueuePutListener:function(rootNodeID,propKey,propValue){this.listenersToPut.push({rootNodeID:rootNodeID,propKey:propKey,propValue:propValue})},putListeners:function(){for(var i=0;i<this.listenersToPut.length;i++){var listenerToPut=this.listenersToPut[i];ReactEventEmitter.putListener(listenerToPut.rootNodeID,listenerToPut.propKey,listenerToPut.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),PooledClass.addPoolingTo(ReactPutListenerQueue),module.exports=ReactPutListenerQueue},{"./PooledClass":43,"./ReactEventEmitter":68,"./mixInto":144}],86:[function(require,module){"use strict";function ReactReconcileTransaction(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=ReactMountReady.getPooled(null),this.putListenerQueue=ReactPutListenerQueue.getPooled()}var PooledClass=require("./PooledClass"),ReactEventEmitter=require("./ReactEventEmitter"),ReactInputSelection=require("./ReactInputSelection"),ReactMountReady=require("./ReactMountReady"),ReactPutListenerQueue=require("./ReactPutListenerQueue"),Transaction=require("./Transaction"),mixInto=require("./mixInto"),SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection},EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactEventEmitter.isEnabled();return ReactEventEmitter.setEnabled(!1),currentlyEnabled},close:function(previouslyEnabled){ReactEventEmitter.setEnabled(previouslyEnabled)}},ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},PUT_LISTENER_QUEUEING={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},TRANSACTION_WRAPPERS=[PUT_LISTENER_QUEUEING,SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){ReactMountReady.release(this.reactMountReady),this.reactMountReady=null,ReactPutListenerQueue.release(this.putListenerQueue),this.putListenerQueue=null}};mixInto(ReactReconcileTransaction,Transaction.Mixin),mixInto(ReactReconcileTransaction,Mixin),PooledClass.addPoolingTo(ReactReconcileTransaction),module.exports=ReactReconcileTransaction},{"./PooledClass":43,"./ReactEventEmitter":68,"./ReactInputSelection":72,"./ReactMountReady":76,"./ReactPutListenerQueue":85,"./Transaction":105,"./mixInto":144}],87:[function(require,module){"use strict";var ReactRootIndexInjection={injectCreateReactRootIndex:function(_createReactRootIndex){ReactRootIndex.createReactRootIndex=_createReactRootIndex}},ReactRootIndex={createReactRootIndex:null,injection:ReactRootIndexInjection};module.exports=ReactRootIndex},{}],88:[function(require,module){(function(process){"use strict";function renderComponentToString(component){"production"!==process.env.NODE_ENV?invariant(ReactComponent.isValidComponent(component),"renderComponentToString(): You must pass a valid ReactComponent."):invariant(ReactComponent.isValidComponent(component)),"production"!==process.env.NODE_ENV?invariant(!(2===arguments.length&&"function"==typeof arguments[1]),"renderComponentToString(): This function became synchronous and now returns the generated markup. Please remove the second parameter."):invariant(!(2===arguments.length&&"function"==typeof arguments[1]));var transaction;try{var id=ReactInstanceHandles.createReactRootID();return transaction=ReactServerRenderingTransaction.getPooled(!1),transaction.perform(function(){var componentInstance=instantiateReactComponent(component),markup=componentInstance.mountComponent(id,transaction,0);return ReactMarkupChecksum.addChecksumToMarkup(markup)},null)}finally{ReactServerRenderingTransaction.release(transaction)}}function renderComponentToStaticMarkup(component){"production"!==process.env.NODE_ENV?invariant(ReactComponent.isValidComponent(component),"renderComponentToStaticMarkup(): You must pass a valid ReactComponent."):invariant(ReactComponent.isValidComponent(component));var transaction;try{var id=ReactInstanceHandles.createReactRootID();return transaction=ReactServerRenderingTransaction.getPooled(!0),transaction.perform(function(){var componentInstance=instantiateReactComponent(component);return componentInstance.mountComponent(id,transaction,0)},null)}finally{ReactServerRenderingTransaction.release(transaction)}}var ReactComponent=require("./ReactComponent"),ReactInstanceHandles=require("./ReactInstanceHandles"),ReactMarkupChecksum=require("./ReactMarkupChecksum"),ReactServerRenderingTransaction=require("./ReactServerRenderingTransaction"),instantiateReactComponent=require("./instantiateReactComponent"),invariant=require("./invariant");module.exports={renderComponentToString:renderComponentToString,renderComponentToStaticMarkup:renderComponentToStaticMarkup}}).call(this,require("_process"))},{"./ReactComponent":47,"./ReactInstanceHandles":73,"./ReactMarkupChecksum":74,"./ReactServerRenderingTransaction":89,"./instantiateReactComponent":131,"./invariant":132,_process:20}],89:[function(require,module){"use strict";function ReactServerRenderingTransaction(renderToStaticMarkup){this.reinitializeTransaction(),this.renderToStaticMarkup=renderToStaticMarkup,this.reactMountReady=ReactMountReady.getPooled(null),this.putListenerQueue=ReactPutListenerQueue.getPooled()}var PooledClass=require("./PooledClass"),ReactMountReady=require("./ReactMountReady"),ReactPutListenerQueue=require("./ReactPutListenerQueue"),Transaction=require("./Transaction"),emptyFunction=require("./emptyFunction"),mixInto=require("./mixInto"),ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:emptyFunction},PUT_LISTENER_QUEUEING={initialize:function(){this.putListenerQueue.reset()},close:emptyFunction},TRANSACTION_WRAPPERS=[PUT_LISTENER_QUEUEING,ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){ReactMountReady.release(this.reactMountReady),this.reactMountReady=null,ReactPutListenerQueue.release(this.putListenerQueue),this.putListenerQueue=null}};mixInto(ReactServerRenderingTransaction,Transaction.Mixin),mixInto(ReactServerRenderingTransaction,Mixin),PooledClass.addPoolingTo(ReactServerRenderingTransaction),module.exports=ReactServerRenderingTransaction},{"./PooledClass":43,"./ReactMountReady":76,"./ReactPutListenerQueue":85,"./Transaction":105,"./emptyFunction":116,"./mixInto":144}],90:[function(require,module){"use strict";var DOMPropertyOperations=require("./DOMPropertyOperations"),ReactBrowserComponentMixin=require("./ReactBrowserComponentMixin"),ReactComponent=require("./ReactComponent"),escapeTextForBrowser=require("./escapeTextForBrowser"),mixInto=require("./mixInto"),ReactTextComponent=function(initialText){this.construct({text:initialText})};ReactTextComponent.ConvenienceConstructor=function(props){return new ReactTextComponent(props.text)},mixInto(ReactTextComponent,ReactComponent.Mixin),mixInto(ReactTextComponent,ReactBrowserComponentMixin),mixInto(ReactTextComponent,{mountComponent:function(rootID,transaction,mountDepth){ReactComponent.Mixin.mountComponent.call(this,rootID,transaction,mountDepth);var escapedText=escapeTextForBrowser(this.props.text);return transaction.renderToStaticMarkup?escapedText:"<span "+DOMPropertyOperations.createMarkupForID(rootID)+">"+escapedText+"</span>"},receiveComponent:function(nextComponent){var nextProps=nextComponent.props;nextProps.text!==this.props.text&&(this.props.text=nextProps.text,ReactComponent.BackendIDOperations.updateTextContentByID(this._rootNodeID,nextProps.text))}}),ReactTextComponent.type=ReactTextComponent,ReactTextComponent.prototype.type=ReactTextComponent,module.exports=ReactTextComponent},{"./DOMPropertyOperations":29,"./ReactBrowserComponentMixin":45,"./ReactComponent":47,"./escapeTextForBrowser":118,"./mixInto":144}],91:[function(require,module){(function(process){"use strict";function ensureBatchingStrategy(){"production"!==process.env.NODE_ENV?invariant(batchingStrategy,"ReactUpdates: must inject a batching strategy"):invariant(batchingStrategy)}function batchedUpdates(callback,param){ensureBatchingStrategy(),batchingStrategy.batchedUpdates(callback,param)}function mountDepthComparator(c1,c2){return c1._mountDepth-c2._mountDepth}function runBatchedUpdates(){dirtyComponents.sort(mountDepthComparator);for(var i=0;i<dirtyComponents.length;i++){var component=dirtyComponents[i];if(component.isMounted()){var callbacks=component._pendingCallbacks;if(component._pendingCallbacks=null,component.performUpdateIfNecessary(),callbacks)for(var j=0;j<callbacks.length;j++)callbacks[j].call(component)}}}function clearDirtyComponents(){dirtyComponents.length=0}function enqueueUpdate(component,callback){return"production"!==process.env.NODE_ENV?invariant(!callback||"function"==typeof callback,"enqueueUpdate(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):invariant(!callback||"function"==typeof callback),ensureBatchingStrategy(),batchingStrategy.isBatchingUpdates?(dirtyComponents.push(component),void(callback&&(component._pendingCallbacks?component._pendingCallbacks.push(callback):component._pendingCallbacks=[callback]))):(component.performUpdateIfNecessary(),void(callback&&callback.call(component)))}var ReactPerf=require("./ReactPerf"),invariant=require("./invariant"),dirtyComponents=[],batchingStrategy=null,flushBatchedUpdates=ReactPerf.measure("ReactUpdates","flushBatchedUpdates",function(){try{runBatchedUpdates()}finally{clearDirtyComponents()}}),ReactUpdatesInjection={injectBatchingStrategy:function(_batchingStrategy){"production"!==process.env.NODE_ENV?invariant(_batchingStrategy,"ReactUpdates: must provide a batching strategy"):invariant(_batchingStrategy),"production"!==process.env.NODE_ENV?invariant("function"==typeof _batchingStrategy.batchedUpdates,"ReactUpdates: must provide a batchedUpdates() function"):invariant("function"==typeof _batchingStrategy.batchedUpdates),"production"!==process.env.NODE_ENV?invariant("boolean"==typeof _batchingStrategy.isBatchingUpdates,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):invariant("boolean"==typeof _batchingStrategy.isBatchingUpdates),batchingStrategy=_batchingStrategy}},ReactUpdates={batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection};module.exports=ReactUpdates}).call(this,require("_process"))},{"./ReactPerf":80,"./invariant":132,_process:20}],92:[function(require,module){"use strict";function getSelection(node){if("selectionStart"in node&&ReactInputSelection.hasSelectionCapabilities(node))return{start:node.selectionStart,end:node.selectionEnd};if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft}}var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset}}function constructSelectEvent(nativeEvent){if(!mouseDown&&null!=activeElement&&activeElement==getActiveElement()){var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementID,nativeEvent);return syntheticEvent.type="select",syntheticEvent.target=activeElement,EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent),syntheticEvent}}}var EventConstants=require("./EventConstants"),EventPropagators=require("./EventPropagators"),ReactInputSelection=require("./ReactInputSelection"),SyntheticEvent=require("./SyntheticEvent"),getActiveElement=require("./getActiveElement"),isTextInputElement=require("./isTextInputElement"),keyOf=require("./keyOf"),shallowEqual=require("./shallowEqual"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,lastSelection=null,mouseDown=!1,SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){switch(topLevelType){case topLevelTypes.topFocus:(isTextInputElement(topLevelTarget)||"true"===topLevelTarget.contentEditable)&&(activeElement=topLevelTarget,activeElementID=topLevelTargetID,lastSelection=null);break;case topLevelTypes.topBlur:activeElement=null,activeElementID=null,lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=!0;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:return mouseDown=!1,constructSelectEvent(nativeEvent);case topLevelTypes.topSelectionChange:case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(nativeEvent)}}};module.exports=SelectEventPlugin},{"./EventConstants":34,"./EventPropagators":39,"./ReactInputSelection":72,"./SyntheticEvent":98,"./getActiveElement":122,"./isTextInputElement":135,"./keyOf":139,"./shallowEqual":150}],93:[function(require,module){"use strict";var GLOBAL_MOUNT_POINT_MAX=Math.pow(2,53),ServerReactRootIndex={createReactRootIndex:function(){return Math.ceil(Math.random()*GLOBAL_MOUNT_POINT_MAX)}};module.exports=ServerReactRootIndex},{}],94:[function(require,module){(function(process){"use strict";var EventConstants=require("./EventConstants"),EventPluginUtils=require("./EventPluginUtils"),EventPropagators=require("./EventPropagators"),SyntheticClipboardEvent=require("./SyntheticClipboardEvent"),SyntheticEvent=require("./SyntheticEvent"),SyntheticFocusEvent=require("./SyntheticFocusEvent"),SyntheticKeyboardEvent=require("./SyntheticKeyboardEvent"),SyntheticMouseEvent=require("./SyntheticMouseEvent"),SyntheticDragEvent=require("./SyntheticDragEvent"),SyntheticTouchEvent=require("./SyntheticTouchEvent"),SyntheticUIEvent=require("./SyntheticUIEvent"),SyntheticWheelEvent=require("./SyntheticWheelEvent"),invariant=require("./invariant"),keyOf=require("./keyOf"),topLevelTypes=EventConstants.topLevelTypes,eventTypes={blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:!0}),captured:keyOf({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:!0}),captured:keyOf({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:!0}),captured:keyOf({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:!0}),captured:keyOf({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:!0}),captured:keyOf({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:!0}),captured:keyOf({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:!0}),captured:keyOf({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:!0}),captured:keyOf({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:!0}),captured:keyOf({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:!0}),captured:keyOf({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:!0}),captured:keyOf({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:!0}),captured:keyOf({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:!0}),captured:keyOf({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:!0}),captured:keyOf({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:!0}),captured:keyOf({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:!0}),captured:keyOf({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:!0}),captured:keyOf({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:!0}),captured:keyOf({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:!0}),captured:keyOf({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:!0}),captured:keyOf({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:!0}),captured:keyOf({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:!0}),captured:keyOf({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:!0}),captured:keyOf({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:!0}),captured:keyOf({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:!0}),captured:keyOf({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:!0}),captured:keyOf({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:!0}),captured:keyOf({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:!0}),captured:keyOf({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:!0}),captured:keyOf({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:!0}),captured:keyOf({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:!0}),captured:keyOf({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:!0}),captured:keyOf({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:!0}),captured:keyOf({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:!0}),captured:keyOf({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:!0}),captured:keyOf({onWheelCapture:!0})}}},topLevelEventsToDispatchConfig={topBlur:eventTypes.blur,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSubmit:eventTypes.submit,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topWheel:eventTypes.wheel};for(var topLevelType in topLevelEventsToDispatchConfig)topLevelEventsToDispatchConfig[topLevelType].dependencies=[topLevelType];var SimpleEventPlugin={eventTypes:eventTypes,executeDispatch:function(event,listener,domID){var returnValue=EventPluginUtils.executeDispatch(event,listener,domID);returnValue===!1&&(event.stopPropagation(),event.preventDefault())},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig)return null;var EventConstructor;switch(topLevelType){case topLevelTypes.topInput:case topLevelTypes.topLoad:case topLevelTypes.topError:case topLevelTypes.topReset:case topLevelTypes.topSubmit:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyPress:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(2===nativeEvent.button)return null;case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:EventConstructor=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent}"production"!==process.env.NODE_ENV?invariant(EventConstructor,"SimpleEventPlugin: Unhandled event type, `%s`.",topLevelType):invariant(EventConstructor);var event=EventConstructor.getPooled(dispatchConfig,topLevelTargetID,nativeEvent);return EventPropagators.accumulateTwoPhaseDispatches(event),event}};module.exports=SimpleEventPlugin}).call(this,require("_process"))},{"./EventConstants":34,"./EventPluginUtils":38,"./EventPropagators":39,"./SyntheticClipboardEvent":95,"./SyntheticDragEvent":97,"./SyntheticEvent":98,"./SyntheticFocusEvent":99,"./SyntheticKeyboardEvent":100,"./SyntheticMouseEvent":101,"./SyntheticTouchEvent":102,"./SyntheticUIEvent":103,"./SyntheticWheelEvent":104,"./invariant":132,"./keyOf":139,_process:20}],95:[function(require,module){"use strict";function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}var SyntheticEvent=require("./SyntheticEvent"),ClipboardEventInterface={clipboardData:function(event){return"clipboardData"in event?event.clipboardData:window.clipboardData}};SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface),module.exports=SyntheticClipboardEvent},{"./SyntheticEvent":98}],96:[function(require,module){"use strict";function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}var SyntheticEvent=require("./SyntheticEvent"),CompositionEventInterface={data:null};SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface),module.exports=SyntheticCompositionEvent},{"./SyntheticEvent":98}],97:[function(require,module){"use strict";function SyntheticDragEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}var SyntheticMouseEvent=require("./SyntheticMouseEvent"),DragEventInterface={dataTransfer:null};SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface),module.exports=SyntheticDragEvent},{"./SyntheticMouseEvent":101}],98:[function(require,module){"use strict";function SyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent){this.dispatchConfig=dispatchConfig,this.dispatchMarker=dispatchMarker,this.nativeEvent=nativeEvent;var Interface=this.constructor.Interface;for(var propName in Interface)if(Interface.hasOwnProperty(propName)){var normalize=Interface[propName];this[propName]=normalize?normalize(nativeEvent):nativeEvent[propName]}var defaultPrevented=null!=nativeEvent.defaultPrevented?nativeEvent.defaultPrevented:nativeEvent.returnValue===!1;this.isDefaultPrevented=defaultPrevented?emptyFunction.thatReturnsTrue:emptyFunction.thatReturnsFalse,this.isPropagationStopped=emptyFunction.thatReturnsFalse}var PooledClass=require("./PooledClass"),emptyFunction=require("./emptyFunction"),getEventTarget=require("./getEventTarget"),merge=require("./merge"),mergeInto=require("./mergeInto"),EventInterface={type:null,target:getEventTarget,currentTarget:emptyFunction.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};mergeInto(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=!0;var event=this.nativeEvent;event.preventDefault?event.preventDefault():event.returnValue=!1,this.isDefaultPrevented=emptyFunction.thatReturnsTrue},stopPropagation:function(){var event=this.nativeEvent;event.stopPropagation?event.stopPropagation():event.cancelBubble=!0,this.isPropagationStopped=emptyFunction.thatReturnsTrue},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface)this[propName]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),SyntheticEvent.Interface=EventInterface,SyntheticEvent.augmentClass=function(Class,Interface){var Super=this,prototype=Object.create(Super.prototype);mergeInto(prototype,Class.prototype),Class.prototype=prototype,Class.prototype.constructor=Class,Class.Interface=merge(Super.Interface,Interface),Class.augmentClass=Super.augmentClass,PooledClass.addPoolingTo(Class,PooledClass.threeArgumentPooler)},PooledClass.addPoolingTo(SyntheticEvent,PooledClass.threeArgumentPooler),module.exports=SyntheticEvent},{"./PooledClass":43,"./emptyFunction":116,"./getEventTarget":124,"./merge":141,"./mergeInto":143}],99:[function(require,module){"use strict";function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}var SyntheticUIEvent=require("./SyntheticUIEvent"),FocusEventInterface={relatedTarget:null};SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface),module.exports=SyntheticFocusEvent},{"./SyntheticUIEvent":103}],100:[function(require,module){"use strict";function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}var SyntheticUIEvent=require("./SyntheticUIEvent"),getEventKey=require("./getEventKey"),KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,"char":null,charCode:null,keyCode:null,which:null};SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface),module.exports=SyntheticKeyboardEvent},{"./SyntheticUIEvent":103,"./getEventKey":123}],101:[function(require,module){"use strict";function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}var SyntheticUIEvent=require("./SyntheticUIEvent"),ViewportMetrics=require("./ViewportMetrics"),MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,button:function(event){var button=event.button;return"which"in event?button:2===button?2:4===button?1:0},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement)},pageX:function(event){return"pageX"in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft},pageY:function(event){return"pageY"in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop}};SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface),module.exports=SyntheticMouseEvent},{"./SyntheticUIEvent":103,"./ViewportMetrics":106}],102:[function(require,module){"use strict";function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}var SyntheticUIEvent=require("./SyntheticUIEvent"),TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null};SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface),module.exports=SyntheticTouchEvent},{"./SyntheticUIEvent":103}],103:[function(require,module){"use strict";function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}var SyntheticEvent=require("./SyntheticEvent"),UIEventInterface={view:null,detail:null};SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface),module.exports=SyntheticUIEvent},{"./SyntheticEvent":98}],104:[function(require,module){"use strict";function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent)}var SyntheticMouseEvent=require("./SyntheticMouseEvent"),WheelEventInterface={deltaX:function(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function(event){return"deltaY"in event?event.deltaY:"wheelDeltaY"in event?-event.wheelDeltaY:"wheelDelta"in event?-event.wheelDelta:0},deltaZ:null,deltaMode:null};SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface),module.exports=SyntheticWheelEvent},{"./SyntheticMouseEvent":101}],105:[function(require,module){(function(process){"use strict";var invariant=require("./invariant"),Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this.timingMetrics||(this.timingMetrics={}),this.timingMetrics.methodInvocationTime=0,this.timingMetrics.wrapperInitTimes?this.timingMetrics.wrapperInitTimes.length=0:this.timingMetrics.wrapperInitTimes=[],this.timingMetrics.wrapperCloseTimes?this.timingMetrics.wrapperCloseTimes.length=0:this.timingMetrics.wrapperCloseTimes=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(method,scope,a,b,c,d,e,f){"production"!==process.env.NODE_ENV?invariant(!this.isInTransaction(),"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):invariant(!this.isInTransaction());var errorThrown,ret,memberStart=Date.now();try{this._isInTransaction=!0,errorThrown=!0,this.initializeAll(0),ret=method.call(scope,a,b,c,d,e,f),errorThrown=!1}finally{var memberEnd=Date.now();this.methodInvocationTime+=memberEnd-memberStart;try{if(errorThrown)try{this.closeAll(0)}catch(err){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return ret},initializeAll:function(startIndex){for(var transactionWrappers=this.transactionWrappers,wrapperInitTimes=this.timingMetrics.wrapperInitTimes,i=startIndex;i<transactionWrappers.length;i++){var initStart=Date.now(),wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=Transaction.OBSERVED_ERROR,this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null}finally{var curInitTime=wrapperInitTimes[i],initEnd=Date.now();if(wrapperInitTimes[i]=(curInitTime||0)+(initEnd-initStart),this.wrapperInitData[i]===Transaction.OBSERVED_ERROR)try{this.initializeAll(i+1)}catch(err){}}}},closeAll:function(startIndex){"production"!==process.env.NODE_ENV?invariant(this.isInTransaction(),"Transaction.closeAll(): Cannot close transaction when none are open."):invariant(this.isInTransaction());
for(var transactionWrappers=this.transactionWrappers,wrapperCloseTimes=this.timingMetrics.wrapperCloseTimes,i=startIndex;i<transactionWrappers.length;i++){var errorThrown,wrapper=transactionWrappers[i],closeStart=Date.now(),initData=this.wrapperInitData[i];try{errorThrown=!0,initData!==Transaction.OBSERVED_ERROR&&wrapper.close&&wrapper.close.call(this,initData),errorThrown=!1}finally{var closeEnd=Date.now(),curCloseTime=wrapperCloseTimes[i];if(wrapperCloseTimes[i]=(curCloseTime||0)+(closeEnd-closeStart),errorThrown)try{this.closeAll(i+1)}catch(e){}}}this.wrapperInitData.length=0}},Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction}).call(this,require("_process"))},{"./invariant":132,_process:20}],106:[function(require,module){"use strict";var getUnboundedScrollPosition=require("./getUnboundedScrollPosition"),ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){var scrollPosition=getUnboundedScrollPosition(window);ViewportMetrics.currentScrollLeft=scrollPosition.x,ViewportMetrics.currentScrollTop=scrollPosition.y}};module.exports=ViewportMetrics},{"./getUnboundedScrollPosition":129}],107:[function(require,module){(function(process){"use strict";function accumulate(current,next){if("production"!==process.env.NODE_ENV?invariant(null!=next,"accumulate(...): Accumulated items must be not be null or undefined."):invariant(null!=next),null==current)return next;var currentIsArray=Array.isArray(current),nextIsArray=Array.isArray(next);return currentIsArray?current.concat(next):nextIsArray?[current].concat(next):[current,next]}var invariant=require("./invariant");module.exports=accumulate}).call(this,require("_process"))},{"./invariant":132,_process:20}],108:[function(require,module){"use strict";function adler32(data){for(var a=1,b=0,i=0;i<data.length;i++)a=(a+data.charCodeAt(i))%MOD,b=(b+a)%MOD;return a|b<<16}var MOD=65521;module.exports=adler32},{}],109:[function(require,module){function containsNode(outerNode,innerNode){return outerNode&&innerNode?outerNode===innerNode?!0:isTextNode(outerNode)?!1:isTextNode(innerNode)?containsNode(outerNode,innerNode.parentNode):outerNode.contains?outerNode.contains(innerNode):outerNode.compareDocumentPosition?!!(16&outerNode.compareDocumentPosition(innerNode)):!1:!1}var isTextNode=require("./isTextNode");module.exports=containsNode},{"./isTextNode":136}],110:[function(require,module){(function(process){function copyProperties(obj,a,b,c,d,e,f){if(obj=obj||{},"production"!==process.env.NODE_ENV&&f)throw new Error("Too many arguments passed to copyProperties");for(var v,args=[a,b,c,d,e],ii=0;args[ii];){v=args[ii++];for(var k in v)obj[k]=v[k];v.hasOwnProperty&&v.hasOwnProperty("toString")&&"undefined"!=typeof v.toString&&obj.toString!==v.toString&&(obj.toString=v.toString)}return obj}module.exports=copyProperties}).call(this,require("_process"))},{_process:20}],111:[function(require,module){function hasArrayNature(obj){return!!obj&&("object"==typeof obj||"function"==typeof obj)&&"length"in obj&&!("setInterval"in obj)&&"number"!=typeof obj.nodeType&&(Array.isArray(obj)||"callee"in obj||"item"in obj)}function createArrayFrom(obj){return hasArrayNature(obj)?Array.isArray(obj)?obj.slice():toArray(obj):[obj]}var toArray=require("./toArray");module.exports=createArrayFrom},{"./toArray":152}],112:[function(require,module){(function(process){"use strict";function createFullPageComponent(componentClass){var FullPageComponent=ReactCompositeComponent.createClass({displayName:"ReactFullPageComponent"+(componentClass.componentConstructor.displayName||""),componentWillUnmount:function(){"production"!==process.env.NODE_ENV?invariant(!1,"%s tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this.constructor.displayName):invariant(!1)},render:function(){return this.transferPropsTo(componentClass(null,this.props.children))}});return FullPageComponent}var ReactCompositeComponent=require("./ReactCompositeComponent"),invariant=require("./invariant");module.exports=createFullPageComponent}).call(this,require("_process"))},{"./ReactCompositeComponent":49,"./invariant":132,_process:20}],113:[function(require,module){(function(process){function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase()}function createNodesFromMarkup(markup,handleScript){var node=dummyNode;"production"!==process.env.NODE_ENV?invariant(!!dummyNode,"createNodesFromMarkup dummy not initialized"):invariant(!!dummyNode);var nodeName=getNodeName(markup),wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];for(var wrapDepth=wrap[0];wrapDepth--;)node=node.lastChild}else node.innerHTML=markup;var scripts=node.getElementsByTagName("script");scripts.length&&("production"!==process.env.NODE_ENV?invariant(handleScript,"createNodesFromMarkup(...): Unexpected <script> element rendered."):invariant(handleScript),createArrayFrom(scripts).forEach(handleScript));for(var nodes=createArrayFrom(node.childNodes);node.lastChild;)node.removeChild(node.lastChild);return nodes}var ExecutionEnvironment=require("./ExecutionEnvironment"),createArrayFrom=require("./createArrayFrom"),getMarkupWrap=require("./getMarkupWrap"),invariant=require("./invariant"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,nodeNamePattern=/^\s*<(\w+)/;module.exports=createNodesFromMarkup}).call(this,require("_process"))},{"./ExecutionEnvironment":40,"./createArrayFrom":111,"./getMarkupWrap":125,"./invariant":132,_process:20}],114:[function(require,module){(function(process){function createObjectFrom(keys,values){if("production"!==process.env.NODE_ENV&&!Array.isArray(keys))throw new TypeError("Must pass an array of keys.");var object={},isArray=Array.isArray(values);"undefined"==typeof values&&(values=!0);for(var ii=keys.length;ii--;)object[keys[ii]]=isArray?values[ii]:values;return object}module.exports=createObjectFrom}).call(this,require("_process"))},{_process:20}],115:[function(require,module){"use strict";function dangerousStyleValue(styleName,value){var isEmpty=null==value||"boolean"==typeof value||""===value;if(isEmpty)return"";var isNonNumeric=isNaN(value);return isNonNumeric||0===value||CSSProperty.isUnitlessNumber[styleName]?""+value:value+"px"}var CSSProperty=require("./CSSProperty");module.exports=dangerousStyleValue},{"./CSSProperty":22}],116:[function(require,module){function makeEmptyFunction(arg){return function(){return arg}}function emptyFunction(){}var copyProperties=require("./copyProperties");copyProperties(emptyFunction,{thatReturns:makeEmptyFunction,thatReturnsFalse:makeEmptyFunction(!1),thatReturnsTrue:makeEmptyFunction(!0),thatReturnsNull:makeEmptyFunction(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(arg){return arg}}),module.exports=emptyFunction},{"./copyProperties":110}],117:[function(require,module){(function(process){"use strict";var emptyObject={};"production"!==process.env.NODE_ENV&&Object.freeze(emptyObject),module.exports=emptyObject}).call(this,require("_process"))},{_process:20}],118:[function(require,module){"use strict";function escaper(match){return ESCAPE_LOOKUP[match]}function escapeTextForBrowser(text){return(""+text).replace(ESCAPE_REGEX,escaper)}var ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},ESCAPE_REGEX=/[&><"'\/]/g;module.exports=escapeTextForBrowser},{}],119:[function(require,module){(function(process){"use strict";function flattenSingleChildIntoContext(traverseContext,child,name){var result=traverseContext;"production"!==process.env.NODE_ENV?invariant(!result.hasOwnProperty(name),"flattenChildren(...): Encountered two children with the same key, `%s`. Children keys must be unique.",name):invariant(!result.hasOwnProperty(name)),null!=child&&(result[name]=child)}function flattenChildren(children){if(null==children)return children;var result={};return traverseAllChildren(children,flattenSingleChildIntoContext,result),result}var invariant=require("./invariant"),traverseAllChildren=require("./traverseAllChildren");module.exports=flattenChildren}).call(this,require("_process"))},{"./invariant":132,"./traverseAllChildren":153,_process:20}],120:[function(require,module){"use strict";function focusNode(node){node.disabled||node.focus()}module.exports=focusNode},{}],121:[function(require,module){"use strict";var forEachAccumulated=function(arr,cb,scope){Array.isArray(arr)?arr.forEach(cb,scope):arr&&cb.call(scope,arr)};module.exports=forEachAccumulated},{}],122:[function(require,module){function getActiveElement(){try{return document.activeElement||document.body}catch(e){return document.body}}module.exports=getActiveElement},{}],123:[function(require,module){"use strict";function getEventKey(nativeEvent){return"key"in nativeEvent?normalizeKey[nativeEvent.key]||nativeEvent.key:translateToKey[nativeEvent.which||nativeEvent.keyCode]||"Unidentified"}var normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};module.exports=getEventKey},{}],124:[function(require,module){"use strict";function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;return 3===target.nodeType?target.parentNode:target}module.exports=getEventTarget},{}],125:[function(require,module){(function(process){function getMarkupWrap(nodeName){return"production"!==process.env.NODE_ENV?invariant(!!dummyNode,"Markup wrapping node not initialized"):invariant(!!dummyNode),markupWrap.hasOwnProperty(nodeName)||(nodeName="*"),shouldWrap.hasOwnProperty(nodeName)||(dummyNode.innerHTML="*"===nodeName?"<link />":"<"+nodeName+"></"+nodeName+">",shouldWrap[nodeName]=!dummyNode.firstChild),shouldWrap[nodeName]?markupWrap[nodeName]:null}var ExecutionEnvironment=require("./ExecutionEnvironment"),invariant=require("./invariant"),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,shouldWrap={circle:!0,defs:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},selectWrap=[1,'<select multiple="true">',"</select>"],tableWrap=[1,"<table>","</table>"],trWrap=[3,"<table><tbody><tr>","</tr></tbody></table>"],svgWrap=[1,"<svg>","</svg>"],markupWrap={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:selectWrap,option:selectWrap,caption:tableWrap,colgroup:tableWrap,tbody:tableWrap,tfoot:tableWrap,thead:tableWrap,td:trWrap,th:trWrap,circle:svgWrap,defs:svgWrap,g:svgWrap,line:svgWrap,linearGradient:svgWrap,path:svgWrap,polygon:svgWrap,polyline:svgWrap,radialGradient:svgWrap,rect:svgWrap,stop:svgWrap,text:svgWrap};module.exports=getMarkupWrap}).call(this,require("_process"))},{"./ExecutionEnvironment":40,"./invariant":132,_process:20}],126:[function(require,module){"use strict";function getLeafNode(node){for(;node&&node.firstChild;)node=node.firstChild;return node}function getSiblingNode(node){for(;node;){if(node.nextSibling)return node.nextSibling;node=node.parentNode}}function getNodeForCharacterOffset(root,offset){for(var node=getLeafNode(root),nodeStart=0,nodeEnd=0;node;){if(3==node.nodeType){if(nodeEnd=nodeStart+node.textContent.length,offset>=nodeStart&&nodeEnd>=offset)return{node:node,offset:offset-nodeStart};nodeStart=nodeEnd}node=getLeafNode(getSiblingNode(node))}}module.exports=getNodeForCharacterOffset},{}],127:[function(require,module){"use strict";function getReactRootElementInContainer(container){return container?container.nodeType===DOC_NODE_TYPE?container.documentElement:container.firstChild:null}var DOC_NODE_TYPE=9;module.exports=getReactRootElementInContainer},{}],128:[function(require,module){"use strict";function getTextContentAccessor(){return!contentKey&&ExecutionEnvironment.canUseDOM&&(contentKey="textContent"in document.createElement("div")?"textContent":"innerText"),contentKey}var ExecutionEnvironment=require("./ExecutionEnvironment"),contentKey=null;module.exports=getTextContentAccessor},{"./ExecutionEnvironment":40}],129:[function(require,module){"use strict";function getUnboundedScrollPosition(scrollable){return scrollable===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:scrollable.scrollLeft,y:scrollable.scrollTop}}module.exports=getUnboundedScrollPosition},{}],130:[function(require,module){function hyphenate(string){return string.replace(_uppercasePattern,"-$1").toLowerCase()}var _uppercasePattern=/([A-Z])/g;module.exports=hyphenate},{}],131:[function(require,module){(function(process){"use strict";function isValidComponentDescriptor(descriptor){return"function"==typeof descriptor.constructor&&"function"==typeof descriptor.constructor.prototype.construct&&"function"==typeof descriptor.constructor.prototype.mountComponent&&"function"==typeof descriptor.constructor.prototype.receiveComponent}function instantiateReactComponent(descriptor){if("production"!==process.env.NODE_ENV){"production"!==process.env.NODE_ENV?warning(isValidComponentDescriptor(descriptor),"Only React Components are valid for mounting."):null;var instance=descriptor.__realComponentInstance||descriptor;return instance._descriptor=descriptor,instance}return descriptor._descriptor=descriptor,descriptor}var warning=require("./warning");module.exports=instantiateReactComponent}).call(this,require("_process"))},{"./warning":154,_process:20}],132:[function(require,module){(function(process){"use strict";var invariant=function(condition){if(!condition){var error=new Error("Minified exception occured; use the non-minified dev environment for the full error message and additional helpful warnings.");throw error.framesToPop=1,error}};"production"!==process.env.NODE_ENV&&(invariant=function(condition,format,a,b,c,d,e,f){if(void 0===format)throw new Error("invariant requires an error message argument");if(!condition){var args=[a,b,c,d,e,f],argIndex=0,error=new Error("Invariant Violation: "+format.replace(/%s/g,function(){return args[argIndex++]}));throw error.framesToPop=1,error}}),module.exports=invariant}).call(this,require("_process"))},{_process:20}],133:[function(require,module){"use strict";function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!("addEventListener"in document))return!1;var eventName="on"+eventNameSuffix,isSupported=eventName in document;if(!isSupported){var element=document.createElement("div");element.setAttribute(eventName,"return;"),isSupported="function"==typeof element[eventName]}return!isSupported&&useHasFeature&&"wheel"===eventNameSuffix&&(isSupported=document.implementation.hasFeature("Events.wheel","3.0")),isSupported}var useHasFeature,ExecutionEnvironment=require("./ExecutionEnvironment");ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),module.exports=isEventSupported},{"./ExecutionEnvironment":40}],134:[function(require,module){function isNode(object){return!(!object||!("function"==typeof Node?object instanceof Node:"object"==typeof object&&"number"==typeof object.nodeType&&"string"==typeof object.nodeName))}module.exports=isNode},{}],135:[function(require,module){"use strict";function isTextInputElement(elem){return elem&&("INPUT"===elem.nodeName&&supportedInputTypes[elem.type]||"TEXTAREA"===elem.nodeName)}var supportedInputTypes={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};module.exports=isTextInputElement},{}],136:[function(require,module){function isTextNode(object){return isNode(object)&&3==object.nodeType}var isNode=require("./isNode");module.exports=isTextNode},{"./isNode":134}],137:[function(require,module){"use strict";function joinClasses(className){className||(className="");var nextClass,argLength=arguments.length;if(argLength>1)for(var ii=1;argLength>ii;ii++)nextClass=arguments[ii],nextClass&&(className+=" "+nextClass);return className}module.exports=joinClasses},{}],138:[function(require,module){(function(process){"use strict";var invariant=require("./invariant"),keyMirror=function(obj){var key,ret={};"production"!==process.env.NODE_ENV?invariant(obj instanceof Object&&!Array.isArray(obj),"keyMirror(...): Argument must be an object."):invariant(obj instanceof Object&&!Array.isArray(obj));for(key in obj)obj.hasOwnProperty(key)&&(ret[key]=key);return ret};module.exports=keyMirror}).call(this,require("_process"))},{"./invariant":132,_process:20}],139:[function(require,module){var keyOf=function(oneKeyObj){var key;for(key in oneKeyObj)if(oneKeyObj.hasOwnProperty(key))return key;return null};module.exports=keyOf},{}],140:[function(require,module){"use strict";function memoizeStringOnly(callback){var cache={};return function(string){return cache.hasOwnProperty(string)?cache[string]:cache[string]=callback.call(this,string)}}module.exports=memoizeStringOnly},{}],141:[function(require,module){"use strict";var mergeInto=require("./mergeInto"),merge=function(one,two){var result={};return mergeInto(result,one),mergeInto(result,two),result};module.exports=merge},{"./mergeInto":143}],142:[function(require,module){(function(process){"use strict";var invariant=require("./invariant"),keyMirror=require("./keyMirror"),MAX_MERGE_DEPTH=36,isTerminal=function(o){return"object"!=typeof o||null===o},mergeHelpers={MAX_MERGE_DEPTH:MAX_MERGE_DEPTH,isTerminal:isTerminal,normalizeMergeArg:function(arg){return void 0===arg||null===arg?{}:arg},checkMergeArrayArgs:function(one,two){"production"!==process.env.NODE_ENV?invariant(Array.isArray(one)&&Array.isArray(two),"Tried to merge arrays, instead got %s and %s.",one,two):invariant(Array.isArray(one)&&Array.isArray(two))},checkMergeObjectArgs:function(one,two){mergeHelpers.checkMergeObjectArg(one),mergeHelpers.checkMergeObjectArg(two)},checkMergeObjectArg:function(arg){"production"!==process.env.NODE_ENV?invariant(!isTerminal(arg)&&!Array.isArray(arg),"Tried to merge an object, instead got %s.",arg):invariant(!isTerminal(arg)&&!Array.isArray(arg))},checkMergeLevel:function(level){"production"!==process.env.NODE_ENV?invariant(MAX_MERGE_DEPTH>level,"Maximum deep merge depth exceeded. You may be attempting to merge circular structures in an unsupported way."):invariant(MAX_MERGE_DEPTH>level)},checkArrayStrategy:function(strategy){"production"!==process.env.NODE_ENV?invariant(void 0===strategy||strategy in mergeHelpers.ArrayStrategies,"You must provide an array strategy to deep merge functions to instruct the deep merge how to resolve merging two arrays."):invariant(void 0===strategy||strategy in mergeHelpers.ArrayStrategies)},ArrayStrategies:keyMirror({Clobber:!0,IndexByIndex:!0})};module.exports=mergeHelpers}).call(this,require("_process"))},{"./invariant":132,"./keyMirror":138,_process:20}],143:[function(require,module){"use strict";function mergeInto(one,two){if(checkMergeObjectArg(one),null!=two){checkMergeObjectArg(two);for(var key in two)two.hasOwnProperty(key)&&(one[key]=two[key])}}var mergeHelpers=require("./mergeHelpers"),checkMergeObjectArg=mergeHelpers.checkMergeObjectArg;module.exports=mergeInto},{"./mergeHelpers":142}],144:[function(require,module){"use strict";var mixInto=function(constructor,methodBag){var methodName;for(methodName in methodBag)methodBag.hasOwnProperty(methodName)&&(constructor.prototype[methodName]=methodBag[methodName])};module.exports=mixInto},{}],145:[function(require,module){(function(process){"use strict";function monitorCodeUse(eventName){"production"!==process.env.NODE_ENV?invariant(eventName&&!/[^a-z0-9_]/.test(eventName),"You must provide an eventName using only the characters [a-z0-9_]"):invariant(eventName&&!/[^a-z0-9_]/.test(eventName))}var invariant=require("./invariant");module.exports=monitorCodeUse}).call(this,require("_process"))},{"./invariant":132,_process:20}],146:[function(require,module){"use strict";function objMap(obj,func,context){if(!obj)return null;var i=0,ret={};for(var key in obj)obj.hasOwnProperty(key)&&(ret[key]=func.call(context,obj[key],key,i++));return ret}module.exports=objMap},{}],147:[function(require,module){"use strict";function objMapKeyVal(obj,func,context){if(!obj)return null;var i=0,ret={};for(var key in obj)obj.hasOwnProperty(key)&&(ret[key]=func.call(context,key,obj[key],i++));return ret}module.exports=objMapKeyVal},{}],148:[function(require,module){(function(process){"use strict";function onlyChild(children){return"production"!==process.env.NODE_ENV?invariant(ReactComponent.isValidComponent(children),"onlyChild must be passed a children with exactly one child."):invariant(ReactComponent.isValidComponent(children)),children}var ReactComponent=require("./ReactComponent"),invariant=require("./invariant");module.exports=onlyChild}).call(this,require("_process"))},{"./ReactComponent":47,"./invariant":132,_process:20}],149:[function(require,module){"use strict";var ExecutionEnvironment=require("./ExecutionEnvironment"),performance=null;ExecutionEnvironment.canUseDOM&&(performance=window.performance||window.webkitPerformance),performance&&performance.now||(performance=Date);var performanceNow=performance.now.bind(performance);module.exports=performanceNow},{"./ExecutionEnvironment":40}],150:[function(require,module){"use strict";function shallowEqual(objA,objB){if(objA===objB)return!0;var key;for(key in objA)if(objA.hasOwnProperty(key)&&(!objB.hasOwnProperty(key)||objA[key]!==objB[key]))return!1;for(key in objB)if(objB.hasOwnProperty(key)&&!objA.hasOwnProperty(key))return!1;return!0}module.exports=shallowEqual},{}],151:[function(require,module){(function(process){"use strict";function shouldUpdateReactComponent(prevComponentInstance,nextDescriptor){if(prevComponentInstance&&nextDescriptor&&prevComponentInstance.constructor===nextDescriptor.constructor&&(prevComponentInstance.props&&prevComponentInstance.props.key)===(nextDescriptor.props&&nextDescriptor.props.key)){if(prevComponentInstance._owner===nextDescriptor._owner)return!0;"production"!==process.env.NODE_ENV&&prevComponentInstance.state&&console.warn("A recent change to React has been found to impact your code. A mounted component will now be unmounted and replaced by a component (of the same class) if their owners are different. Previously, ownership was not considered when updating.",prevComponentInstance,nextDescriptor)}return!1}module.exports=shouldUpdateReactComponent}).call(this,require("_process"))},{_process:20}],152:[function(require,module){(function(process){function toArray(obj){var length=obj.length;if("production"!==process.env.NODE_ENV?invariant(!Array.isArray(obj)&&("object"==typeof obj||"function"==typeof obj),"toArray: Array-like object expected"):invariant(!Array.isArray(obj)&&("object"==typeof obj||"function"==typeof obj)),"production"!==process.env.NODE_ENV?invariant("number"==typeof length,"toArray: Object needs a length property"):invariant("number"==typeof length),"production"!==process.env.NODE_ENV?invariant(0===length||length-1 in obj,"toArray: Object should have keys for indices"):invariant(0===length||length-1 in obj),obj.hasOwnProperty)try{return Array.prototype.slice.call(obj)}catch(e){}for(var ret=Array(length),ii=0;length>ii;ii++)ret[ii]=obj[ii];return ret}var invariant=require("./invariant");module.exports=toArray}).call(this,require("_process"))},{"./invariant":132,_process:20}],153:[function(require,module){(function(process){"use strict";function userProvidedKeyEscaper(match){return userProvidedKeyEscaperLookup[match]}function getComponentKey(component,index){return component&&component.props&&null!=component.props.key?wrapUserProvidedKey(component.props.key):index.toString(36)}function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,userProvidedKeyEscaper)}function wrapUserProvidedKey(key){return"$"+escapeUserProvidedKey(key)}function traverseAllChildren(children,callback,traverseContext){null!==children&&void 0!==children&&traverseAllChildrenImpl(children,"",0,callback,traverseContext)}var ReactInstanceHandles=require("./ReactInstanceHandles"),ReactTextComponent=require("./ReactTextComponent"),invariant=require("./invariant"),SEPARATOR=ReactInstanceHandles.SEPARATOR,SUBSEPARATOR=":",userProvidedKeyEscaperLookup={"=":"=0",".":"=1",":":"=2"},userProvidedKeyEscapeRegex=/[=.:]/g,traverseAllChildrenImpl=function(children,nameSoFar,indexSoFar,callback,traverseContext){var subtreeCount=0;if(Array.isArray(children))for(var i=0;i<children.length;i++){var child=children[i],nextName=nameSoFar+(nameSoFar?SUBSEPARATOR:SEPARATOR)+getComponentKey(child,i),nextIndex=indexSoFar+subtreeCount;subtreeCount+=traverseAllChildrenImpl(child,nextName,nextIndex,callback,traverseContext)}else{var type=typeof children,isOnlyChild=""===nameSoFar,storageName=isOnlyChild?SEPARATOR+getComponentKey(children,0):nameSoFar;if(null==children||"boolean"===type)callback(traverseContext,null,storageName,indexSoFar),subtreeCount=1;else if(children.type&&children.type.prototype&&children.type.prototype.mountComponentIntoNode)callback(traverseContext,children,storageName,indexSoFar),subtreeCount=1;else if("object"===type){"production"!==process.env.NODE_ENV?invariant(!children||1!==children.nodeType,"traverseAllChildren(...): Encountered an invalid child; DOM elements are not valid children of React components."):invariant(!children||1!==children.nodeType);for(var key in children)children.hasOwnProperty(key)&&(subtreeCount+=traverseAllChildrenImpl(children[key],nameSoFar+(nameSoFar?SUBSEPARATOR:SEPARATOR)+wrapUserProvidedKey(key)+SUBSEPARATOR+getComponentKey(children[key],0),indexSoFar+subtreeCount,callback,traverseContext))}else if("string"===type){var normalizedText=new ReactTextComponent(children);callback(traverseContext,normalizedText,storageName,indexSoFar),subtreeCount+=1}else if("number"===type){var normalizedNumber=new ReactTextComponent(""+children);callback(traverseContext,normalizedNumber,storageName,indexSoFar),subtreeCount+=1}}return subtreeCount};module.exports=traverseAllChildren}).call(this,require("_process"))},{"./ReactInstanceHandles":73,"./ReactTextComponent":90,"./invariant":132,_process:20}],154:[function(require,module){(function(process){"use strict";var emptyFunction=require("./emptyFunction"),warning=emptyFunction;"production"!==process.env.NODE_ENV&&(warning=function(condition,format){var args=Array.prototype.slice.call(arguments,2);if(void 0===format)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!condition){var argIndex=0;console.warn("Warning: "+format.replace(/%s/g,function(){return args[argIndex++]}))}}),module.exports=warning}).call(this,require("_process"))},{"./emptyFunction":116,_process:20}],155:[function(require,module){module.exports=require("./lib/React")},{"./lib/React":44}],156:[function(){window.Chart=function(context,options){function registerTooltip(ctx,areaObj,data,type){chart.tooltips.push(new Tooltip(ctx,areaObj,data,type))}function getPosition(e){for(var xPosition=0,yPosition=0;e;)xPosition+=e.offsetLeft-e.scrollLeft+e.clientLeft,yPosition+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:xPosition,y:yPosition}}function tooltipEventHandler(e){if(chart.tooltips.length>0){chart.savedState=null==chart.savedState?context.getImageData(0,0,context.canvas.width,context.canvas.height):chart.savedState;var rendered=0;for(var i in chart.tooltips){var position=getPosition(context.canvas),mx=e.clientX-position.x,my=e.clientY-position.y;chart.tooltips[i].inRange(mx,my)&&(chart.tooltips[i].render(mx,my),rendered++)}0==rendered&&context.putImageData(chart.savedState,0,0)}}function animationLoop(config,drawScale,drawData,ctx){function animateFrame(){var easeAdjustedAnimationPercent=config.animation?CapValue(easingFunction(percentAnimComplete),null,0):1;clear(ctx),config.scaleOverlay?(drawData(easeAdjustedAnimationPercent),drawScale()):(drawScale(),drawData(easeAdjustedAnimationPercent))}function animLoop(){percentAnimComplete+=animFrameAmount,animateFrame(),1>=percentAnimComplete?requestAnimFrame(animLoop):"function"==typeof config.onAnimationComplete&&config.onAnimationComplete()}var animFrameAmount=config.animation?1/CapValue(config.animationSteps,Number.MAX_VALUE,1):1,easingFunction=animationOptions[config.animationEasing],percentAnimComplete=config.animation?0:1;"function"!=typeof drawScale&&(drawScale=function(){}),requestAnimFrame(animLoop)}function Min(array){return Math.min.apply(Math,array)}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}function CapValue(valueToCap,maxValue,minValue){return isNumber(maxValue)&&valueToCap>maxValue?maxValue:isNumber(minValue)&&minValue>valueToCap?minValue:valueToCap}function mergeChartConfig(defaults,userDefined){var returnObj={};for(var attrname in defaults)returnObj[attrname]=defaults[attrname];for(var attrname in userDefined)returnObj[attrname]="object"==typeof userDefined[attrname]&&defaults[attrname]?mergeChartConfig(defaults[attrname],userDefined[attrname]):userDefined[attrname];return returnObj}function tmpl(str,data){var fn=/\W/.test(str)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+str.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cache[str]=cache[str]||tmpl(document.getElementById(str).innerHTML);return data?fn(data):fn}var chart=this,animationOptions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0==t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1==t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0==t?0:1==t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var s=1.70158,p=0,a=1;if(0==t)return 0;if(1==(t/=1))return 1;if(p||(p=.3),a<Math.abs(1)){a=1;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(1/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-s)*Math.PI/p))
},easeOutElastic:function(t){var s=1.70158,p=0,a=1;if(0==t)return 0;if(1==(t/=1))return 1;if(p||(p=.3),a<Math.abs(1)){a=1;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(1/a);return a*Math.pow(2,-10*t)*Math.sin(2*(1*t-s)*Math.PI/p)+1},easeInOutElastic:function(t){var s=1.70158,p=0,a=1;if(0==t)return 0;if(2==(t/=.5))return 1;if(p||(p=.3*1.5),a<Math.abs(1)){a=1;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(1/a);return 1>t?-.5*a*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-s)*Math.PI/p):a*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-s)*Math.PI/p)*.5+1},easeInBack:function(t){var s=1.70158;return 1*(t/=1)*t*((s+1)*t-s)},easeOutBack:function(t){var s=1.70158;return 1*((t=t/1-1)*t*((s+1)*t+s)+1)},easeInOutBack:function(t){var s=1.70158;return(t/=.5)<1?.5*t*t*(((s*=1.525)+1)*t-s):.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:function(t){return 1-animationOptions.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*animationOptions.easeInBounce(2*t):.5*animationOptions.easeOutBounce(2*t-1)+.5}};this.tooltips=[],defaults={tooltips:{background:"rgb(0,0,0)",fontFamily:"'Arial'",fontStyle:"normal",fontColor:"white",fontSize:"12px",labelTemplate:"<%=label%>: <%=value%>",padding:{top:10,right:10,bottom:10,left:10},offset:{left:0,top:0},border:{width:0,color:"#000"},showHighlight:!0,highlight:{stroke:{width:1,color:"rgba(230,230,230,0.25)"},fill:"rgba(255,255,255,0.25)"}}},options=options?mergeChartConfig(defaults,options):defaults;var Tooltip=function(ctx,areaObj,data){this.ctx=ctx,this.areaObj=areaObj,this.data=data,this.savedState=null,this.highlightState=null,this.x=null,this.y=null,this.inRange=function(x,y){if(this.areaObj.type)switch(this.areaObj.type){case"rect":return x>=this.areaObj.x&&x<=this.areaObj.x+this.areaObj.width&&y>=this.areaObj.y&&y<=this.areaObj.y+this.areaObj.height;case"circle":return Math.pow(x-this.areaObj.x,2)+Math.pow(y-this.areaObj.y,2)<Math.pow(this.areaObj.r,2);case"shape":for(var poly=this.areaObj.points,c=!1,i=-1,l=poly.length,j=l-1;++i<l;j=i)(poly[i].y<=y&&y<poly[j].y||poly[j].y<=y&&y<poly[i].y)&&x<(poly[j].x-poly[i].x)*(y-poly[i].y)/(poly[j].y-poly[i].y)+poly[i].x&&(c=!c);return c}},this.render=function(x,y){if(null==this.savedState&&(this.ctx.putImageData(chart.savedState,0,0),this.savedState=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height)),this.ctx.putImageData(this.savedState,0,0),options.tooltips.showHighlight)if(null==this.highlightState){switch(this.ctx.strokeStyle=options.tooltips.highlight.stroke.color,this.ctx.lineWidth=options.tooltips.highlight.stroke.width,this.ctx.fillStyle=options.tooltips.highlight.fill,this.areaObj.type){case"rect":this.ctx.strokeRect(this.areaObj.x,this.areaObj.y,this.areaObj.width,this.areaObj.height),this.ctx.fillStyle=options.tooltips.highlight.fill,this.ctx.fillRect(this.areaObj.x,this.areaObj.y,this.areaObj.width,this.areaObj.height);break;case"circle":this.ctx.beginPath(),this.ctx.arc(this.areaObj.x,this.areaObj.y,this.areaObj.r,0,2*Math.PI,!1),this.ctx.stroke(),this.ctx.fill();break;case"shape":this.ctx.beginPath(),this.ctx.moveTo(this.areaObj.points[0].x,this.areaObj.points[0].y);for(var p in this.areaObj.points)this.ctx.lineTo(this.areaObj.points[p].x,this.areaObj.points[p].y);this.ctx.stroke(),this.ctx.fill()}this.highlightState=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}else this.ctx.putImageData(this.highlightState,0,0);var posX=x+options.tooltips.offset.left,posY=y+options.tooltips.offset.top,tpl=tmpl(options.tooltips.labelTemplate,this.data),rectWidth=options.tooltips.padding.left+this.ctx.measureText(tpl).width+options.tooltips.padding.right;posX+rectWidth>this.ctx.canvas.width&&(posX-=0>posX-rectWidth?posX:rectWidth),posY+24>this.ctx.canvas.height&&(posY-=24),this.ctx.fillStyle=options.tooltips.background;var x=posX,y=posY,w=rectWidth,h=24,tl=2,tr=2,br=2,bl=2,r=x+w,b=y+h;this.ctx.beginPath(),this.ctx.moveTo(x+tl,y),this.ctx.lineTo(r-tr,y),this.ctx.quadraticCurveTo(r,y,r,y+tr),this.ctx.lineTo(r,b-br),this.ctx.quadraticCurveTo(r,b,r-br,b),this.ctx.lineTo(x+bl,b),this.ctx.quadraticCurveTo(x,b,x,b-bl),this.ctx.lineTo(x,y+tl),this.ctx.quadraticCurveTo(x,y,x+tl,y),this.ctx.fill(),this.ctx.stroke(),options.tooltips.border.width>0,this.ctx.font=options.tooltips.fontStyle+" "+options.tooltips.fontSize+" "+options.tooltips.fontFamily,this.ctx.fillStyle=options.tooltips.fontColor,this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(tpl,posX+rectWidth/2,posY+12),this.x=x,this.y=y}},width=context.canvas.clientWidth,height=context.canvas.clientHeight;this.savedState=null,"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?(context.canvas.ontouchstart=function(e){e.clientX=e.targetTouches[0].clientX,e.clientY=e.targetTouches[0].clientY,tooltipEventHandler(e)},context.canvas.ontouchmove=function(e){e.clientX=e.targetTouches[0].clientX,e.clientY=e.targetTouches[0].clientY,tooltipEventHandler(e)}):context.canvas.onmousemove=function(e){tooltipEventHandler(e)},context.canvas.onmouseout=function(){null!=chart.savedState&&context.putImageData(chart.savedState,0,0)},window.devicePixelRatio&&(context.canvas.style.width=width+"px",context.canvas.style.height=height+"px",context.canvas.height=height*window.devicePixelRatio,context.canvas.width=width*window.devicePixelRatio,context.scale(window.devicePixelRatio,window.devicePixelRatio)),this.Doughnut=function(data,options){chart.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,showTooltips:!0};var config=options?mergeChartConfig(chart.Doughnut.defaults,options):chart.Doughnut.defaults;return new Doughnut(data,config,context)};var clear=function(c){c.clearRect(0,0,width,height)},Doughnut=function(data,config,ctx){function drawPieSegments(animationDecimal){var cumulativeAngle=-Math.PI/2,scaleAnimation=1,rotateAnimation=1;config.animation&&(config.animateScale&&(scaleAnimation=animationDecimal),config.animateRotate&&(rotateAnimation=animationDecimal));for(var i=0;i<data.length;i++){var segmentAngle=rotateAnimation*(data[i].value/segmentTotal)*2*Math.PI;if(ctx.beginPath(),ctx.arc(width/2,height/2,scaleAnimation*doughnutRadius,cumulativeAngle,cumulativeAngle+segmentAngle,!1),ctx.arc(width/2,height/2,scaleAnimation*cutoutRadius,cumulativeAngle+segmentAngle,cumulativeAngle,!0),ctx.closePath(),ctx.fillStyle=data[i].color,ctx.fill(),animationDecimal>=1&&config.showTooltips){var points=[],pAmount=50;points.push({x:width/2+doughnutRadius*Math.cos(cumulativeAngle),y:height/2+doughnutRadius*Math.sin(cumulativeAngle)});for(var p=0;pAmount>=p;p++)points.push({x:width/2+doughnutRadius*Math.cos(cumulativeAngle+p/pAmount*segmentAngle),y:height/2+doughnutRadius*Math.sin(cumulativeAngle+p/pAmount*segmentAngle)});points.push({x:width/2+cutoutRadius*Math.cos(cumulativeAngle+segmentAngle),y:height/2+cutoutRadius*Math.sin(cumulativeAngle+segmentAngle)});for(var p=pAmount;p>=0;p--)points.push({x:width/2+cutoutRadius*Math.cos(cumulativeAngle+p/pAmount*segmentAngle),y:height/2+cutoutRadius*Math.sin(cumulativeAngle+p/pAmount*segmentAngle)});registerTooltip(ctx,{type:"shape",points:points},{label:data[i].label,value:data[i].value},"Doughnut")}config.segmentShowStroke&&(ctx.lineWidth=config.segmentStrokeWidth,ctx.strokeStyle=config.segmentStrokeColor,ctx.stroke()),cumulativeAngle+=segmentAngle}}for(var segmentTotal=0,doughnutRadius=Min([height/2,width/2])-5,cutoutRadius=doughnutRadius*(config.percentageInnerCutout/100),i=0;i<data.length;i++)segmentTotal+=data[i].value;animationLoop(config,null,drawPieSegments,ctx)},requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}(),cache={}}},{}],157:[function(){!function(a){a&&a.module("headroom",[]).directive("headroom",function(){return{restrict:"EA",scope:{tolerance:"=",offset:"=",classes:"="},link:function(b,c){var d={};a.forEach(Headroom.options,function(a,c){d[c]=b[c]||Headroom.options[c]});var e=new Headroom(c[0],d);e.init(),b.$on("destroy",function(){e.destroy()})}}})}(window.angular)},{}],158:[function(){angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(scope,element,attr){element.addClass("ng-binding").data("$binding",attr.bindHtmlUnsafe),scope.$watch(attr.bindHtmlUnsafe,function(value){element.html(value||"")})}})},{}],159:[function(require,module){module.exports=Bloodhound=function(){function Bloodhound(o){if(!o||!o.local&&!o.prefetch&&!o.remote)throw new Error("one of local, prefetch, or remote is required");this.limit=o.limit||5,this.sorter=getSorter(o.sorter),this.dupDetector=o.dupDetector||ignoreDuplicates,this.local=oParser.local(o),this.prefetch=oParser.prefetch(o),this.remote=oParser.remote(o),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new SearchIndex({datumTokenizer:o.datumTokenizer,queryTokenizer:o.queryTokenizer})}function getSorter(sortFn){function sort(array){return array.sort(sortFn)}function noSort(array){return array}return angular.isFunction(sortFn)?sort:noSort}function ignoreDuplicates(){return!1}var keys,SearchIndex=require("./search_index"),oParser=require("./options_parser");return keys={data:"data",protocol:"protocol",thumbprint:"thumbprint"},Bloodhound.tokenizers={whitespace:function(s){return s.split(/\s+/)},nonword:function(s){return s.split(/\W+/)}},angular.extend(Bloodhound.prototype,{_saveToStorage:function(data,thumbprint,ttl){this.storage&&(this.storage.set(keys.data,data,ttl),this.storage.set(keys.protocol,location.protocol,ttl),this.storage.set(keys.thumbprint,thumbprint,ttl))},_readFromStorage:function(thumbprint){var isExpired,stored={};return this.storage&&(stored.data=this.storage.get(keys.data),stored.protocol=this.storage.get(keys.protocol),stored.thumbprint=this.storage.get(keys.thumbprint)),isExpired=stored.thumbprint!==thumbprint||stored.protocol!==location.protocol,stored.data&&!isExpired?stored.data:null},initialize:function(){var that=this;that.add(that.local)},add:function(data){this.index.add(data)},get:function(query,cb){var matches,cacheHit=!1;matches=this.index.get(query),matches=this.sorter(matches).slice(0,this.limit),matches.length<this.limit&&this.transport&&(cacheHit=this._getFromRemote(query,returnRemoteMatches)),!cacheHit&&cb&&cb(matches)},ttAdapter:function(query,cb){return this.get.apply(this,[query,cb])}}),Bloodhound}()},{"./options_parser":160,"./search_index":161}],160:[function(require,module){module.exports=function(){function getLocal(o){var local=o.local||null;return angular.isFunction(local)&&(local=local.call(null)),local}function getPrefetch(o){var prefetch,defaults;return defaults={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(prefetch=o.prefetch||null)&&(prefetch=_.isString(prefetch)?{url:prefetch}:prefetch,prefetch=_.mixin(defaults,prefetch),prefetch.thumbprint=VERSION+prefetch.thumbprint,prefetch.ajax.type=prefetch.ajax.type||"GET",prefetch.ajax.dataType=prefetch.ajax.dataType||"json",!prefetch.url&&$.error("prefetch requires url to be set")),prefetch}function getRemote(o){function byDebounce(wait){return function(fn){return _.debounce(fn,wait)}}function byThrottle(wait){return function(fn){return _.throttle(fn,wait)}}var remote,defaults;return defaults={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(remote=o.remote||null)&&(remote=_.isString(remote)?{url:remote}:remote,remote=_.mixin(defaults,remote),remote.rateLimiter=/^throttle$/i.test(remote.rateLimitBy)?byThrottle(remote.rateLimitWait):byDebounce(remote.rateLimitWait),remote.ajax.type=remote.ajax.type||"GET",remote.ajax.dataType=remote.ajax.dataType||"json",delete remote.rateLimitBy,delete remote.rateLimitWait,!remote.url&&$.error("remote requires url to be set")),remote}return{local:getLocal,prefetch:getPrefetch,remote:getRemote}}()},{}],161:[function(require,module){module.exports=SearchIndex=function(){function SearchIndex(o){o=o||{},o.datumTokenizer&&o.queryTokenizer||$.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=o.datumTokenizer,this.queryTokenizer=o.queryTokenizer,this.datums=[],this.trie=newNode()}function normalizeTokens(tokens){return tokens=angular.filter(tokens,function(token){return!!token}),tokens=angular.map(tokens,function(token){return token.toLowerCase()})}function newNode(){return{ids:[],children:{}}}function unique(array){for(var seen={},uniques=[],i=0;i<array.length;i++)seen[array[i]]||(seen[array[i]]=!0,uniques.push(array[i]));return uniques}function getIntersection(arrayA,arrayB){function compare(a,b){return a-b}var ai=0,bi=0,intersection=[];for(arrayA=arrayA.sort(compare),arrayB=arrayB.sort(compare);ai<arrayA.length&&bi<arrayB.length;)arrayA[ai]<arrayB[bi]?ai++:arrayA[ai]>arrayB[bi]?bi++:(intersection.push(arrayA[ai]),ai++,bi++);return intersection}return require("../../app/js/miscellaneous/AngularExtensions"),angular.extend(SearchIndex.prototype,{bootstrap:function(o){this.datums=o.datums,this.trie=o.trie},add:function(data){var that=this;data=angular.isArray(data)?data:[data],angular.forEach(data,function(datum){var id,tokens;id=that.datums.push(datum)-1,tokens=normalizeTokens(that.datumTokenizer(datum)),angular.forEach(tokens,function(token){var node,chars,ch;for(node=that.trie,chars=token.split("");ch=chars.shift();)node=node.children[ch]||(node.children[ch]=newNode()),node.ids.push(id)})})},get:function(query){var tokens,matches,that=this;return tokens=normalizeTokens(this.queryTokenizer(query)),angular.forEach(tokens,function(token){var node,chars,ch,ids;if(matches&&0===matches.length)return!1;for(node=that.trie,chars=token.split("");node&&(ch=chars.shift());)node=node.children[ch];return node&&0===chars.length?(ids=node.ids.slice(0),void(matches=matches?getIntersection(matches,ids):ids)):(matches=[],!1)}),matches?angular.map(unique(matches),function(id){return that.datums[id]}):[]},serialize:function(){return{datums:this.datums,trie:this.trie}}}),SearchIndex}()},{"../../app/js/miscellaneous/AngularExtensions":10}],162:[function(require,module,exports){exports.sort=function sort(collection){function permute(array,index){for(var i=0,n=index.length,copy=new Array(n);n>i;++i)copy[i]=array[index[i]];return copy}function crossfilter_range(n){for(var range=crossfilter_index(n,n),i=-1;++i<n;)range[i]=i;return range}function crossfilter_arrayUntyped(n){for(var array=new Array(n),i=-1;++i<n;)array[i]=0;return array}function crossfilter_index(n,m){return(257>m?crossfilter_array8:65537>m?crossfilter_array16:crossfilter_array32)(n)}function insertionsort_by(f){function insertionsort(a,lo,hi){for(var i=lo+1;hi>i;++i){for(var j=i,t=a[i],x=f(t);j>lo&&f(a[j-1])>x;--j)a[j]=a[j-1];a[j]=t}return a}return insertionsort}function quicksort_by(f){function sort(a,lo,hi){return(quicksort_sizeThreshold>hi-lo?insertionsort:quicksort)(a,lo,hi)}function quicksort(a,lo,hi){var t,sixth=(hi-lo)/6|0,i1=lo+sixth,i5=hi-1-sixth,i3=lo+hi-1>>1,i2=i3-sixth,i4=i3+sixth,e1=a[i1],x1=f(e1),e2=a[i2],x2=f(e2),e3=a[i3],x3=f(e3),e4=a[i4],x4=f(e4),e5=a[i5],x5=f(e5);x1>x2&&(t=e1,e1=e2,e2=t,t=x1,x1=x2,x2=t),x4>x5&&(t=e4,e4=e5,e5=t,t=x4,x4=x5,x5=t),x1>x3&&(t=e1,e1=e3,e3=t,t=x1,x1=x3,x3=t),x2>x3&&(t=e2,e2=e3,e3=t,t=x2,x2=x3,x3=t),x1>x4&&(t=e1,e1=e4,e4=t,t=x1,x1=x4,x4=t),x3>x4&&(t=e3,e3=e4,e4=t,t=x3,x3=x4,x4=t),x2>x5&&(t=e2,e2=e5,e5=t,t=x2,x2=x5,x5=t),x2>x3&&(t=e2,e2=e3,e3=t,t=x2,x2=x3,x3=t),x4>x5&&(t=e4,e4=e5,e5=t,t=x4,x4=x5,x5=t);var pivot1=e2,pivotValue1=x2,pivot2=e4,pivotValue2=x4;a[i1]=e1,a[i2]=a[lo],a[i3]=e3,a[i4]=a[hi-1],a[i5]=e5;var less=lo+1,great=hi-2,pivotsEqual=pivotValue2>=pivotValue1&&pivotValue1>=pivotValue2;if(pivotsEqual)for(var k=less;great>=k;++k){var ek=a[k],xk=f(ek);if(pivotValue1>xk)k!==less&&(a[k]=a[less],a[less]=ek),++less;else if(xk>pivotValue1)for(;;){var greatValue=f(a[great]);{if(!(greatValue>pivotValue1)){if(pivotValue1>greatValue){a[k]=a[less],a[less++]=a[great],a[great--]=ek;break}a[k]=a[great],a[great--]=ek;break}great--}}}else for(var k=less;great>=k;k++){var ek=a[k],xk=f(ek);if(pivotValue1>xk)k!==less&&(a[k]=a[less],a[less]=ek),++less;else if(xk>pivotValue2)for(;;){var greatValue=f(a[great]);{if(!(greatValue>pivotValue2)){pivotValue1>greatValue?(a[k]=a[less],a[less++]=a[great],a[great--]=ek):(a[k]=a[great],a[great--]=ek);break}if(great--,k>great)break}}}if(a[lo]=a[less-1],a[less-1]=pivot1,a[hi-1]=a[great+1],a[great+1]=pivot2,sort(a,lo,less-1),sort(a,great+2,hi),pivotsEqual)return a;if(i1>less&&great>i5){for(var lessValue,greatValue;(lessValue=f(a[less]))<=pivotValue1&&lessValue>=pivotValue1;)++less;for(;(greatValue=f(a[great]))<=pivotValue2&&greatValue>=pivotValue2;)--great;for(var k=less;great>=k;k++){var ek=a[k],xk=f(ek);if(pivotValue1>=xk&&xk>=pivotValue1)k!==less&&(a[k]=a[less],a[less]=ek),less++;else if(pivotValue2>=xk&&xk>=pivotValue2)for(;;){var greatValue=f(a[great]);{if(!(pivotValue2>=greatValue&&greatValue>=pivotValue2)){pivotValue1>greatValue?(a[k]=a[less],a[less++]=a[great],a[great--]=ek):(a[k]=a[great],a[great--]=ek);break}if(great--,k>great)break}}}}return sort(a,less,great+1)}var insertionsort=insertionsort_by(f);return sort}var newValues=[],newIndex=[],sort=quicksort_by(function(i){return newValues[i]}),crossfilter={dimension:function(func){return newValues=collection.map(func),newIndex=sort(crossfilter_range(newValues.length),0,newValues.length),newValues=permute(newValues,newIndex),{top:function(k){for(var j,array=[],i=newValues.length;--i>=0&&k>0;){var j=newIndex[i];array.push(collection[j]),--k}return array},bottom:function(k){for(var j,array=[],i=0,hi=newValues.length;hi>i&&k>0;){var j=newIndex[i];array.push(collection[j]),--k,i++}return array}}}},crossfilter_array8=crossfilter_arrayUntyped,crossfilter_array16=crossfilter_arrayUntyped,crossfilter_array32=crossfilter_arrayUntyped;"undefined"!=typeof Uint8Array&&(crossfilter_array8=function(n){return new Uint8Array(n)},crossfilter_array16=function(n){return new Uint16Array(n)},crossfilter_array32=function(n){return new Uint32Array(n)});var quicksort_sizeThreshold=32;return crossfilter}},{}],163:[function(){!function(a,b){"use strict";function c(a){this.callback=a,this.ticking=!1}function d(a){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var b,c,e=a||{};for(c=1;c<arguments.length;c++){var f=arguments[c]||{};for(b in f)e[b]="object"==typeof e[b]?d(e[b],f[b]):e[b]||f[b]}return e}function e(a,b){b=d(b,e.options),this.lastKnownScrollY=0,this.elem=a,this.debouncer=new c(this.update.bind(this)),this.tolerance=b.tolerance,this.classes=b.classes,this.offset=b.offset,this.initialised=!1,this.onPin=b.onPin,this.onUnpin=b.onUnpin,this.onTop=b.onTop,this.onNotTop=b.onNotTop}var f={bind:!!function(){}.bind,classList:"classList"in b.documentElement,rAF:!!(a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame)};a.requestAnimationFrame=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,c.prototype={constructor:c,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},e.prototype={constructor:e,init:function(){return e.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var b=this.classes;this.initialised=!1,a.removeEventListener("scroll",this.debouncer,!1),this.elem.classList.remove(b.unpinned,b.pinned,b.top,b.initial)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,a.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var a=this.elem.classList,b=this.classes;(a.contains(b.pinned)||!a.contains(b.unpinned))&&(a.add(b.unpinned),a.remove(b.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var a=this.elem.classList,b=this.classes;a.contains(b.unpinned)&&(a.remove(b.unpinned),a.add(b.pinned),this.onPin&&this.onPin.call(this))},top:function(){var a=this.elem.classList,b=this.classes;a.contains(b.top)||(a.add(b.top),a.remove(b.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var a=this.elem.classList,b=this.classes;a.contains(b.notTop)||(a.add(b.notTop),a.remove(b.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==a.pageYOffset?a.pageYOffset:(b.documentElement||b.body.parentNode||b.body).scrollTop},getViewportHeight:function(){return a.innerHeight||b.documentElement.clientHeight||b.body.clientHeight},getDocumentHeight:function(){var a=b.body,c=b.documentElement;return Math.max(a.scrollHeight,c.scrollHeight,a.offsetHeight,c.offsetHeight,a.clientHeight,c.clientHeight)},isOutOfBounds:function(a){var b=0>a,c=a+this.getViewportHeight()>this.getDocumentHeight();return b||c},toleranceExceeded:function(a){return Math.abs(a-this.lastKnownScrollY)>=this.tolerance},shouldUnpin:function(a,b){var c=a>this.lastKnownScrollY,d=a>=this.offset;return c&&d&&b},shouldPin:function(a,b){var c=a<this.lastKnownScrollY,d=a<=this.offset;return c&&b||d},update:function(){var a=this.getScrollY(),b=this.toleranceExceeded(a);this.isOutOfBounds(a)||(a<=this.offset?this.top():this.notTop(),this.shouldUnpin(a,b)?this.unpin():this.shouldPin(a,b)&&this.pin(),this.lastKnownScrollY=a)}},e.options={tolerance:0,offset:0,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},e.cutsTheMustard="undefined"!=typeof f&&f.rAF&&f.bind&&f.classList,a.Headroom=e}(window,document)},{}],164:[function(){angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},template:'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">			  	<div class="arrow"></div>			  	<div class="popover-inner">			      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>			      <div class="popover-content" ng-bind="content"></div>			  	</div>			 </div>'}}).directive("popoverHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},template:'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">          <div class="arrow"></div>          <div class="popover-inner">            <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>            <div class="popover-content clearfix" bind-html-unsafe="content"></div>          </div>       </div>'}}).directive("popover",["$tooltip",function($tooltip){return $tooltip("popover","popover","click")}]).directive("popoverHtmlUnsafe",["$tooltip",function($tooltip){return $tooltip("popoverHtmlUnsafe","popover","click")}])},{}],165:[function(){angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element[0]);offsetParentEl!=$document[0]&&(offsetParentBCR=this.offset(angular.element(offsetParentEl)),offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop,offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft);var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function(hostEl,targetEl,positionStr,appendToBody){var hostElPos,targetElWidth,targetElHeight,targetElPos,positionStrParts=positionStr.split("-"),pos0=positionStrParts[0],pos1=positionStrParts[1]||"center";hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl),targetElWidth=targetEl.prop("offsetWidth"),targetElHeight=targetEl.prop("offsetHeight");var shiftWidth={center:function(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function(){return hostElPos.left},right:function(){return hostElPos.left+hostElPos.width}},shiftHeight={center:function(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function(){return hostElPos.top},bottom:function(){return hostElPos.top+hostElPos.height}};switch(pos0){case"right":targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case"left":targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case"bottom":targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()}}return targetElPos}}}])},{}],166:[function(require,module,exports){(function(){"use strict";var __instances={},sigma=function(conf){var i,l,a,o,id;sigma.classes.dispatcher.extend(this);var _self=this,_conf=conf||{};if("string"==typeof _conf||_conf instanceof HTMLElement?_conf={renderers:[_conf]}:"[object Array]"===Object.prototype.toString.call(_conf)&&(_conf={renderers:_conf}),o=_conf.renderers||_conf.renderer||_conf.container,_conf.renderers&&0!==_conf.renderers.length||("string"==typeof o||o instanceof HTMLElement||"object"==typeof o&&"container"in o)&&(_conf.renderers=[o]),_conf.id){if(__instances[_conf.id])throw'sigma: Instance "'+_conf.id+'" already exists.';Object.defineProperty(this,"id",{value:_conf.id})}else{for(id=0;__instances[id];)id++;Object.defineProperty(this,"id",{value:""+id})}for(__instances[this.id]=this,this.settings=new sigma.classes.configurable(sigma.settings,_conf.settings||{}),Object.defineProperty(this,"graph",{value:new sigma.classes.graph(this.settings),configurable:!0}),Object.defineProperty(this,"middlewares",{value:[],configurable:!0}),Object.defineProperty(this,"cameras",{value:{},configurable:!0}),Object.defineProperty(this,"renderers",{value:{},configurable:!0}),Object.defineProperty(this,"renderersPerCamera",{value:{},configurable:!0}),Object.defineProperty(this,"cameraFrames",{value:{},configurable:!0}),this._handler=function(e){var k,data={};for(k in e.data)data[k]=e.data[k];data.renderer=e.target,this.dispatchEvent(e.type,data)}.bind(this),a=_conf.renderers||[],i=0,l=a.length;l>i;i++)this.addRenderer(a[i]);for(a=_conf.middlewares||[],i=0,l=a.length;l>i;i++)this.middlewares.push("string"==typeof a[i]?sigma.middlewares[a[i]]:a[i]);"object"==typeof _conf.graph&&_conf.graph&&(this.graph.read(_conf.graph),this.refresh()),window.addEventListener("resize",function(){_self.settings&&_self.refresh()})};if(sigma.prototype.addCamera=function(id){var camera,self=this;if(!arguments.length){for(id=0;this.cameras[""+id];)id++;id=""+id}if(this.cameras[id])throw'sigma.addCamera: The camera "'+id+'" already exists.';return camera=new sigma.classes.camera(id,this.graph,this.settings),this.cameras[id]=camera,camera.quadtree=new sigma.classes.quad,camera.bind("coordinatesUpdated",function(){self.renderCamera(camera,camera.isAnimated)}),this.renderersPerCamera[id]=[],camera},sigma.prototype.killCamera=function(v){if(v="string"==typeof v?this.cameras[v]:v,!v)throw"sigma.killCamera: The camera is undefined.";var i,l,a=this.renderersPerCamera[v.id];for(l=a.length,i=l-1;i>=0;i--)this.killRenderer(a[i]);return delete this.renderersPerCamera[v.id],delete this.cameraFrames[v.id],delete this.cameras[v.id],v.kill&&v.kill(),this},sigma.prototype.addRenderer=function(options){var id,fn,camera,renderer,o=options||{};if("string"==typeof o?o={container:document.getElementById(o)}:o instanceof HTMLElement&&(o={container:o}),"id"in o)id=o.id;else{for(id=0;this.renderers[""+id];)id++;id=""+id}if(this.renderers[id])throw'sigma.addRenderer: The renderer "'+id+'" already exists.';if(fn="function"==typeof o.type?o.type:sigma.renderers[o.type],fn=fn||sigma.renderers.def,camera="camera"in o?o.camera instanceof sigma.classes.camera?o.camera:this.cameras[o.camera]||this.addCamera(o.camera):this.addCamera(),this.cameras[camera.id]!==camera)throw"sigma.addRenderer: The camera is not properly referenced.";return renderer=new fn(this.graph,camera,this.settings,o),this.renderers[id]=renderer,Object.defineProperty(renderer,"id",{value:id}),renderer.bind&&renderer.bind(["click","clickStage","doubleClickStage","clickNode","clickNodes","doubleClickNode","doubleClickNodes","overNode","overNodes","outNode","outNodes","downNode","downNodes","upNode","upNodes"],this._handler),this.renderersPerCamera[camera.id].push(renderer),renderer},sigma.prototype.killRenderer=function(v){if(v="string"==typeof v?this.renderers[v]:v,!v)throw"sigma.killRenderer: The renderer is undefined.";var a=this.renderersPerCamera[v.camera.id],i=a.indexOf(v);return i>=0&&a.splice(i,1),v.kill&&v.kill(),delete this.renderers[v.id],this},sigma.prototype.refresh=function(){var i,l,k,a,c,bounds,prefix=0;for(a=this.middlewares||[],i=0,l=a.length;l>i;i++)a[i].call(this,0===i?"":"tmp"+prefix+":",i===l-1?"ready:":"tmp"+ ++prefix+":");for(k in this.cameras)c=this.cameras[k],c.settings("autoRescale")&&this.renderersPerCamera[c.id]&&this.renderersPerCamera[c.id].length?sigma.middlewares.rescale.call(this,a.length?"ready:":"",c.readPrefix,{width:this.renderersPerCamera[c.id][0].width,height:this.renderersPerCamera[c.id][0].height}):sigma.middlewares.copy.call(this,a.length?"ready:":"",c.readPrefix),bounds=sigma.utils.getBoundaries(this.graph,c.readPrefix),c.quadtree.index(this.graph.nodes(),{prefix:c.readPrefix,bounds:{x:bounds.minX,y:bounds.minY,width:bounds.maxX-bounds.minX,height:bounds.maxY-bounds.minY}});for(a=Object.keys(this.renderers),i=0,l=a.length;l>i;i++)if(this.renderers[a[i]].process)if(this.settings("skipErrors"))try{this.renderers[a[i]].process()}catch(e){console.log('Warning: The renderer "'+a[i]+'" crashed on ".process()"')}else this.renderers[a[i]].process();return this.render(),this},sigma.prototype.render=function(){var i,l,a;for(a=Object.keys(this.renderers),i=0,l=a.length;l>i;i++)if(this.settings("skipErrors"))try{this.renderers[a[i]].render()}catch(e){this.settings("verbose")&&console.log('Warning: The renderer "'+a[i]+'" crashed on ".render()"')}else this.renderers[a[i]].render();return this},sigma.prototype.renderCamera=function(camera,force){var i,l,a,self=this;if(force)for(a=this.renderersPerCamera[camera.id],i=0,l=a.length;l>i;i++)if(this.settings("skipErrors"))try{a[i].render()}catch(e){this.settings("verbose")&&console.log('Warning: The renderer "'+a[i].id+'" crashed on ".render()"')}else a[i].render();else if(!this.cameraFrames[camera.id]){for(a=this.renderersPerCamera[camera.id],i=0,l=a.length;l>i;i++)if(this.settings("skipErrors"))try{a[i].render()
}catch(e){this.settings("verbose")&&console.log('Warning: The renderer "'+a[i].id+'" crashed on ".render()"')}else a[i].render();this.cameraFrames[camera.id]=requestAnimationFrame(function(){delete self.cameraFrames[camera.id]})}return this},sigma.prototype.kill=function(){var k;this.graph.kill(),delete this.middlewares;for(k in this.renderers)this.killRenderer(this.renderers[k]);for(k in this.cameras)this.killCamera(this.cameras[k]);delete this.renderers,delete this.cameras;for(k in this)this.hasOwnProperty(k)&&delete this[k];delete __instances[this.id]},sigma.instances=function(id){return arguments.length?__instances[id]:sigma.utils.extend({},__instances)},"undefined"!=typeof this.sigma)throw"An object called sigma is already in the global scope.";this.sigma=sigma}).call(window),function(global){"use strict";function _bind(events,handler){var i,i_end,event,eArray;if(arguments.length)if(1===arguments.length&&Object(arguments[0])===arguments[0])for(events in arguments[0])_bind(events,arguments[0][events]);else if(arguments.length>1)for(eArray=Array.isArray(events)?events:events.split(/ /),i=0,i_end=eArray.length;i!==i_end;i+=1)event=eArray[i],_handlers[event]||(_handlers[event]=[]),_handlers[event].push({handler:handler})}function _unbind(events,handler){var i,i_end,j,j_end,a,event,eArray=Array.isArray(events)?events:events.split(/ /);if(arguments.length)if(handler)for(i=0,i_end=eArray.length;i!==i_end;i+=1){if(event=eArray[i],_handlers[event]){for(a=[],j=0,j_end=_handlers[event].length;j!==j_end;j+=1)_handlers[event][j].handler!==handler&&a.push(_handlers[event][j]);_handlers[event]=a}_handlers[event]&&0===_handlers[event].length&&delete _handlers[event]}else for(i=0,i_end=eArray.length;i!==i_end;i+=1)delete _handlers[eArray[i]];else _handlers=Object.create(null)}function _dispatch(events,data){var i,j,i_end,j_end,event,eventName,eArray=Array.isArray(events)?events:events.split(/ /);for(data=void 0===data?{}:data,i=0,i_end=eArray.length;i!==i_end;i+=1)if(eventName=eArray[i],_handlers[eventName])for(event={type:eventName,data:data||{}},j=0,j_end=_handlers[eventName].length;j!==j_end;j+=1)try{_handlers[eventName][j].handler(event)}catch(e){}}function _executeFirstJob(){var i,l,test,kill,pushed=!1,time=__dateNow(),job=_sortedByPriorityJobs.shift();if(test=job.job(),time=__dateNow()-time,job.done++,job.time+=time,job.currentTime+=time,job.weightTime=job.currentTime/(job.weight||1),job.averageTime=job.time/job.done,kill=job.count?job.count<=job.done:!test,!kill){for(i=0,l=_sortedByPriorityJobs.length;l>i;i++)if(_sortedByPriorityJobs[i].weightTime>job.weightTime){_sortedByPriorityJobs.splice(i,0,job),pushed=!0;break}pushed||_sortedByPriorityJobs.push(job)}return kill?job:null}function _activateJob(job){var l=_sortedByPriorityJobs.length;_runningJobs[job.id]=job,job.status="running",l&&(job.weightTime=_sortedByPriorityJobs[l-1].weightTime,job.currentTime=job.weightTime*(job.weight||1)),job.startTime=__dateNow(),_dispatch("jobStarted",__clone(job)),_sortedByPriorityJobs.push(job)}function _loop(){var k,job,deadJob;for(k in _jobs)job=_jobs[k],job.after?_waitingJobs[k]=job:_activateJob(job),delete _jobs[k];for(_isRunning=!!_sortedByPriorityJobs.length;_sortedByPriorityJobs.length&&__dateNow()-_lastFrameTime<_parameters.frameDuration;)if(deadJob=_executeFirstJob()){_killJob(deadJob.id);for(k in _waitingJobs)_waitingJobs[k].after===deadJob.id&&(_activateJob(_waitingJobs[k]),delete _waitingJobs[k])}_isRunning?(_lastFrameTime=__dateNow(),_dispatch("enterFrame"),setTimeout(_loop,0)):_dispatch("stop")}function _addJob(v1,v2){var i,l,o;if(Array.isArray(v1)){for(_noStart=!0,i=0,l=v1.length;l>i;i++)_addJob(v1[i].id,__extend(v1[i],v2));_noStart=!1,_isRunning||(_lastFrameTime=__dateNow(),_dispatch("start"),_loop())}else if("object"==typeof v1)if("string"==typeof v1.id)_addJob(v1.id,v1);else{_noStart=!0;for(i in v1)"function"==typeof v1[i]?_addJob(i,__extend({job:v1[i]},v2)):_addJob(i,__extend(v1[i],v2));_noStart=!1,_isRunning||(_lastFrameTime=__dateNow(),_dispatch("start"),_loop())}else{if("string"!=typeof v1)throw new Error("[conrad.addJob] Wrong arguments.");if(_hasJob(v1))throw new Error('[conrad.addJob] Job with id "'+v1+'" already exists.');if("function"==typeof v2)o={id:v1,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0,job:v2};else{if("object"!=typeof v2)throw new Error("[conrad.addJob] Wrong arguments.");o=__extend({id:v1,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0},v2)}_jobs[v1]=o,_dispatch("jobAdded",__clone(o)),_isRunning||_noStart||(_lastFrameTime=__dateNow(),_dispatch("start"),_loop())}return this}function _killJob(v1){var i,l,a,job,found=!1;if(Array.isArray(v1))for(i=0,l=v1.length;l>i;i++)_killJob(v1[i]);else{if("string"!=typeof v1)throw new Error("[conrad.killJob] Wrong arguments.");for(a=[_runningJobs,_waitingJobs,_jobs],i=0,l=a.length;l>i;i++)v1 in a[i]&&(job=a[i][v1],_parameters.history&&(job.status="done",_doneJobs.push(job)),_dispatch("jobEnded",__clone(job)),delete a[i][v1],"function"==typeof job.end&&job.end(),found=!0);for(a=_sortedByPriorityJobs,i=0,l=a.length;l>i;i++)if(a[i].id===v1){a.splice(i,1);break}if(!found)throw new Error('[conrad.killJob] Job "'+v1+'" not found.')}return this}function _killAll(){var k,jobs=__extend(_jobs,_runningJobs,_waitingJobs);if(_parameters.history)for(k in jobs)jobs[k].status="done",_doneJobs.push(jobs[k]),"function"==typeof jobs[k].end&&jobs[k].end();return _jobs={},_waitingJobs={},_runningJobs={},_sortedByPriorityJobs=[],_isRunning=!1,this}function _hasJob(id){var job=_jobs[id]||_runningJobs[id]||_waitingJobs[id];return job?__extend(job):null}function _settings(){var o;if("string"==typeof a1&&1===arguments.length)return _parameters[a1];o="object"==typeof a1&&1===arguments.length?a1||{}:{},"string"==typeof a1&&(o[a1]=a2);for(var k in o)void 0!==o[k]?_parameters[k]=o[k]:delete _parameters[k];return this}function _getIsRunning(){return _isRunning}function _clearHistory(){return _doneJobs=[],this}function _getStats(v1,v2){var a,k,i,l,stats,pattern,isPatternString;if(!arguments.length){stats=[];for(k in _jobs)stats.push(_jobs[k]);for(k in _waitingJobs)stats.push(_waitingJobs[k]);for(k in _runningJobs)stats.push(_runningJobs[k]);stats=stats.concat(_doneJobs)}if("string"==typeof v1)switch(v1){case"waiting":stats=__objectValues(_waitingJobs);break;case"running":stats=__objectValues(_runningJobs);break;case"done":stats=_doneJobs;break;default:pattern=v1}if(v1 instanceof RegExp&&(pattern=v1),!pattern&&("string"==typeof v2||v2 instanceof RegExp)&&(pattern=v2),pattern){if(isPatternString="string"==typeof pattern,stats instanceof Array)a=stats;else if("object"==typeof stats){a=[];for(k in stats)a=a.concat(stats[k])}else{a=[];for(k in _jobs)a.push(_jobs[k]);for(k in _waitingJobs)a.push(_waitingJobs[k]);for(k in _runningJobs)a.push(_runningJobs[k]);a=a.concat(_doneJobs)}for(stats=[],i=0,l=a.length;l>i;i++)(isPatternString?a[i].id===pattern:a[i].id.match(pattern))&&stats.push(a[i])}return __clone(stats)}function __extend(){var i,k,res={},l=arguments.length;for(i=l-1;i>=0;i--)for(k in arguments[i])res[k]=arguments[i][k];return res}function __clone(item){var result,i,l;if(!item)return item;if(Array.isArray(item))for(result=[],i=0,l=item.length;l>i;i++)result.push(__clone(item[i]));else if("object"==typeof item){result={};for(i in item)result[i]=__clone(item[i])}else result=item;return result}function __objectValues(o){var k,a=[];for(k in o)a.push(o[k]);return a}function __dateNow(){return Date.now?Date.now():(new Date).getTime()}if(global.conrad)throw new Error("conrad already exists");var _lastFrameTime,_isRunning=!1,_jobs={},_runningJobs={},_sortedByPriorityJobs=[],_waitingJobs={},_doneJobs=[],_noStart=!1,_parameters={frameDuration:20,history:!0},_handlers=Object.create(null);Array.isArray||(Array.isArray=function(v){return"[object Array]"===Object.prototype.toString.call(v)});var conrad={hasJob:_hasJob,addJob:_addJob,killJob:_killJob,killAll:_killAll,settings:_settings,getStats:_getStats,isRunning:_getIsRunning,clearHistory:_clearHistory,bind:_bind,unbind:_unbind,version:"0.1.0"};global.conrad=conrad}(window),function(undefined){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var _root=this;sigma.utils=sigma.utils||{},sigma.utils.extend=function(){var i,k,res={},l=arguments.length;for(i=l-1;i>=0;i--)for(k in arguments[i])res[k]=arguments[i][k];return res},sigma.utils.dateNow=function(){return Date.now?Date.now():(new Date).getTime()},sigma.utils.pkg=function(pkgName){return(pkgName||"").split(".").reduce(function(context,objName){return objName in context?context[objName]:context[objName]={}},_root)},sigma.utils.id=function(){var i=0;return function(){return++i}}(),sigma.utils.floatColor=function(val){var result=[0,0,0];return val.match(/^#/)?(val=(val||"").replace(/^#/,""),result=3===val.length?[parseInt(val.charAt(0)+val.charAt(0),16),parseInt(val.charAt(1)+val.charAt(1),16),parseInt(val.charAt(2)+val.charAt(2),16)]:[parseInt(val.charAt(0)+val.charAt(1),16),parseInt(val.charAt(2)+val.charAt(3),16),parseInt(val.charAt(4)+val.charAt(5),16)]):val.match(/^ *rgba? *\(/)&&(val=val.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/),result=[+val[1],+val[2],+val[3]]),256*result[0]*256+256*result[1]+result[2]},sigma.utils.getX=function(e){return e.offsetX!==undefined&&e.offsetX||e.layerX!==undefined&&e.layerX||e.clientX!==undefined&&e.clientX},sigma.utils.getY=function(e){return e.offsetY!==undefined&&e.offsetY||e.layerY!==undefined&&e.layerY||e.clientY!==undefined&&e.clientY},sigma.utils.getDelta=function(e){return e.wheelDelta!==undefined&&e.wheelDelta||e.detail!==undefined&&-e.detail},sigma.utils.getOffset=function(dom){for(var left=0,top=0;dom;)top+=parseInt(dom.offsetTop),left+=parseInt(dom.offsetLeft),dom=dom.offsetParent;return{top:top,left:left}},sigma.utils.doubleClick=function(target,type,callback){var clicks=0;target.addEventListener(type,function(e){return clicks++,2===clicks?(clicks=0,callback(e)):void(1===clicks&&setTimeout(function(){clicks=0},sigma.settings.doubleClickTimeout))},!1)},sigma.utils.easings=sigma.utils.easings||{},sigma.utils.easings.linearNone=function(k){return k},sigma.utils.easings.quadraticIn=function(k){return k*k},sigma.utils.easings.quadraticOut=function(k){return k*(2-k)},sigma.utils.easings.quadraticInOut=function(k){return(k*=2)<1?.5*k*k:-.5*(--k*(k-2)-1)},sigma.utils.easings.cubicIn=function(k){return k*k*k},sigma.utils.easings.cubicOut=function(k){return--k*k*k+1},sigma.utils.easings.cubicInOut=function(k){return(k*=2)<1?.5*k*k*k:.5*((k-=2)*k*k+2)},sigma.utils.loadShader=function(gl,shaderSource,shaderType,error){var compiled,shader=gl.createShader(shaderType);return gl.shaderSource(shader,shaderSource),gl.compileShader(shader),compiled=gl.getShaderParameter(shader,gl.COMPILE_STATUS),compiled?shader:(error&&error('Error compiling shader "'+shader+'":'+gl.getShaderInfoLog(shader)),gl.deleteShader(shader),null)},sigma.utils.loadProgram=function(gl,shaders,attribs,loc,error){var i,linked,program=gl.createProgram();for(i=0;i<shaders.length;++i)gl.attachShader(program,shaders[i]);if(attribs)for(i=0;i<attribs.length;++i)gl.bindAttribLocation(program,locations?locations[i]:i,opt_attribs[i]);return gl.linkProgram(program),linked=gl.getProgramParameter(program,gl.LINK_STATUS),linked?program:(error&&error("Error in program linking: "+gl.getProgramInfoLog(program)),gl.deleteProgram(program),null)},sigma.utils.pkg("sigma.utils.matrices"),sigma.utils.matrices={},sigma.utils.matrices.translation=function(dx,dy){return[1,0,0,0,1,0,dx,dy,1]},sigma.utils.matrices.rotation=function(angle,m2){var cos=Math.cos(angle),sin=Math.sin(angle);return m2?[cos,-sin,sin,cos]:[cos,-sin,0,sin,cos,0,0,0,1]},sigma.utils.matrices.scale=function(ratio,m2){return m2?[ratio,0,0,ratio]:[ratio,0,0,0,ratio,0,0,0,1]},sigma.utils.matrices.multiply=function(a,b,m2){var l=m2?2:3,a00=a[0*l+0],a01=a[0*l+1],a02=a[0*l+2],a10=a[1*l+0],a11=a[1*l+1],a12=a[1*l+2],a20=a[2*l+0],a21=a[2*l+1],a22=a[2*l+2],b00=b[0*l+0],b01=b[0*l+1],b02=b[0*l+2],b10=b[1*l+0],b11=b[1*l+1],b12=b[1*l+2],b20=b[2*l+0],b21=b[2*l+1],b22=b[2*l+2];return m2?[a00*b00+a01*b10,a00*b01+a01*b11,a10*b00+a11*b10,a10*b01+a11*b11]:[a00*b00+a01*b10+a02*b20,a00*b01+a01*b11+a02*b21,a00*b02+a01*b12+a02*b22,a10*b00+a11*b10+a12*b20,a10*b01+a11*b11+a12*b21,a10*b02+a11*b12+a12*b22,a20*b00+a21*b10+a22*b20,a20*b01+a21*b11+a22*b21,a20*b02+a21*b12+a22*b22]}}.call(window),function(){"use strict";var x,lastTime=0,vendors=["ms","moz","webkit","o"];for(x=0;x<vendors.length&&!window.requestAnimationFrame;x++)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)}),Function.prototype.bind||(Function.prototype.bind=function(oThis){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var fNOP,fBound,aArgs=Array.prototype.slice.call(arguments,1),fToBind=this;return fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP&&oThis?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)))},fNOP.prototype=this.prototype,fBound.prototype=new fNOP,fBound})}.call(window),function(undefined){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.settings");var settings={clone:!0,immutable:!0,verbose:!1,defaultLabelColor:"#000",defaultEdgeColor:"#000",defaultNodeColor:"#000",defaultLabelSize:13,edgeColor:"source",font:"arial",fontStyle:"",labelColor:"default",labelSize:"fixed",labelSizeRatio:1,labelThreshold:8,webglOversamplingRatio:2,borderSize:0,defaultNodeBorderColor:"#000",hoverFont:"",hoverFontStyle:"",labelHoverShadow:undefined,labelHoverShadowColor:"#000",nodeHoverColor:"node",defaultNodeHoverColor:"#000",labelHoverBGColor:"default",defaultHoverLabelBGColor:"#fff",labelHoverColor:"default",defaultLabelHoverColor:"#000",drawLabels:!0,drawEdges:!0,drawNodes:!0,batchEdgesDrawing:!1,hideEdgesOnMove:!1,canvasEdgesBatchSize:500,webglEdgesBatchSize:1e3,scalingMode:"inside",sideMargin:0,minEdgeSize:.5,maxEdgeSize:1,minNodeSize:1,maxNodeSize:8,touchEnabled:!0,mouseEnabled:!0,doubleClickEnabled:!0,eventsEnabled:!0,zoomingRatio:1.7,doubleClickZoomingRatio:2.2,zoomMin:.0625,zoomMax:2,mouseZoomDuration:200,doubleClickZoomDuration:200,mouseInertiaDuration:200,mouseInertiaRatio:3,touchInertiaDuration:200,touchInertiaRatio:3,doubleClickTimeout:300,doubleTapTimeout:300,dragTimeout:200,autoResize:!0,autoRescale:!0,enableCamera:!0,enableHovering:!0,rescaleIgnoreSize:!1,skipErrors:!1,nodesPowRatio:.5,edgesPowRatio:.5,animationsTime:200};sigma.settings=sigma.utils.extend(sigma.settings||{},settings)}.call(window),function(){"use strict";var dispatcher=function(){Object.defineProperty(this,"_handlers",{value:{}})};dispatcher.prototype.bind=function(events,handler){var i,l,event,eArray;if(1===arguments.length&&"object"==typeof arguments[0])for(events in arguments[0])this.bind(events,arguments[0][events]);else{if(2!==arguments.length||"function"!=typeof arguments[1])throw"bind: Wrong arguments.";for(eArray="string"==typeof events?events.split(" "):events,i=0,l=eArray.length;i!==l;i+=1)event=eArray[i],event&&(this._handlers[event]||(this._handlers[event]=[]),this._handlers[event].push({handler:handler}))}return this},dispatcher.prototype.unbind=function(events,handler){var i,n,j,m,k,a,event,eArray="string"==typeof events?events.split(" "):events;if(!arguments.length){for(k in this._handlers)delete this._handlers[k];return this}if(handler)for(i=0,n=eArray.length;i!==n;i+=1){if(event=eArray[i],this._handlers[event]){for(a=[],j=0,m=this._handlers[event].length;j!==m;j+=1)this._handlers[event][j].handler!==handler&&a.push(this._handlers[event][j]);this._handlers[event]=a}this._handlers[event]&&0===this._handlers[event].length&&delete this._handlers[event]}else for(i=0,n=eArray.length;i!==n;i+=1)delete this._handlers[eArray[i]];return this},dispatcher.prototype.dispatchEvent=function(events,data){var i,n,j,m,a,event,eventName,self=this,eArray="string"==typeof events?events.split(" "):events;for(data=void 0===data?{}:data,i=0,n=eArray.length;i!==n;i+=1)if(eventName=eArray[i],this._handlers[eventName]){for(event=self.getEvent(eventName,data),a=[],j=0,m=this._handlers[eventName].length;j!==m;j+=1)this._handlers[eventName][j].handler(event),this._handlers[eventName][j].one||a.push(this._handlers[eventName][j]);this._handlers[eventName]=a}return this},dispatcher.prototype.getEvent=function(event,data){return{type:event,data:data||{},target:this}},dispatcher.extend=function(target,args){var k;for(k in dispatcher.prototype)dispatcher.prototype.hasOwnProperty(k)&&(target[k]=dispatcher.prototype[k]);dispatcher.apply(target,args)},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=dispatcher):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=dispatcher),exports.dispatcher=dispatcher):this.dispatcher=dispatcher}.call(window),function(){"use strict";function __bindGraphMethod(methodName,scope,fn){var result=function(){var k,res;res=fn.apply(scope,arguments);for(k in _methodBindings[methodName])_methodBindings[methodName][k].apply(scope,arguments);return res};return result}function __emptyObject(obj){var k;for(k in obj)"hasOwnProperty"in obj&&!obj.hasOwnProperty(k)||delete obj[k];return obj}var _methods=Object.create(null),_indexes=Object.create(null),_initBindings=Object.create(null),_methodBindings=Object.create(null),_defaultSettings={immutable:!0,clone:!0},_defaultSettingsFunction=function(key){return _defaultSettings[key]},graph=function(settings){var k,fn,data;data={settings:settings||_defaultSettingsFunction,nodesArray:[],edgesArray:[],nodesIndex:Object.create(null),edgesIndex:Object.create(null),inNeighborsIndex:Object.create(null),outNeighborsIndex:Object.create(null),allNeighborsIndex:Object.create(null),inNeighborsCount:Object.create(null),outNeighborsCount:Object.create(null),allNeighborsCount:Object.create(null)};for(k in _initBindings)_initBindings[k].call(data);for(k in _methods)fn=__bindGraphMethod(k,data,_methods[k]),this[k]=fn,data[k]=fn};graph.addMethod=function(methodName,fn){if("string"!=typeof methodName||"function"!=typeof fn||2!==arguments.length)throw"addMethod: Wrong arguments.";if(_methods[methodName])throw'The method "'+methodName+'" already exists.';return _methods[methodName]=fn,_methodBindings[methodName]=Object.create(null),this},graph.attach=function(methodName,key,fn){if("string"!=typeof methodName||"string"!=typeof key||"function"!=typeof fn||3!==arguments.length)throw"attach: Wrong arguments.";var bindings;if("constructor"===methodName)bindings=_initBindings;else{if(!_methodBindings[methodName])throw'The method "'+methodName+'" does not exist.';bindings=_methodBindings[methodName]}if(bindings[key])throw'A function "'+key+'" is already attached to the method "'+methodName+'".';return bindings[key]=fn,this},graph.addIndex=function(name,bindings){if("string"!=typeof name||Object(bindings)!==bindings||2!==arguments.length)throw"addIndex: Wrong arguments.";if(_indexes[name])throw'The index "'+name+'" already exists.';var k;_indexes[name]=bindings;for(k in bindings){if("function"!=typeof bindings[k])throw"The bindings must be functions.";graph.attach(k,name,bindings[k])}return this},graph.addMethod("addNode",function(node){if(Object(node)!==node||1!==arguments.length)throw"addNode: Wrong arguments.";if("string"!=typeof node.id)throw"The node must have a string id.";if(this.nodesIndex[node.id])throw'The node "'+node.id+'" already exists.';var k,id=node.id,validNode=Object.create(null);if(this.settings("clone"))for(k in node)"id"!==k&&(validNode[k]=node[k]);else validNode=node;return this.settings("immutable")?Object.defineProperty(validNode,"id",{value:id,enumerable:!0}):validNode.id=id,this.inNeighborsIndex[id]=Object.create(null),this.outNeighborsIndex[id]=Object.create(null),this.allNeighborsIndex[id]=Object.create(null),this.inNeighborsCount[id]=0,this.outNeighborsCount[id]=0,this.allNeighborsCount[id]=0,this.nodesArray.push(validNode),this.nodesIndex[validNode.id]=validNode,this}),graph.addMethod("addEdge",function(edge){if(Object(edge)!==edge||1!==arguments.length)throw"addEdge: Wrong arguments.";if("string"!=typeof edge.id)throw"The edge must have a string id.";if("string"!=typeof edge.source||!this.nodesIndex[edge.source])throw"The edge source must have an existing node id.";if("string"!=typeof edge.target||!this.nodesIndex[edge.target])throw"The edge target must have an existing node id.";if(this.edgesIndex[edge.id])throw'The edge "'+edge.id+'" already exists.';var k,validEdge=Object.create(null);if(this.settings("clone"))for(k in edge)"id"!==k&&"source"!==k&&"target"!==k&&(validEdge[k]=edge[k]);else validEdge=edge;return this.settings("immutable")?(Object.defineProperty(validEdge,"id",{value:edge.id,enumerable:!0}),Object.defineProperty(validEdge,"source",{value:edge.source,enumerable:!0}),Object.defineProperty(validEdge,"target",{value:edge.target,enumerable:!0})):(validEdge.id=edge.id,validEdge.source=edge.source,validEdge.target=edge.target),this.edgesArray.push(validEdge),this.edgesIndex[validEdge.id]=validEdge,this.inNeighborsIndex[edge.target][edge.source]||(this.inNeighborsIndex[edge.target][edge.source]=Object.create(null)),this.inNeighborsIndex[edge.target][edge.source][edge.id]=edge,this.outNeighborsIndex[edge.source][edge.target]||(this.outNeighborsIndex[edge.source][edge.target]=Object.create(null)),this.outNeighborsIndex[edge.source][edge.target][edge.id]=edge,this.allNeighborsIndex[edge.source][edge.target]||(this.allNeighborsIndex[edge.source][edge.target]=Object.create(null)),this.allNeighborsIndex[edge.source][edge.target][edge.id]=edge,this.allNeighborsIndex[edge.target][edge.source]||(this.allNeighborsIndex[edge.target][edge.source]=Object.create(null)),this.allNeighborsIndex[edge.target][edge.source][edge.id]=edge,this.inNeighborsCount[edge.target]++,this.outNeighborsCount[edge.source]++,this.allNeighborsCount[edge.target]++,this.allNeighborsCount[edge.source]++,this}),graph.addMethod("dropNode",function(id){if("string"!=typeof id||1!==arguments.length)throw"dropNode: Wrong arguments.";if(!this.nodesIndex[id])throw'The node "'+id+'" does not exist.';var i,k,l;for(delete this.nodesIndex[id],i=0,l=this.nodesArray.length;l>i;i++)if(this.nodesArray[i].id===id){this.nodesArray.splice(i,1);break}for(i=this.edgesArray.length-1;i>=0;i--)(this.edgesArray[i].source===id||this.edgesArray[i].target===id)&&this.dropEdge(this.edgesArray[i].id);delete this.inNeighborsIndex[id],delete this.outNeighborsIndex[id],delete this.allNeighborsIndex[id],delete this.inNeighborsCount[id],delete this.outNeighborsCount[id],delete this.allNeighborsCount[id];for(k in this.nodesIndex)delete this.inNeighborsIndex[k][id],delete this.outNeighborsIndex[k][id],delete this.allNeighborsIndex[k][id];return this}),graph.addMethod("dropEdge",function(id){if("string"!=typeof id||1!==arguments.length)throw"dropEdge: Wrong arguments.";if(!this.edgesIndex[id])throw'The edge "'+id+'" does not exist.';var i,l,edge;for(edge=this.edgesIndex[id],delete this.edgesIndex[id],i=0,l=this.edgesArray.length;l>i;i++)if(this.edgesArray[i].id===id){this.edgesArray.splice(i,1);break}return delete this.inNeighborsIndex[edge.target][edge.source][edge.id],Object.keys(this.inNeighborsIndex[edge.target][edge.source]).length||delete this.inNeighborsIndex[edge.target][edge.source],delete this.outNeighborsIndex[edge.source][edge.target][edge.id],Object.keys(this.outNeighborsIndex[edge.source][edge.target]).length||delete this.outNeighborsIndex[edge.source][edge.target],delete this.allNeighborsIndex[edge.source][edge.target][edge.id],Object.keys(this.allNeighborsIndex[edge.source][edge.target]).length||delete this.allNeighborsIndex[edge.source][edge.target],delete this.allNeighborsIndex[edge.target][edge.source][edge.id],Object.keys(this.allNeighborsIndex[edge.target][edge.source]).length||delete this.allNeighborsIndex[edge.target][edge.source],this.inNeighborsCount[edge.target]--,this.outNeighborsCount[edge.source]--,this.allNeighborsCount[edge.source]--,this.allNeighborsCount[edge.target]--,this}),graph.addMethod("kill",function(){this.nodesArray.length=0,this.edgesArray.length=0,delete this.nodesArray,delete this.edgesArray,delete this.nodesIndex,delete this.edgesIndex,delete this.inNeighborsIndex,delete this.outNeighborsIndex,delete this.allNeighborsIndex,delete this.inNeighborsCount,delete this.outNeighborsCount,delete this.allNeighborsCount}),graph.addMethod("clear",function(){return this.nodesArray.length=0,this.edgesArray.length=0,__emptyObject(this.nodesIndex),__emptyObject(this.edgesIndex),__emptyObject(this.nodesIndex),__emptyObject(this.inNeighborsIndex),__emptyObject(this.outNeighborsIndex),__emptyObject(this.allNeighborsIndex),__emptyObject(this.inNeighborsCount),__emptyObject(this.outNeighborsCount),__emptyObject(this.allNeighborsCount),this}),graph.addMethod("read",function(g){var i,a,l;for(a=g.nodes||[],i=0,l=a.length;l>i;i++)this.addNode(a[i]);for(a=g.edges||[],i=0,l=a.length;l>i;i++)this.addEdge(a[i]);return this}),graph.addMethod("nodes",function(v){if(!arguments.length)return this.nodesArray.slice(0);if(1===arguments.length&&"string"==typeof v)return this.nodesIndex[v];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(v)){var i,l,a=[];for(i=0,l=v.length;l>i;i++){if("string"!=typeof v[i])throw"nodes: Wrong arguments.";a.push(this.nodesIndex[v[i]])}return a}throw"nodes: Wrong arguments."}),graph.addMethod("degree",function(v,which){if(which={"in":this.inNeighborsCount,out:this.outNeighborsCount}[which||""]||this.allNeighborsCount,"string"==typeof v)return which[v];if("[object Array]"===Object.prototype.toString.call(v)){var i,l,a=[];for(i=0,l=v.length;l>i;i++){if("string"!=typeof v[i])throw"degree: Wrong arguments.";a.push(which[v[i]])}return a}throw"degree: Wrong arguments."}),graph.addMethod("edges",function(v){if(!arguments.length)return this.edgesArray.slice(0);if(1===arguments.length&&"string"==typeof v)return this.edgesIndex[v];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(v)){var i,l,a=[];for(i=0,l=v.length;l>i;i++){if("string"!=typeof v[i])throw"edges: Wrong arguments.";a.push(this.edgesIndex[v[i]])}return a}throw"edges: Wrong arguments."}),"undefined"!=typeof sigma?(sigma.classes=sigma.classes||Object.create(null),sigma.classes.graph=graph):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=graph),exports.graph=graph):this.graph=graph}.call(window),function(undefined){"use strict";function _quadIndex(point,quadBounds){var xmp=quadBounds.x+quadBounds.width/2,ymp=quadBounds.y+quadBounds.height/2,top=point.y<ymp,left=point.x<xmp;return top?left?0:1:left?2:3}function _quadIndexes(rectangle,quadCorners){for(var indexes=[],i=0;4>i;i++)rectangle.x2>=quadCorners[i][0].x&&rectangle.x1<=quadCorners[i][1].x&&rectangle.y1+rectangle.height>=quadCorners[i][0].y&&rectangle.y1<=quadCorners[i][2].y&&indexes.push(i);return indexes}function _quadCollision(corners,quadCorners){for(var indexes=[],i=0;4>i;i++)_geom.collision(corners,quadCorners[i])&&indexes.push(i);return indexes}function _quadSubdivide(index,quad){var x,y,next=quad.level+1,subw=Math.round(quad.bounds.width/2),subh=Math.round(quad.bounds.height/2),qx=Math.round(quad.bounds.x),qy=Math.round(quad.bounds.y);switch(index){case 0:x=qx,y=qy;break;case 1:x=qx+subw,y=qy;break;case 2:x=qx,y=qy+subh;break;case 3:x=qx+subw,y=qy+subh}return _quadTree({x:x,y:y,width:subw,height:subh},next,quad.maxElements,quad.maxLevel)}function _quadInsert(el,sizedPoint,quad){if(quad.level<quad.maxLevel)for(var indexes=_quadIndexes(sizedPoint,quad.corners),i=0,l=indexes.length;l>i;i++)quad.nodes[indexes[i]]===undefined&&(quad.nodes[indexes[i]]=_quadSubdivide(indexes[i],quad)),_quadInsert(el,sizedPoint,quad.nodes[indexes[i]]);else quad.elements.push(el)}function _quadRetrievePoint(point,quad){if(quad.level<quad.maxLevel){var index=_quadIndex(point,quad.bounds);return quad.nodes[index]!==undefined?_quadRetrievePoint(point,quad.nodes[index]):[]}return quad.elements}function _quadRetrieveArea(rectData,quad,collisionFunc,els){if(els=els||{},quad.level<quad.maxLevel)for(var indexes=collisionFunc(rectData,quad.corners),i=0,l=indexes.length;l>i;i++)quad.nodes[indexes[i]]!==undefined&&_quadRetrieveArea(rectData,quad.nodes[indexes[i]],collisionFunc,els);else for(var j=0,m=quad.elements.length;m>j;j++)els[quad.elements[j].id]===undefined&&(els[quad.elements[j].id]=quad.elements[j]);return els}function _quadTree(bounds,level,maxElements,maxLevel){return{level:level||0,bounds:bounds,corners:_geom.splitSquare(bounds),maxElements:maxElements||20,maxLevel:maxLevel||4,elements:[],nodes:[]}}var _geom={pointToSquare:function(n){return{x1:n.x-n.size,y1:n.y-n.size,x2:n.x+n.size,y2:n.y-n.size,height:2*n.size}},isAxisAligned:function(r){return r.x1===r.x2||r.y1===r.y2},axisAlignedTopPoints:function(r){return r.y1===r.y2&&r.x1<r.x2?r:r.x1===r.x2&&r.y2>r.y1?{x1:r.x1-r.height,y1:r.y1,x2:r.x1,y2:r.y1,height:r.height}:r.x1===r.x2&&r.y2<r.y1?{x1:r.x1,y1:r.y2,x2:r.x2+r.height,y2:r.y2,height:r.height}:{x1:r.x2,y1:r.y1-r.height,x2:r.x1,y2:r.y1-r.height,height:r.height}},lowerLeftCoor:function(r){var width=Math.sqrt(Math.pow(r.x2-r.x1,2)+Math.pow(r.y2-r.y1,2));return{x:r.x1-(r.y2-r.y1)*r.height/width,y:r.y1+(r.x2-r.x1)*r.height/width}},lowerRightCoor:function(r,llc){return{x:llc.x-r.x1+r.x2,y:llc.y-r.y1+r.y2}},rectangleCorners:function(r){var llc=this.lowerLeftCoor(r),lrc=this.lowerRightCoor(r,llc);return[{x:r.x1,y:r.y1},{x:r.x2,y:r.y2},{x:llc.x,y:llc.y},{x:lrc.x,y:lrc.y}]},splitSquare:function(b){return[[{x:b.x,y:b.y},{x:b.x+b.width/2,y:b.y},{x:b.x,y:b.y+b.height/2},{x:b.x+b.width/2,y:b.y+b.height/2}],[{x:b.x+b.width/2,y:b.y},{x:b.x+b.width,y:b.y},{x:b.x+b.width/2,y:b.y+b.height/2},{x:b.x+b.width,y:b.y+b.height/2}],[{x:b.x,y:b.y+b.height/2},{x:b.x+b.width/2,y:b.y+b.height/2},{x:b.x,y:b.y+b.height},{x:b.x+b.width/2,y:b.y+b.height}],[{x:b.x+b.width/2,y:b.y+b.height/2},{x:b.x+b.width,y:b.y+b.height/2},{x:b.x+b.width/2,y:b.y+b.height},{x:b.x+b.width,y:b.y+b.height}]]},axis:function(c1,c2){return[{x:c1[1].x-c1[0].x,y:c1[1].y-c1[0].y},{x:c1[1].x-c1[3].x,y:c1[1].y-c1[3].y},{x:c2[0].x-c2[2].x,y:c2[0].y-c2[2].y},{x:c2[0].x-c2[1].x,y:c2[0].y-c2[1].y}]},projection:function(c,a){var l=(c.x*a.x+c.y*a.y)/(Math.pow(a.x,2)+Math.pow(a.y,2));return{x:l*a.x,y:l*a.y}},axisCollision:function(a,c1,c2){for(var sc1=[],sc2=[],ci=0;4>ci;ci++){var p1=this.projection(c1[ci],a),p2=this.projection(c2[ci],a);sc1.push(p1.x*a.x+p1.y*a.y),sc2.push(p2.x*a.x+p2.y*a.y)}var maxc1=Math.max.apply(Math,sc1),maxc2=Math.max.apply(Math,sc2),minc1=Math.min.apply(Math,sc1),minc2=Math.min.apply(Math,sc2);return maxc1>=minc2&&maxc2>=minc1},collision:function(c1,c2){for(var axis=this.axis(c1,c2),col=!0,i=0;4>i;i++)col*=this.axisCollision(axis[i],c1,c2);return!!col}},quad=function(){this._geom=_geom,this._tree=null,this._cache={query:!1,result:!1}};quad.prototype.index=function(nodes,params){if(!params.bounds)throw"sigma.classes.quad.index: bounds information not given.";var prefix=params.prefix||"";this._tree=_quadTree(params.bounds,0,params.maxElements,params.maxLevel);for(var i=0,l=nodes.length;l>i;i++)_quadInsert(nodes[i],_geom.pointToSquare({x:nodes[i][prefix+"x"],y:nodes[i][prefix+"y"],size:nodes[i][prefix+"size"]}),this._tree);return this._cache={query:!1,result:!1},this._tree},quad.prototype.point=function(x,y){return this._tree?_quadRetrievePoint({x:x,y:y},this._tree)||[]:[]
},quad.prototype.area=function(rect){var collisionFunc,rectData,serialized=JSON.stringify(rect);if(this._cache.query===serialized)return this._cache.result;_geom.isAxisAligned(rect)?(collisionFunc=_quadIndexes,rectData=_geom.axisAlignedTopPoints(rect)):(collisionFunc=_quadCollision,rectData=_geom.rectangleCorners(rect));var nodes=this._tree?_quadRetrieveArea(rectData,this._tree,collisionFunc):[],nodesArray=[];for(var i in nodes)nodesArray.push(nodes[i]);return this._cache.query=serialized,this._cache.result=nodesArray,nodesArray},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.quad=quad):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=quad),exports.quad=quad):this.quad=quad}.call(window),function(undefined){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.classes"),sigma.classes.camera=function(id,graph,settings,options){sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"graph",{value:graph}),Object.defineProperty(this,"id",{value:id}),Object.defineProperty(this,"readPrefix",{value:"read_cam"+id+":"}),Object.defineProperty(this,"prefix",{value:"cam"+id+":"}),this.x=0,this.y=0,this.ratio=1,this.angle=0,this.isAnimated=!1,this.settings="object"==typeof options&&options?settings.embedObject(options):settings},sigma.classes.camera.prototype.goTo=function(coordinates){if(!this.settings("enableCamera"))return this;var i,l,c=coordinates||{},keys=["x","y","ratio","angle"];for(i=0,l=keys.length;l>i;i++)if(c[keys[i]]!==undefined){if("number"!=typeof c[keys[i]]||isNaN(c[keys[i]]))throw'Value for "'+keys[i]+'" is not a number.';this[keys[i]]=c[keys[i]]}return this.dispatchEvent("coordinatesUpdated"),this},sigma.classes.camera.prototype.applyView=function(read,write,options){options=options||{},write=write!==undefined?write:this.prefix,read=read!==undefined?read:this.readPrefix;var i,l,node,nodes=options.nodes||this.graph.nodes(),edges=options.edges||this.graph.edges(),cos=Math.cos(this.angle),sin=Math.sin(this.angle);for(i=0,l=nodes.length;l>i;i++)node=nodes[i],node[write+"x"]=(((node[read+"x"]||0)-this.x)*cos+((node[read+"y"]||0)-this.y)*sin)/this.ratio+(options.width||0)/2,node[write+"y"]=(((node[read+"y"]||0)-this.y)*cos-((node[read+"x"]||0)-this.x)*sin)/this.ratio+(options.height||0)/2,node[write+"size"]=(node[read+"size"]||0)/Math.pow(this.ratio,this.settings("nodesPowRatio"));for(i=0,l=edges.length;l>i;i++)edges[i][write+"size"]=(edges[i][read+"size"]||0)/Math.pow(this.ratio,this.settings("edgesPowRatio"));return this},sigma.classes.camera.prototype.graphPosition=function(x,y,vector){var X=0,Y=0,cos=Math.cos(this.angle),sin=Math.sin(this.angle);return vector||(X=-(this.x*cos+this.y*sin)/this.ratio,Y=-(this.y*cos-this.x*sin)/this.ratio),{x:(x*cos+y*sin)/this.ratio+X,y:(y*cos-x*sin)/this.ratio+Y}},sigma.classes.camera.prototype.cameraPosition=function(x,y,vector){var X=0,Y=0,cos=Math.cos(this.angle),sin=Math.sin(this.angle);return vector||(X=-(this.x*cos+this.y*sin)/this.ratio,Y=-(this.y*cos-this.x*sin)/this.ratio),{x:((x-X)*cos-(y-Y)*sin)*this.ratio,y:((y-Y)*cos+(x-X)*sin)*this.ratio}},sigma.classes.camera.prototype.getMatrix=function(){var scale=sigma.utils.matrices.scale(1/this.ratio),rotation=sigma.utils.matrices.rotation(this.angle),translation=sigma.utils.matrices.translation(-this.x,-this.y),matrix=sigma.utils.matrices.multiply(translation,sigma.utils.matrices.multiply(rotation,scale));return matrix},sigma.classes.camera.prototype.getRectangle=function(width,height){var widthVect=this.cameraPosition(width,0,!0),heightVect=this.cameraPosition(0,height,!0),centerVect=this.cameraPosition(width/2,height/2,!0),marginX=this.cameraPosition(width/4,0,!0).x,marginY=this.cameraPosition(0,height/4,!0).y;return{x1:this.x-centerVect.x-marginX,y1:this.y-centerVect.y-marginY,x2:this.x-centerVect.x+marginX+widthVect.x,y2:this.y-centerVect.y-marginY+widthVect.y,height:Math.sqrt(Math.pow(heightVect.x,2)+Math.pow(heightVect.y+2*marginY,2))}}}.call(window),function(){"use strict";var configurable=function(){var i,l,data={},datas=Array.prototype.slice.call(arguments,0),settings=function(a1,a2){var o,k;if(1===arguments.length&&"string"==typeof a1){if(a1 in data&&void 0!==data[a1])return data[a1];for(i=0,l=datas.length;l>i;i++)if(a1 in datas[i]&&void 0!==datas[i][a1])return datas[i][a1];return void 0}if("object"==typeof a1&&"string"==typeof a2)return a2 in(a1||{})?a1[a2]:settings(a2);o="object"==typeof a1&&void 0===a2?a1:{},"string"==typeof a1&&(o[a1]=a2);for(k in o)data[k]=o[k];return this};for(settings.embedObjects=function(){var args=datas.concat(data).concat(Array.prototype.splice.call(arguments,0));return configurable.apply({},args)},i=0,l=arguments.length;l>i;i++)settings(arguments[i]);return settings};"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.configurable=configurable):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=configurable),exports.configurable=configurable):this.configurable=configurable}.call(window),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers");var canvas,webgl=!!window.WebGLRenderingContext;webgl&&(canvas=document.createElement("canvas"),webgl=!(!canvas.getContext("webgl")&&!canvas.getContext("experimental-webgl"))),sigma.renderers.def=webgl?sigma.renderers.webgl:sigma.renderers.canvas}.call(window),function(undefined){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";if("undefined"==typeof conrad)throw"conrad is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.canvas=function(graph,camera,settings,options){if("object"!=typeof options)throw"sigma.renderers.canvas: Wrong arguments.";if(!(options.container instanceof HTMLElement))throw"Container not found.";var i,l,a,fn,self=this;for(sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=graph,this.camera=camera,this.contexts={},this.domElements={},this.options=options,this.container=this.options.container,this.settings="object"==typeof options.settings&&options.settings?settings.embedObjects(options.settings):settings,this.nodesOnScreen=[],this.edgesOnScreen=[],this.jobs={},this.options.prefix="renderer"+this.conradId+":",this.settings("batchEdgesDrawing")?(this.initDOM("canvas","edges"),this.initDOM("canvas","scene"),this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene):(this.initDOM("canvas","scene"),this.contexts.edges=this.contexts.scene,this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],a=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],i=0,l=a.length;l>i;i++)fn="function"==typeof a[i]?a[i]:sigma.captors[a[i]],this.captors.push(new fn(this.domElements.mouse,this.camera,this.settings));window.addEventListener("resize",function(){self.resize()}),sigma.misc.bindEvents.call(this,this.options.prefix),sigma.misc.drawHovers.call(this,this.options.prefix,graph),this.resize(!1)},sigma.renderers.canvas.prototype.render=function(options){options=options||{};var a,i,k,l,o,id,end,job,start,edges,renderers,batchSize,index={},graph=this.graph,nodes=this.graph.nodes,drawEdges=(this.options.prefix||"",this.settings(options,"drawEdges")),drawNodes=this.settings(options,"drawNodes"),drawLabels=this.settings(options,"drawLabels"),embedSettings=this.settings.embedObjects(options,{prefix:this.options.prefix});this.settings(options,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(drawEdges=!1),this.camera.applyView(undefined,this.options.prefix,{width:this.width,height:this.height}),this.clear();for(k in this.jobs)conrad.hasJob(k)&&conrad.killJob(k);for(this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),a=this.nodesOnScreen,i=0,l=a.length;l>i;i++)index[a[i].id]=a[i];if(drawEdges){for(a=graph.edges(),i=0,l=a.length;l>i;i++)o=a[i],!index[o.source]&&!index[o.target]||o.hidden||nodes(o.source).hidden||nodes(o.target).hidden||this.edgesOnScreen.push(o);if(this.settings(options,"batchEdgesDrawing"))id="edges_"+this.conradId,batchSize=embedSettings("canvasEdgesBatchSize"),edges=this.edgesOnScreen,l=edges.length,start=0,end=Math.min(edges.length,start+batchSize),job=function(){for(renderers=sigma.canvas.edges,i=start;end>i;i++)o=edges[i],(renderers[o.type]||renderers.def)(o,graph.nodes(o.source),graph.nodes(o.target),this.contexts.edges,embedSettings);return end===edges.length?(delete this.jobs[id],!1):(start=end+1,end=Math.min(edges.length,start+batchSize),!0)},this.jobs[id]=job,conrad.addJob(id,job.bind(this));else for(renderers=sigma.canvas.edges,a=this.edgesOnScreen,i=0,l=a.length;l>i;i++)o=a[i],(renderers[o.type]||renderers.def)(o,graph.nodes(o.source),graph.nodes(o.target),this.contexts.edges,embedSettings)}if(drawNodes)for(renderers=sigma.canvas.nodes,a=this.nodesOnScreen,i=0,l=a.length;l>i;i++)a[i].hidden||(renderers[a[i].type]||renderers.def)(a[i],this.contexts.nodes,embedSettings);if(drawLabels)for(renderers=sigma.canvas.labels,a=this.nodesOnScreen,i=0,l=a.length;l>i;i++)a[i].hidden||(renderers[a[i].type]||renderers.def)(a[i],this.contexts.labels,embedSettings);return this.dispatchEvent("render"),this},sigma.renderers.canvas.prototype.initDOM=function(tag,id){var dom=document.createElement(tag);dom.style.position="absolute",dom.setAttribute("class","sigma-"+id),this.domElements[id]=dom,this.container.appendChild(dom),"canvas"===tag.toLowerCase()&&(this.contexts[id]=dom.getContext("2d"))},sigma.renderers.canvas.prototype.resize=function(w,h){var k,oldWidth=this.width,oldHeight=this.height,pixelRatio=1;if(w!==undefined&&h!==undefined?(this.width=w,this.height=h):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,w=this.width,h=this.height),oldWidth!==this.width||oldHeight!==this.height)for(k in this.domElements)this.domElements[k].style.width=w+"px",this.domElements[k].style.height=h+"px","canvas"===this.domElements[k].tagName.toLowerCase()&&(this.domElements[k].setAttribute("width",w*pixelRatio+"px"),this.domElements[k].setAttribute("height",h*pixelRatio+"px"),1!==pixelRatio&&this.contexts[k].scale(pixelRatio,pixelRatio));return this},sigma.renderers.canvas.prototype.clear=function(){var k;for(k in this.domElements)"CANVAS"===this.domElements[k].tagName&&(this.domElements[k].width=this.domElements[k].width);return this},sigma.utils.pkg("sigma.canvas.nodes"),sigma.utils.pkg("sigma.canvas.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(window),function(undefined){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.webgl=function(graph,camera,settings,options){if("object"!=typeof options)throw"sigma.renderers.webgl: Wrong arguments.";if(!(options.container instanceof HTMLElement))throw"Container not found.";var i,l,a,fn,_self=this;for(sigma.classes.dispatcher.extend(this),this.jobs={},Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=graph,this.camera=camera,this.contexts={},this.domElements={},this.options=options,this.container=this.options.container,this.settings="object"==typeof options.settings&&options.settings?settings.embedObjects(options.settings):settings,this.options.prefix=this.camera.readPrefix,Object.defineProperty(this,"nodePrograms",{value:{}}),Object.defineProperty(this,"edgePrograms",{value:{}}),Object.defineProperty(this,"nodeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeFloatArrays",{value:{}}),this.settings(options,"batchEdgesDrawing")?(this.initDOM("canvas","edges",!0),this.initDOM("canvas","nodes",!0)):(this.initDOM("canvas","scene",!0),this.contexts.nodes=this.contexts.scene,this.contexts.edges=this.contexts.scene),this.initDOM("canvas","labels"),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],a=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],i=0,l=a.length;l>i;i++)fn="function"==typeof a[i]?a[i]:sigma.captors[a[i]],this.captors.push(new fn(this.domElements.mouse,this.camera,this.settings));window.addEventListener("resize",function(){_self.resize()}),sigma.misc.bindEvents.call(this,this.camera.prefix),sigma.misc.drawHovers.call(this,this.camera.prefix),this.resize()},sigma.renderers.webgl.prototype.process=function(){var a,i,l,k,renderer,graph=this.graph,options=sigma.utils.extend(options,this.options);for(k in this.nodeFloatArrays)delete this.nodeFloatArrays[k];for(k in this.edgeFloatArrays)delete this.edgeFloatArrays[k];for(a=graph.edges(),i=0,l=a.length;l>i;i++)k=a[i].type&&sigma.webgl.edges[a[i].type]?a[i].type:"def",this.edgeFloatArrays[k]||(this.edgeFloatArrays[k]={edges:[]}),this.edgeFloatArrays[k].edges.push(a[i]);for(a=graph.nodes(),i=0,l=a.length;l>i;i++)k=a[i].type&&sigma.webgl.nodes[a[i].type]?k:"def",this.nodeFloatArrays[k]||(this.nodeFloatArrays[k]={nodes:[]}),this.nodeFloatArrays[k].nodes.push(a[i]);for(k in this.edgeFloatArrays)for(renderer=sigma.webgl.edges[k],a=this.edgeFloatArrays[k].edges,i=0,l=a.length;l>i;i++)this.edgeFloatArrays[k].array||(this.edgeFloatArrays[k].array=new Float32Array(a.length*renderer.POINTS*renderer.ATTRIBUTES)),a[i].hidden||graph.nodes(a[i].source).hidden||graph.nodes(a[i].target).hidden||renderer.addEdge(a[i],graph.nodes(a[i].source),graph.nodes(a[i].target),this.edgeFloatArrays[k].array,i*renderer.POINTS*renderer.ATTRIBUTES,options.prefix,this.settings);for(k in this.nodeFloatArrays)for(renderer=sigma.webgl.nodes[k],a=this.nodeFloatArrays[k].nodes,i=0,l=a.length;l>i;i++)this.nodeFloatArrays[k].array||(this.nodeFloatArrays[k].array=new Float32Array(a.length*renderer.POINTS*renderer.ATTRIBUTES)),a[i].hidden||renderer.addNode(a[i],this.nodeFloatArrays[k].array,i*renderer.POINTS*renderer.ATTRIBUTES,options.prefix,this.settings);return this},sigma.renderers.webgl.prototype.render=function(params){var a,i,l,k,o,renderer,self=this,nodesGl=(this.graph,this.contexts.nodes),edgesGl=this.contexts.edges,matrix=this.camera.getMatrix(),options=sigma.utils.extend(params,this.options),drawLabels=this.settings(options,"drawLabels"),drawEdges=this.settings(options,"drawEdges"),drawNodes=this.settings(options,"drawNodes");this.settings(options,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(drawEdges=!1),this.clear(),matrix=sigma.utils.matrices.multiply(matrix,sigma.utils.matrices.translation(this.width/2,this.height/2));for(k in this.jobs)conrad.hasJob(k)&&conrad.killJob(k);if(drawEdges)if(this.settings(options,"batchEdgesDrawing"))(function(){var a,i,id,job,arr,end,start,renderer,batchSize;id="edges_"+this.conradId,batchSize=this.settings(options,"webglEdgesBatchSize"),a=Object.keys(this.edgeFloatArrays),a.length&&(i=0,renderer=sigma.webgl.edges[a[i]],arr=this.edgeFloatArrays[a[i]].array,start=0,end=Math.min(start+batchSize*renderer.POINTS,arr.length/renderer.ATTRIBUTES),job=function(){return this.edgePrograms[a[i]]||(this.edgePrograms[a[i]]=renderer.initProgram(edgesGl)),end>start&&(edgesGl.useProgram(this.edgePrograms[a[i]]),renderer.render(edgesGl,this.edgePrograms[a[i]],arr,{settings:this.settings,matrix:matrix,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings("webglOversamplingRatio"),start:start,count:end-start})),end>=arr.length/renderer.ATTRIBUTES&&i===a.length-1?(delete this.jobs[id],!1):(end>=arr.length/renderer.ATTRIBUTES?(i++,arr=this.edgeFloatArrays[a[i]].array,renderer=sigma.webgl.edges[a[i]],start=0,end=Math.min(start+batchSize*renderer.POINTS,arr.length/renderer.ATTRIBUTES)):(start=end,end=Math.min(start+batchSize*renderer.POINTS,arr.length/renderer.ATTRIBUTES)),!0)},this.jobs[id]=job,conrad.addJob(id,job.bind(this)))}).call(this);else for(k in this.edgeFloatArrays)renderer=sigma.webgl.edges[k],this.edgePrograms[k]||(this.edgePrograms[k]=renderer.initProgram(edgesGl)),this.edgeFloatArrays[k]&&(edgesGl.useProgram(this.edgePrograms[k]),renderer.render(edgesGl,this.edgePrograms[k],this.edgeFloatArrays[k].array,{settings:this.settings,matrix:matrix,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings("webglOversamplingRatio")}));if(drawNodes){nodesGl.blendFunc(nodesGl.SRC_ALPHA,nodesGl.ONE_MINUS_SRC_ALPHA),nodesGl.enable(nodesGl.BLEND);for(k in this.nodeFloatArrays)renderer=sigma.webgl.nodes[k],this.nodePrograms[k]||(this.nodePrograms[k]=renderer.initProgram(nodesGl)),this.nodeFloatArrays[k]&&(nodesGl.useProgram(this.nodePrograms[k]),renderer.render(nodesGl,this.nodePrograms[k],this.nodeFloatArrays[k].array,{settings:this.settings,matrix:matrix,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings("webglOversamplingRatio")}))}if(drawLabels)for(a=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),this.camera.applyView(undefined,undefined,{nodes:a,edges:[],width:this.width,height:this.height}),o=function(key){return self.settings({prefix:self.camera.prefix},key)},i=0,l=a.length;l>i;i++)a[i].hidden||(sigma.canvas.labels[a[i].type]||sigma.canvas.labels.def)(a[i],this.contexts.labels,o);return this.dispatchEvent("render"),this},sigma.renderers.webgl.prototype.initDOM=function(tag,id,webgl){var dom=document.createElement(tag);dom.style.position="absolute",dom.setAttribute("class","sigma-"+id),this.domElements[id]=dom,this.container.appendChild(dom),"canvas"===tag.toLowerCase()&&(this.contexts[id]=dom.getContext(webgl?"experimental-webgl":"2d",{preserveDrawingBuffer:!0}))},sigma.renderers.webgl.prototype.resize=function(w,h){var k,oldWidth=this.width,oldHeight=this.height;if(w!==undefined&&h!==undefined?(this.width=w,this.height=h):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,w=this.width,h=this.height),oldWidth!==this.width||oldHeight!==this.height)for(k in this.domElements)this.domElements[k].style.width=w+"px",this.domElements[k].style.height=h+"px","canvas"===this.domElements[k].tagName.toLowerCase()&&(this.contexts[k]&&this.contexts[k].scale?(this.domElements[k].setAttribute("width",w+"px"),this.domElements[k].setAttribute("height",h+"px")):(this.domElements[k].setAttribute("width",w*this.settings("webglOversamplingRatio")+"px"),this.domElements[k].setAttribute("height",h*this.settings("webglOversamplingRatio")+"px")));for(k in this.contexts)this.contexts[k]&&this.contexts[k].viewport&&this.contexts[k].viewport(0,0,this.width*this.settings("webglOversamplingRatio"),this.height*this.settings("webglOversamplingRatio"));return this},sigma.renderers.webgl.prototype.clear=function(){var k;for(k in this.domElements)"CANVAS"===this.domElements[k].tagName&&(this.domElements[k].width=this.domElements[k].width);return this.contexts.nodes.clear(this.contexts.nodes.COLOR_BUFFER_BIT),this.contexts.edges.clear(this.contexts.edges.COLOR_BUFFER_BIT),this},sigma.utils.pkg("sigma.webgl.nodes"),sigma.utils.pkg("sigma.webgl.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(window),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.arrow=function(edge,source,target,context,settings){var color=edge.color,prefix=settings("prefix")||"",edgeColor=settings("edgeColor"),defaultNodeColor=settings("defaultNodeColor"),defaultEdgeColor=settings("defaultEdgeColor"),thickness=edge[prefix+"size"]||1,tSize=target[prefix+"size"],sX=source[prefix+"x"],sY=source[prefix+"y"],tX=target[prefix+"x"],tY=target[prefix+"y"],aSize=2.5*thickness,d=Math.sqrt(Math.pow(tX-sX,2)+Math.pow(tY-sY,2)),aX=sX+(tX-sX)*(d-aSize-tSize)/d,aY=sY+(tY-sY)*(d-aSize-tSize)/d,vX=(tX-sX)*aSize/d,vY=(tY-sY)*aSize/d;if(!color)switch(edgeColor){case"source":color=source.color||defaultNodeColor;break;case"target":color=target.color||defaultNodeColor;break;default:color=defaultEdgeColor}context.strokeStyle=color,context.lineWidth=thickness,context.beginPath(),context.moveTo(sX,sY),context.lineTo(aX,aY),context.stroke(),context.fillStyle=color,context.beginPath(),context.moveTo(aX+vX,aY+vY),context.lineTo(aX+.6*vY,aY-.6*vX),context.lineTo(aX-.6*vY,aY+.6*vX),context.lineTo(aX+vX,aY+vY),context.closePath(),context.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curve=function(edge,source,target,context,settings){var color=edge.color,prefix=settings("prefix")||"",edgeColor=settings("edgeColor"),defaultNodeColor=settings("defaultNodeColor"),defaultEdgeColor=settings("defaultEdgeColor");if(!color)switch(edgeColor){case"source":color=source.color||defaultNodeColor;break;case"target":color=target.color||defaultNodeColor;break;default:color=defaultEdgeColor}context.strokeStyle=color,context.lineWidth=edge[prefix+"size"]||1,context.beginPath(),context.moveTo(source[prefix+"x"],source[prefix+"y"]),context.quadraticCurveTo((source[prefix+"x"]+target[prefix+"x"])/2+(target[prefix+"y"]-source[prefix+"y"])/4,(source[prefix+"y"]+target[prefix+"y"])/2+(source[prefix+"x"]-target[prefix+"x"])/4,target[prefix+"x"],target[prefix+"y"]),context.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.def=function(edge,source,target,context,settings){var color=edge.color,prefix=settings("prefix")||"",edgeColor=settings("edgeColor"),defaultNodeColor=settings("defaultNodeColor"),defaultEdgeColor=settings("defaultEdgeColor");if(!color)switch(edgeColor){case"source":color=source.color||defaultNodeColor;break;case"target":color=target.color||defaultNodeColor;break;default:color=defaultEdgeColor}context.strokeStyle=color,context.lineWidth=edge[prefix+"size"]||1,context.beginPath(),context.moveTo(source[prefix+"x"],source[prefix+"y"]),context.lineTo(target[prefix+"x"],target[prefix+"y"]),context.stroke()}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.hovers"),sigma.canvas.hovers.def=function(node,context,settings,graph){var prefix=settings("prefix")||"",size=node[prefix+"size"],fontSize="fixed"===settings("labelSize")?settings("defaultLabelSize"):settings("labelSizeRatio")*size;if("transparent"!==node.color){context.font=(settings("fontStyle")?settings("fontStyle")+" ":"")+fontSize+"px "+settings("font");var nodeRenderer=sigma.canvas.nodes[node.type]||sigma.canvas.nodes.def;if(nodeRenderer(node,context,settings),"string"==typeof node.label){context.fillStyle="transparent"===node.color?node.color:"#333";var neighbors=graph.neighbors(node.id);Object.keys(neighbors).length>0?(neighbors[node.id]=node,graph.nodes().forEach(function(n){if(neighbors[n.id]){var nsize=n[prefix+"size"];!n.keep&&n.hover&&context.fillText(n.label,Math.round(n[prefix+"x"]+nsize+3),Math.round(n[prefix+"y"]+fontSize/3))}})):node.keep||context.fillText(node.label,Math.round(node[prefix+"x"]+size+3),Math.round(node[prefix+"y"]+fontSize/3))}}}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.labels"),sigma.canvas.labels.def=function(node,context,settings){var fontSize,prefix=settings("prefix")||"",size=node[prefix+"size"];if(node.keep);else if(node.emulateHover);else{if(node.hover)return;if(size<settings("labelThreshold"))return}"string"==typeof node.label&&(fontSize="fixed"===settings("labelSize")?settings("defaultLabelSize"):settings("labelSizeRatio")*size,context.font=(settings("fontStyle")?settings("fontStyle")+" ":"")+fontSize+"px "+settings("font"),context.fillStyle="transparent"===node.color?node.color:"#333",context.fillText(node.label,Math.round(node[prefix+"x"]+size+3),Math.round(node[prefix+"y"]+fontSize/3)))}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.canvas.nodes"),sigma.canvas.nodes.def=function(node,context,settings){var prefix=settings("prefix")||"";context.fillStyle=node.color||settings("defaultNodeColor"),context.beginPath(),context.arc(node[prefix+"x"],node[prefix+"y"],node[prefix+"size"],0,2*Math.PI,!0),context.closePath(),context.fill()}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.middlewares.copy=function(readPrefix,writePrefix){var i,l,a;if(writePrefix+""!=readPrefix+""){for(a=this.graph.nodes(),i=0,l=a.length;l>i;i++)a[i][writePrefix+"x"]=a[i][readPrefix+"x"],a[i][writePrefix+"y"]=a[i][readPrefix+"y"],a[i][writePrefix+"size"]=a[i][readPrefix+"size"];for(a=this.graph.edges(),i=0,l=a.length;l>i;i++)a[i][writePrefix+"size"]=a[i][readPrefix+"size"]}}}.call(window),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.utils.pkg("sigma.utils"),sigma.middlewares.rescale=function(readPrefix,writePrefix,options){var i,l,a,b,c,d,scale,margin,n=this.graph.nodes(),e=this.graph.edges(),settings=this.settings.embedObjects(options||{}),bounds=settings("bounds")||sigma.utils.getBoundaries(this.graph,readPrefix,!0),minX=bounds.minX,minY=bounds.minY,maxX=bounds.maxX,maxY=bounds.maxY,sizeMax=bounds.sizeMax,weightMax=bounds.weightMax,w=settings("width")||1,h=settings("height")||1;for(scale="outside"===settings("scalingMode")?Math.max(w/Math.max(maxX-minX,1),h/Math.max(maxY-minY,1)):Math.min(w/Math.max(maxX-minX,1),h/Math.max(maxY-minY,1)),margin=(settings("rescaleIgnoreSize")?0:(settings("maxNodeSize")||sizeMax)/scale)+(settings("sideMargin")||0),maxX+=margin,minX-=margin,maxY+=margin,minY-=margin,scale="outside"===settings("scalingMode")?Math.max(w/Math.max(maxX-minX,1),h/Math.max(maxY-minY,1)):Math.min(w/Math.max(maxX-minX,1),h/Math.max(maxY-minY,1)),settings("maxNodeSize")||settings("minNodeSize")?settings("maxNodeSize")===settings("minNodeSize")?(a=0,b=settings("maxNodeSize")):(a=(settings("maxNodeSize")-settings("minNodeSize"))/sizeMax,b=settings("minNodeSize")):(a=1,b=0),settings("maxEdgeSize")||settings("minEdgeSize")?settings("maxEdgeSize")===settings("minEdgeSize")?(c=0,d=settings("minEdgeSize")):(c=(settings("maxEdgeSize")-settings("minEdgeSize"))/weightMax,d=settings("minEdgeSize")):(c=1,d=0),i=0,l=e.length;l>i;i++)e[i][writePrefix+"size"]=e[i][readPrefix+"size"]*c+d;for(i=0,l=n.length;l>i;i++)n[i][writePrefix+"size"]=n[i][readPrefix+"size"]*a+b,n[i][writePrefix+"x"]=(n[i][readPrefix+"x"]-(maxX+minX)/2)*scale,n[i][writePrefix+"y"]=(n[i][readPrefix+"y"]-(maxY+minY)/2)*scale},sigma.utils.getBoundaries=function(graph,prefix,doEdges){var i,l,e=graph.edges(),n=graph.nodes(),weightMax=-1/0,sizeMax=-1/0,minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;if(doEdges)for(i=0,l=e.length;l>i;i++)weightMax=Math.max(e[i][prefix+"size"],weightMax);for(i=0,l=n.length;l>i;i++)sizeMax=Math.max(n[i][prefix+"size"],sizeMax),maxX=Math.max(n[i][prefix+"x"],maxX),minX=Math.min(n[i][prefix+"x"],minX),maxY=Math.max(n[i][prefix+"y"],maxY),minY=Math.min(n[i][prefix+"y"],minY);return weightMax=weightMax||1,sizeMax=sizeMax||1,{weightMax:weightMax,sizeMax:sizeMax,minX:minX,minY:minY,maxX:maxX,maxY:maxY}}}.call(window),function(undefined){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc.animation.running");var _getID=function(){var id=0;return function(){return""+ ++id}}();sigma.misc.animation.camera=function(camera,val,options){if(!(camera instanceof sigma.classes.camera&&"object"==typeof val&&val))throw"animation.camera: Wrong arguments.";if("number"!=typeof val.x&&"number"!=typeof val.y&&"number"!=typeof val.ratio&&"number"!=typeof val.angle)throw"There must be at least one valid coordinate in the given val.";var fn,id,anim,easing,duration,initialVal,o=options||{},start=sigma.utils.dateNow();return initialVal={x:camera.x,y:camera.y,ratio:camera.ratio,angle:camera.angle},duration=o.duration,easing="function"!=typeof o.easing?sigma.utils.easings[o.easing||"quadraticInOut"]:o.easing,fn=function(){var coef,t=o.duration?(sigma.utils.dateNow()-start)/o.duration:1;t>=1?(camera.isAnimated=!1,camera.goTo({x:val.x!==undefined?val.x:initialVal.x,y:val.y!==undefined?val.y:initialVal.y,ratio:val.ratio!==undefined?val.ratio:initialVal.ratio,angle:val.angle!==undefined?val.angle:initialVal.angle}),cancelAnimationFrame(id),delete sigma.misc.animation.running[id],"function"==typeof o.onComplete&&o.onComplete()):(coef=easing(t),camera.isAnimated=!0,camera.goTo({x:val.x!==undefined?initialVal.x+(val.x-initialVal.x)*coef:initialVal.x,y:val.y!==undefined?initialVal.y+(val.y-initialVal.y)*coef:initialVal.y,ratio:val.ratio!==undefined?initialVal.ratio+(val.ratio-initialVal.ratio)*coef:initialVal.ratio,angle:val.angle!==undefined?initialVal.angle+(val.angle-initialVal.angle)*coef:initialVal.angle}),"function"==typeof o.onNewFrame&&o.onNewFrame(),anim.frameId=requestAnimationFrame(fn))},id=_getID(),anim={frameId:requestAnimationFrame(fn),target:camera,type:"camera",options:o,fn:fn},sigma.misc.animation.running[id]=anim,id},sigma.misc.animation.kill=function(id){if(1!==arguments.length||"number"!=typeof id)throw"animation.kill: Wrong arguments.";var o=sigma.misc.animation.running[id];return o&&(cancelAnimationFrame(id),delete sigma.misc.animation.running[o.frameId],"camera"===o.type&&(o.target.isAnimated=!1),"function"==typeof(o.options||{}).onComplete&&o.options.onComplete()),this},sigma.misc.animation.killAll=function(filter){var o,id,count=0,type="string"==typeof filter?filter:null,target="object"==typeof filter?filter:null,running=sigma.misc.animation.running;for(id in running)type&&running[id].type!==type||target&&running[id].target!==target||(o=sigma.misc.animation.running[id],cancelAnimationFrame(o.frameId),delete sigma.misc.animation.running[id],"camera"===o.type&&(o.target.isAnimated=!1),count++,"function"==typeof(o.options||{}).onComplete&&o.options.onComplete());return count},sigma.misc.animation.has=function(filter){var id,type="string"==typeof filter?filter:null,target="object"==typeof filter?filter:null,running=sigma.misc.animation.running;for(id in running)if(!(type&&running[id].type!==type||target&&running[id].target!==target))return!0;return!1}}.call(window),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindEvents=function(prefix){function getNodes(e){e&&(mX="x"in e.data?e.data.x:mX,mY="y"in e.data?e.data.y:mY);var i,j,l,n,x,y,s,inserted,selected=[],modifiedX=mX+self.width/2,modifiedY=mY+self.height/2,point=self.camera.cameraPosition(mX,mY),nodes=self.camera.quadtree.point(point.x,point.y);if(nodes.length)for(i=0,l=nodes.length;l>i;i++)if(n=nodes[i],x=n[prefix+"x"],y=n[prefix+"y"],s=n[prefix+"size"],!n.hidden&&modifiedX>x-s&&x+s>modifiedX&&modifiedY>y-s&&y+s>modifiedY&&Math.sqrt(Math.pow(modifiedX-x,2)+Math.pow(modifiedY-y,2))<s){for(inserted=!1,j=0;j<selected.length;j++)if(n.size>selected[j].size){selected.splice(j,0,n),inserted=!0;break}inserted||selected.push(n)}return selected}function bindCaptor(captor){function onClick(e){self.settings("eventsEnabled")&&(self.dispatchEvent("click",e.data),nodes=getNodes(e),nodes.length?(self.dispatchEvent("clickNode",{node:nodes[0]}),self.dispatchEvent("clickNodes",{node:nodes})):self.dispatchEvent("clickStage"))}function onDoubleClick(e){self.settings("eventsEnabled")&&(self.dispatchEvent("doubleClick",e.data),nodes=getNodes(e),nodes.length?(self.dispatchEvent("doubleClickNode",{node:nodes[0]}),self.dispatchEvent("doubleClickNodes",{node:nodes})):self.dispatchEvent("doubleClickStage"))}function onOut(){if(self.settings("eventsEnabled")){var k,i,l,out=[];for(k in over)out.push(over[k]);for(over={},i=0,l=out.length;l>i;i++)self.dispatchEvent("outNode",{node:out[i]});out.length&&self.dispatchEvent("outNodes",{nodes:out})}}function onMove(e){if(self.settings("eventsEnabled")){nodes=getNodes(e);var i,k,n,newOut=[],newOvers=[],currentOvers={},l=nodes.length;for(i=0;l>i;i++)n=nodes[i],currentOvers[n.id]=n,over[n.id]||(newOvers.push(n),over[n.id]=n);for(k in over)currentOvers[k]||(newOut.push(over[k]),delete over[k]);for(i=0,l=newOvers.length;l>i;i++)self.dispatchEvent("overNode",{node:newOvers[i]});
for(i=0,l=newOut.length;l>i;i++)self.dispatchEvent("outNode",{node:newOut[i]});newOvers.length&&self.dispatchEvent("overNodes",{nodes:newOvers}),newOut.length&&self.dispatchEvent("outNodes",{nodes:newOut})}}var nodes,over={};captor.bind("click",onClick),captor.bind("mouseup",onMove),captor.bind("mousemove",onMove),captor.bind("mouseout",onOut),captor.bind("doubleclick",onDoubleClick),self.bind("render",onMove)}var i,l,mX,mY,self=this;for(i=0,l=this.captors.length;l>i;i++)bindCaptor(this.captors[i])}}.call(window),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.drawHovers=function(prefix,graph){function draw(){self.contexts.hover.canvas.width=self.contexts.hover.canvas.width;var k,renderers=sigma.canvas.hovers,embedSettings=self.settings.embedObjects({prefix:prefix});if(embedSettings("enableHovering"))for(k in hoveredNodes)hoveredNodes[k].hidden||(renderers[hoveredNodes[k].type]||renderers.def)(hoveredNodes[k],self.contexts.hover,embedSettings,graph)}var self=this,hoveredNodes={};this.bind("overNodes",function(event){var i,n=event.data.nodes,l=n.length;for(i=0;l>i;i++)hoveredNodes[n[i].id]=n[i];draw()}),this.bind("outNodes",function(event){var i,n=event.data.nodes,l=n.length;for(i=0;l>i;i++)delete hoveredNodes[n[i].id];draw()}),this.bind("render",function(){draw()})}}.call(window),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var oself,forceatlas2=sigma.utils.pkg("sigma.layout.forceatlas2");forceatlas2.ForceAtlas2=function(graph,options){var self=this;this.graph=graph,this.p=sigma.utils.extend(options||{},forceatlas2.defaultSettings),this.state={step:0,index:0},this.init=function(){return self.state={step:0,index:0},self.graph.nodes().forEach(function(n){n.fa2={mass:1+self.graph.degree(n.id),old_dx:0,old_dy:0,dx:0,dy:0}}),self},this.go=function(){for(;self.atomicGo(););},this.atomicGo=function(){var i,n,e,l,fixed,swinging,factor,graph=self.graph,nIndex=graph.nodes,eIndex=graph.edges,nodes=nIndex(),edges=eIndex(),cInt=self.p.complexIntervals,sInt=self.p.simpleIntervals;switch(self.state.step){case 0:for(i=0,l=nodes.length;l>i;i++)n=nodes[i],n.fa2=n.fa2?{mass:1+self.graph.degree(n.id),old_dx:n.fa2.dx||0,old_dy:n.fa2.dy||0,dx:0,dy:0}:{mass:1+self.graph.degree(n.id),old_dx:0,old_dy:0,dx:0,dy:0};if(self.p.barnesHutOptimize&&(self.rootRegion=new forceatlas2.Region(nodes,0),self.rootRegion.buildSubRegions()),self.p.outboundAttractionDistribution){for(self.p.outboundAttCompensation=0,i=0,l=nodes.length;l>i;i++)n=nodes[i],self.p.outboundAttCompensation+=n.fa2.mass;self.p.outboundAttCompensation/=nodes.length}return self.state.step=1,self.state.index=0,!0;case 1:var n1,n2,i1,i2,rootRegion,barnesHutTheta,Repulsion=self.ForceFactory.buildRepulsion(self.p.adjustSizes,self.p.scalingRatio);if(self.p.barnesHutOptimize){for(rootRegion=self.rootRegion,barnesHutTheta=self.p.barnesHutTheta,i=self.state.index;i<nodes.length&&i<self.state.index+cInt;)(n=nodes[i++]).fa2&&rootRegion.applyForce(n,Repulsion,barnesHutTheta);i===nodes.length?self.state={step:2,index:0}:self.state.index=i}else{for(i1=self.state.index;i1<nodes.length&&i1<self.state.index+cInt;)if((n1=nodes[i1++]).fa2)for(i2=0;i1>i2;i2++)(n2=nodes[i2]).fa2&&Repulsion.apply_nn(n1,n2);i1===nodes.length?self.state={step:2,index:0}:self.state.index=i1}return!0;case 2:var Gravity=self.p.strongGravityMode?self.ForceFactory.getStrongGravity(self.p.scalingRatio):self.ForceFactory.buildRepulsion(self.p.adjustSizes,self.p.scalingRatio),gravity=self.p.gravity,scalingRatio=self.p.scalingRatio;for(i=self.state.index;i<nodes.length&&i<self.state.index+sInt;)n=nodes[i++],n.fa2&&Gravity.apply_g(n,gravity/scalingRatio);return i===nodes.length?self.state={step:3,index:0}:self.state.index=i,!0;case 3:var Attraction=self.ForceFactory.buildAttraction(self.p.linLogMode,self.p.outboundAttractionDistribution,self.p.adjustSizes,self.p.outboundAttractionDistribution?self.p.outboundAttCompensation:1);if(i=self.state.index,0===self.p.edgeWeightInfluence)for(;i<edges.length&&i<self.state.index+cInt;)e=edges[i++],Attraction.apply_nn(nIndex(e.source),nIndex(e.target),1);else if(1===self.p.edgeWeightInfluence)for(;i<edges.length&&i<self.state.index+cInt;)e=edges[i++],Attraction.apply_nn(nIndex(e.source),nIndex(e.target),e.weight||1);else for(;i<edges.length&&i<self.state.index+cInt;)e=edges[i++],Attraction.apply_nn(nIndex(e.source),nIndex(e.target),Math.pow(e.weight||1,self.p.edgeWeightInfluence));return i===edges.length?self.state={step:4,index:0}:self.state.index=i,!0;case 4:var maxRise,targetSpeed,totalSwinging=0,totalEffectiveTraction=0;for(i=0,l=nodes.length;l>i;i++)n=nodes[i],fixed=n.fixed||!1,!fixed&&n.fa2&&(swinging=Math.sqrt(Math.pow(n.fa2.old_dx-n.fa2.dx,2)+Math.pow(n.fa2.old_dy-n.fa2.dy,2)),totalSwinging+=n.fa2.mass*swinging,totalEffectiveTraction+=.5*n.fa2.mass*Math.sqrt(Math.pow(n.fa2.old_dx+n.fa2.dx,2)+Math.pow(n.fa2.old_dy+n.fa2.dy,2)));for(self.p.totalSwinging=totalSwinging,self.p.totalEffectiveTraction=totalEffectiveTraction,targetSpeed=Math.pow(self.p.jitterTolerance,2)*self.p.totalEffectiveTraction/self.p.totalSwinging,maxRise=.5,self.p.speed=self.p.speed+Math.min(targetSpeed-self.p.speed,maxRise*self.p.speed),i=0,l=nodes.length;l>i;i++)n=nodes[i],n.old_x=+n.x,n.old_y=+n.y;return self.state.step=5,!0;case 5:var df,speed;if(i=self.state.index,self.p.adjustSizes)for(speed=self.p.speed;i<nodes.length&&i<self.state.index+sInt;)n=nodes[i++],fixed=n.fixed||!1,!fixed&&n.fa2&&(swinging=Math.sqrt((n.fa2.old_dx-n.fa2.dx)*(n.fa2.old_dx-n.fa2.dx)+(n.fa2.old_dy-n.fa2.dy)*(n.fa2.old_dy-n.fa2.dy)),factor=.1*speed/(1+speed*Math.sqrt(swinging)),df=Math.sqrt(Math.pow(n.fa2.dx,2)+Math.pow(n.fa2.dy,2)),factor=Math.min(factor*df,10)/df,n.x+=n.fa2.dx*factor,n.y+=n.fa2.dy*factor);else for(speed=self.p.speed;i<nodes.length&&i<self.state.index+sInt;)n=nodes[i++],fixed=n.fixed||!1,!fixed&&n.fa2&&(swinging=Math.sqrt((n.fa2.old_dx-n.fa2.dx)*(n.fa2.old_dx-n.fa2.dx)+(n.fa2.old_dy-n.fa2.dy)*(n.fa2.old_dy-n.fa2.dy)),factor=speed/(1+speed*Math.sqrt(swinging)),n.x+=n.fa2.dx*factor,n.y+=n.fa2.dy*factor);return i===nodes.length?(self.state={step:0,index:0},!1):(self.state.index=i,!0);default:throw new Error("ForceAtlas2 - atomic state error")}},this.clean=function(){var i,a=this.graph.nodes(),l=a.length;for(i=0;l>i;i++)delete a[i].fa2},this.setAutoSettings=function(){var graph=this.graph;return this.p.scalingRatio=graph.nodes().length>=100?2:10,this.p.strongGravityMode=!1,this.p.gravity=1,this.p.outboundAttractionDistribution=!1,this.p.linLogMode=!1,this.p.adjustSizes=!1,this.p.edgeWeightInfluence=1,this.p.jitterTolerance=graph.nodes().length>=5e4?10:graph.nodes().length>=5e3?1:.1,this.p.barnesHutOptimize=graph.nodes().length>=1e3?!0:!1,this.p.barnesHutTheta=1.2,this},this.kill=function(){},this.ForceFactory={buildRepulsion:function(adjustBySize,coefficient){return adjustBySize?new this.linRepulsion_antiCollision(coefficient):new this.linRepulsion(coefficient)},getStrongGravity:function(coefficient){return new this.strongGravity(coefficient)},buildAttraction:function(logAttr,distributedAttr,adjustBySize,c){return adjustBySize?logAttr?distributedAttr?new this.logAttraction_degreeDistributed_antiCollision(c):new this.logAttraction_antiCollision(c):distributedAttr?new this.linAttraction_degreeDistributed_antiCollision(c):new this.linAttraction_antiCollision(c):logAttr?distributedAttr?new this.logAttraction_degreeDistributed(c):new this.logAttraction(c):distributedAttr?new this.linAttraction_massDistributed(c):new this.linAttraction(c)},linRepulsion:function(c){this.coefficient=c,this.apply_nn=function(n1,n2){if(n1.fa2&&n2.fa2){var xDist=n1.x-n2.x,yDist=n1.y-n2.y,distance=Math.sqrt(xDist*xDist+yDist*yDist);if(distance>0){var factor=this.coefficient*n1.fa2.mass*n2.fa2.mass/Math.pow(distance,2);n1.fa2.dx+=xDist*factor,n1.fa2.dy+=yDist*factor,n2.fa2.dx-=xDist*factor,n2.fa2.dy-=yDist*factor}}},this.apply_nr=function(n,r){var xDist=n.x-r.p.massCenterX,yDist=n.y-r.p.massCenterY,distance=Math.sqrt(xDist*xDist+yDist*yDist);if(distance>0){var factor=this.coefficient*n.fa2.mass*r.p.mass/Math.pow(distance,2);n.fa2.dx+=xDist*factor,n.fa2.dy+=yDist*factor}},this.apply_g=function(n,g){var xDist=n.x,yDist=n.y,distance=Math.sqrt(xDist*xDist+yDist*yDist);if(distance>0){var factor=this.coefficient*n.fa2.mass*g/distance;n.fa2.dx-=xDist*factor,n.fa2.dy-=yDist*factor}}},linRepulsion_antiCollision:function(c){this.coefficient=c,this.apply_nn=function(n1,n2){var factor;if(n1.fa2&&n2.fa2){var xDist=n1.x-n2.x,yDist=n1.y-n2.y,distance=Math.sqrt(xDist*xDist+yDist*yDist)-n1.size-n2.size;distance>0?(factor=this.coefficient*n1.fa2.mass*n2.fa2.mass/Math.pow(distance,2),n1.fa2.dx+=xDist*factor,n1.fa2.dy+=yDist*factor,n2.fa2.dx-=xDist*factor,n2.fa2.dy-=yDist*factor):0>distance&&(factor=100*this.coefficient*n1.fa2.mass*n2.fa2.mass,n1.fa2.dx+=xDist*factor,n1.fa2.dy+=yDist*factor,n2.fa2.dx-=xDist*factor,n2.fa2.dy-=yDist*factor)}},this.apply_nr=function(n,r){var factor,xDist=n.fa2.x()-r.getMassCenterX(),yDist=n.fa2.y()-r.getMassCenterY(),distance=Math.sqrt(xDist*xDist+yDist*yDist);distance>0?(factor=this.coefficient*n.fa2.mass*r.getMass()/Math.pow(distance,2),n.fa2.dx+=xDist*factor,n.fa2.dy+=yDist*factor):0>distance&&(factor=-this.coefficient*n.fa2.mass*r.getMass()/distance,n.fa2.dx+=xDist*factor,n.fa2.dy+=yDist*factor)},this.apply_g=function(n,g){var xDist=n.x,yDist=n.y,distance=Math.sqrt(xDist*xDist+yDist*yDist);if(distance>0){var factor=this.coefficient*n.fa2.mass*g/distance;n.fa2.dx-=xDist*factor,n.fa2.dy-=yDist*factor}}},strongGravity:function(c){this.coefficient=c,this.apply_nn=function(){},this.apply_nr=function(){},this.apply_g=function(n,g){var xDist=n.x,yDist=n.y,distance=Math.sqrt(xDist*xDist+yDist*yDist);if(distance>0){var factor=this.coefficient*n.fa2.mass*g;n.fa2.dx-=xDist*factor,n.fa2.dy-=yDist*factor}}},linAttraction:function(c){this.coefficient=c,this.apply_nn=function(n1,n2,e){if(n1.fa2&&n2.fa2){var xDist=n1.x-n2.x,yDist=n1.y-n2.y,factor=-this.coefficient*e;n1.fa2.dx+=xDist*factor,n1.fa2.dy+=yDist*factor,n2.fa2.dx-=xDist*factor,n2.fa2.dy-=yDist*factor}}},linAttraction_massDistributed:function(c){this.coefficient=c,this.apply_nn=function(n1,n2,e){if(n1.fa2&&n2.fa2){var xDist=n1.x-n2.x,yDist=n1.y-n2.y,factor=-this.coefficient*e/n1.fa2.mass;n1.fa2.dx+=xDist*factor,n1.fa2.dy+=yDist*factor,n2.fa2.dx-=xDist*factor,n2.fa2.dy-=yDist*factor}}},logAttraction:function(c){this.coefficient=c,this.apply_nn=function(n1,n2,e){if(n1.fa2&&n2.fa2){var xDist=n1.x-n2.x,yDist=n1.y-n2.y,distance=Math.sqrt(xDist*xDist+yDist*yDist);if(distance>0){var factor=-this.coefficient*e*Math.log(1+distance)/distance;n1.fa2.dx+=xDist*factor,n1.fa2.dy+=yDist*factor,n2.fa2.dx-=xDist*factor,n2.fa2.dy-=yDist*factor}}}},logAttraction_degreeDistributed:function(c){this.coefficient=c,this.apply_nn=function(n1,n2,e){if(n1.fa2&&n2.fa2){var xDist=n1.x-n2.x,yDist=n1.y-n2.y,distance=Math.sqrt(xDist*xDist+yDist*yDist);if(distance>0){var factor=-this.coefficient*e*Math.log(1+distance)/distance/n1.fa2.mass;n1.fa2.dx+=xDist*factor,n1.fa2.dy+=yDist*factor,n2.fa2.dx-=xDist*factor,n2.fa2.dy-=yDist*factor}}}},linAttraction_antiCollision:function(c){this.coefficient=c,this.apply_nn=function(n1,n2,e){if(n1.fa2&&n2.fa2){var xDist=n1.x-n2.x,yDist=n1.y-n2.y,distance=Math.sqrt(xDist*xDist+yDist*yDist);if(distance>0){var factor=-this.coefficient*e;n1.fa2.dx+=xDist*factor,n1.fa2.dy+=yDist*factor,n2.fa2.dx-=xDist*factor,n2.fa2.dy-=yDist*factor}}}},linAttraction_degreeDistributed_antiCollision:function(c){this.coefficient=c,this.apply_nn=function(n1,n2,e){if(n1.fa2&&n2.fa2){var xDist=n1.x-n2.x,yDist=n1.y-n2.y,distance=Math.sqrt(xDist*xDist+yDist*yDist);if(distance>0){var factor=-this.coefficient*e/n1.fa2.mass;n1.fa2.dx+=xDist*factor,n1.fa2.dy+=yDist*factor,n2.fa2.dx-=xDist*factor,n2.fa2.dy-=yDist*factor}}}},logAttraction_antiCollision:function(c){this.coefficient=c,this.apply_nn=function(n1,n2,e){if(n1.fa2&&n2.fa2){var xDist=n1.x-n2.x,yDist=n1.y-n2.y,distance=Math.sqrt(xDist*xDist+yDist*yDist);if(distance>0){var factor=-this.coefficient*e*Math.log(1+distance)/distance;n1.fa2.dx+=xDist*factor,n1.fa2.dy+=yDist*factor,n2.fa2.dx-=xDist*factor,n2.fa2.dy-=yDist*factor}}}},logAttraction_degreeDistributed_antiCollision:function(c){this.coefficient=c,this.apply_nn=function(n1,n2,e){if(n1.fa2&&n2.fa2){var xDist=n1.x-n2.x,yDist=n1.y-n2.y,distance=Math.sqrt(xDist*xDist+yDist*yDist);if(distance>0){var factor=-this.coefficient*e*Math.log(1+distance)/distance/n1.fa2.mass;n1.fa2.dx+=xDist*factor,n1.fa2.dy+=yDist*factor,n2.fa2.dx-=xDist*factor,n2.fa2.dy-=yDist*factor}}}}}},forceatlas2.Region=function(nodes,depth){this.depthLimit=20,this.size=0,this.nodes=nodes,this.subregions=[],this.depth=depth,this.p={mass:0,massCenterX:0,massCenterY:0},this.updateMassAndGeometry()},forceatlas2.Region.prototype.updateMassAndGeometry=function(){if(this.nodes.length>1){var mass=0,massSumX=0,massSumY=0;this.nodes.forEach(function(n){mass+=n.fa2.mass,massSumX+=n.x*n.fa2.mass,massSumY+=n.y*n.fa2.mass});var size,massCenterX=massSumX/mass,massCenterY=massSumY/mass;this.nodes.forEach(function(n){var distance=Math.sqrt((n.x-massCenterX)*(n.x-massCenterX)+(n.y-massCenterY)*(n.y-massCenterY));size=Math.max(size||2*distance,2*distance)}),this.p.mass=mass,this.p.massCenterX=massCenterX,this.p.massCenterY=massCenterY,this.size=size}},forceatlas2.Region.prototype.buildSubRegions=function(){if(this.nodes.length>1){var nodesColumn,nodesLine,oneNodeList,subregion,leftNodes=[],rightNodes=[],subregions=[],massCenterX=this.p.massCenterX,massCenterY=this.p.massCenterY,nextDepth=this.depth+1,self=this,tl=[],bl=[],br=[],tr=[];this.nodes.forEach(function(n){nodesColumn=n.x<massCenterX?leftNodes:rightNodes,nodesColumn.push(n)}),leftNodes.forEach(function(n){nodesLine=n.y<massCenterY?tl:bl,nodesLine.push(n)}),rightNodes.forEach(function(n){nodesLine=n.y<massCenterY?tr:br,nodesLine.push(n)}),[tl,bl,br,tr].filter(function(a){return a.length}).forEach(function(a){nextDepth<=self.depthLimit&&a.length<self.nodes.length?(subregion=new forceatlas2.Region(a,nextDepth),subregions.push(subregion)):a.forEach(function(n){oneNodeList=[n],subregion=new forceatlas2.Region(oneNodeList,nextDepth),subregions.push(subregion)})}),this.subregions=subregions,subregions.forEach(function(subregion){subregion.buildSubRegions()})}},forceatlas2.Region.prototype.applyForce=function(n,Force,theta){if(this.nodes.length<2){var regionNode=this.nodes[0];Force.apply_nn(n,regionNode)}else{var distance=Math.sqrt((n.x-this.p.massCenterX)*(n.x-this.p.massCenterX)+(n.y-this.p.massCenterY)*(n.y-this.p.massCenterY));distance*theta>this.size?Force.apply_nr(n,this):this.subregions.forEach(function(subregion){subregion.applyForce(n,Force,theta)})}},sigma.prototype.startForceAtlas2=function(options){function addJob(){conrad.hasJob("forceatlas2_"+self.id)||conrad.addJob({id:"forceatlas2_"+self.id,job:self.forceatlas2.atomicGo,end:function(){self.refresh(),self.forceatlas2.isRunning&&addJob()}})}if((this.forceatlas2||{}).isRunning)return this;this.forceatlas2||(this.forceatlas2=new forceatlas2.ForceAtlas2(this.graph,options||{}),this.forceatlas2.p.autoSettings&&this.forceatlas2.setAutoSettings(),this.forceatlas2.init()),this.forceatlas2.isRunning=!0;var self=this;return oself=this,addJob(),this},sigma.prototype.stopForceAtlas2=function(){return(this.forceatlas2||{}).isRunning&&(this.forceatlas2.state={step:0,index:0},this.forceatlas2.isRunning=!1,this.forceatlas2.clean()),conrad.hasJob("forceatlas2_"+this.id)&&conrad.killJob("forceatlas2_"+this.id),this},forceatlas2.defaultSettings={autoSettings:!0,linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:1,strongGravityMode:!1,gravity:1,jitterTolerance:1,barnesHutOptimize:!1,barnesHutTheta:1.2,speed:1,outboundAttCompensation:1,totalSwinging:0,totalEffectiveTraction:0,complexIntervals:500,simpleIntervals:1e3}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.mouse=function(target,camera,settings){function _moveHandler(e){var x,y,pos;return _settings("mouseEnabled")&&_self.dispatchEvent("mousemove",{x:sigma.utils.getX(e)-e.target.width/2,y:sigma.utils.getY(e)-e.target.height/2}),_settings("mouseEnabled")&&_isMouseDown?(_isMoving=!0,_movingTimeoutId&&clearTimeout(_movingTimeoutId),_movingTimeoutId=setTimeout(function(){_isMoving=!1},_settings("dragTimeout")),sigma.misc.animation.killAll(_camera),_camera.isMoving=!0,pos=_camera.cameraPosition(sigma.utils.getX(e)-_startMouseX,sigma.utils.getY(e)-_startMouseY,!0),x=_startCameraX-pos.x,y=_startCameraY-pos.y,(x!==_camera.x||y!==_camera.y)&&(_lastCameraX=_camera.x,_lastCameraY=_camera.y,_camera.goTo({x:x,y:y})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}function _upHandler(e){if(_settings("mouseEnabled")&&_isMouseDown){_isMouseDown=!1,_movingTimeoutId&&clearTimeout(_movingTimeoutId),_camera.isMoving=!1;var x=sigma.utils.getX(e),y=sigma.utils.getY(e);_isMoving?(sigma.misc.animation.killAll(_camera),sigma.misc.animation.camera(_camera,{x:_camera.x+_settings("mouseInertiaRatio")*(_camera.x-_lastCameraX),y:_camera.y+_settings("mouseInertiaRatio")*(_camera.y-_lastCameraY)},{easing:"quadraticOut",duration:_settings("mouseInertiaDuration")})):(_startMouseX!==x||_startMouseY!==y)&&_camera.goTo({x:_camera.x,y:_camera.y}),_self.dispatchEvent("mouseup",{x:x-e.target.width/2,y:y-e.target.height/2}),_isMoving=!1}}function _downHandler(e){_settings("mouseEnabled")&&(_isMouseDown=!0,_startCameraX=_camera.x,_startCameraY=_camera.y,_lastCameraX=_camera.x,_lastCameraY=_camera.y,_startMouseX=sigma.utils.getX(e),_startMouseY=sigma.utils.getY(e),_self.dispatchEvent("mouseup",{x:_startMouseX-e.target.width/2,y:_startMouseY-e.target.height/2}))}function _outHandler(){_settings("mouseEnabled")&&_self.dispatchEvent("mouseout")}function _clickHandler(e){return _settings("mouseEnabled")&&_self.dispatchEvent("click",{x:sigma.utils.getX(e)-e.target.width/2,y:sigma.utils.getY(e)-e.target.height/2}),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1}function _doubleClickHandler(e){var pos,count,ratio,newRatio;return _settings("mouseEnabled")?(ratio=1/_settings("doubleClickZoomingRatio"),newRatio=Math.max(_settings("zoomMin"),Math.min(_settings("zoomMax"),_camera.ratio*ratio)),ratio=newRatio/_camera.ratio,_self.dispatchEvent("doubleclick",{x:_startMouseX-e.target.width/2,y:_startMouseY-e.target.height/2}),_settings("doubleClickEnabled")&&newRatio!==_camera.ratio&&(count=sigma.misc.animation.killAll(_camera),pos=_camera.cameraPosition(sigma.utils.getX(e)-e.target.width/2,sigma.utils.getY(e)-e.target.height/2,!0),sigma.misc.animation.camera(_camera,{x:pos.x*(1-ratio)+_camera.x,y:pos.y*(1-ratio)+_camera.y,ratio:newRatio},{easing:count?"quadraticOut":"quadraticInOut",duration:_settings("doubleClickZoomDuration")})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}function _wheelHandler(e){var pos,count,ratio,newRatio;return _settings("mouseEnabled")?(ratio=sigma.utils.getDelta(e)>0?1/_settings("zoomingRatio"):_settings("zoomingRatio"),newRatio=Math.max(_settings("zoomMin"),Math.min(_settings("zoomMax"),_camera.ratio*ratio)),ratio=newRatio/_camera.ratio,newRatio!==_camera.ratio&&(count=sigma.misc.animation.killAll(_camera),pos=_camera.cameraPosition(sigma.utils.getX(e)-e.target.width/2,sigma.utils.getY(e)-e.target.height/2,!0),sigma.misc.animation.camera(_camera,{x:pos.x*(1-ratio)+_camera.x,y:pos.y*(1-ratio)+_camera.y,ratio:newRatio},{easing:count?"quadraticOut":"quadraticInOut",duration:_settings("mouseZoomDuration")})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}var _startCameraX,_startCameraY,_lastCameraX,_lastCameraY,_startMouseX,_startMouseY,_isMouseDown,_isMoving,_movingTimeoutId,_self=this,_target=target,_camera=camera,_settings=settings;sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(_target,"click",_doubleClickHandler),_target.addEventListener("DOMMouseScroll",_wheelHandler,!1),_target.addEventListener("mousewheel",_wheelHandler,!1),_target.addEventListener("mousemove",_moveHandler,!1),_target.addEventListener("mousedown",_downHandler,!1),_target.addEventListener("click",_clickHandler,!1),_target.addEventListener("mouseout",_outHandler,!1),document.addEventListener("mouseup",_upHandler,!1)}}.call(window),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.touch=function(target,camera,settings){function position(e){var offset=sigma.utils.getOffset(_target);return{x:e.pageX-offset.left,y:e.pageY-offset.top}}function _handleStart(e){if(_settings("touchEnabled")){var x0,x1,y0,y1,pos0,pos1;switch(_downTouches=e.touches,_downTouches.length){case 1:_camera.isMoving=!0,_touchMode=1,_startCameraX=_camera.x,_startCameraY=_camera.y,_lastCameraX=_camera.x,_lastCameraY=_camera.y,pos0=position(_downTouches[0]),_startTouchX0=pos0.x,_startTouchY0=pos0.y;break;case 2:return _camera.isMoving=!0,_touchMode=2,pos0=position(_downTouches[0]),pos1=position(_downTouches[1]),x0=pos0.x,y0=pos0.y,x1=pos1.x,y1=pos1.y,_lastCameraX=_camera.x,_lastCameraY=_camera.y,_startCameraAngle=_camera.angle,_startCameraRatio=_camera.ratio,_startCameraX=_camera.x,_startCameraY=_camera.y,_startTouchX0=x0,_startTouchY0=y0,_startTouchX1=x1,_startTouchY1=y1,_startTouchAngle=Math.atan2(_startTouchY1-_startTouchY0,_startTouchX1-_startTouchX0),_startTouchDistance=Math.sqrt(Math.pow(_startTouchY1-_startTouchY0,2)+Math.pow(_startTouchX1-_startTouchX0,2)),e.preventDefault(),!1}}}function _handleLeave(e){if(_settings("touchEnabled")){_downTouches=e.touches;var inertiaRatio=_settings("touchInertiaRatio");switch(_movingTimeoutId&&(_isMoving=!1,clearTimeout(_movingTimeoutId)),_touchMode){case 2:if(1===e.touches.length){_handleStart(e),e.preventDefault();break}case 1:_camera.isMoving=!1,_self.dispatchEvent("stopDrag"),_isMoving&&(_doubleTap=!1,sigma.misc.animation.camera(_camera,{x:_camera.x+inertiaRatio*(_camera.x-_lastCameraX),y:_camera.y+inertiaRatio*(_camera.y-_lastCameraY)},{easing:"quadraticOut",duration:_settings("touchInertiaDuration")})),_isMoving=!1,_touchMode=0}}}function _handleMove(e){if(!_doubleTap&&_settings("touchEnabled")){var x0,x1,y0,y1,cos,sin,end,pos0,pos1,diff,start,dAngle,dRatio,newStageX,newStageY,newStageRatio,newStageAngle;switch(_downTouches=e.touches,_isMoving=!0,_movingTimeoutId&&clearTimeout(_movingTimeoutId),_movingTimeoutId=setTimeout(function(){_isMoving=!1},_settings("dragTimeout")),_touchMode){case 1:pos0=position(_downTouches[0]),x0=pos0.x,y0=pos0.y,diff=_camera.cameraPosition(x0-_startTouchX0,y0-_startTouchY0,!0),newStageX=_startCameraX-diff.x,newStageY=_startCameraY-diff.y,(newStageX!==_camera.x||newStageY!==_camera.y)&&(_lastCameraX=_camera.x,_lastCameraY=_camera.y,_camera.goTo({x:newStageX,y:newStageY}),_self.dispatchEvent("mousemove",{x:pos0.x-e.target.width/2,y:pos0.y-e.target.height/2}),_self.dispatchEvent("drag"));break;case 2:pos0=position(_downTouches[0]),pos1=position(_downTouches[1]),x0=pos0.x,y0=pos0.y,x1=pos1.x,y1=pos1.y,start=_camera.cameraPosition((_startTouchX0+_startTouchX1)/2-e.target.width/2,(_startTouchY0+_startTouchY1)/2-e.target.height/2,!0),end=_camera.cameraPosition((x0+x1)/2-e.target.width/2,(y0+y1)/2-e.target.height/2,!0),dAngle=Math.atan2(y1-y0,x1-x0)-_startTouchAngle,dRatio=Math.sqrt(Math.pow(y1-y0,2)+Math.pow(x1-x0,2))/_startTouchDistance,x0=start.x,y0=start.y,newStageRatio=_startCameraRatio/dRatio,x0*=dRatio,y0*=dRatio,newStageAngle=_startCameraAngle-dAngle,cos=Math.cos(-dAngle),sin=Math.sin(-dAngle),x1=x0*cos+y0*sin,y1=y0*cos-x0*sin,x0=x1,y0=y1,newStageX=x0-end.x+_startCameraX,newStageY=y0-end.y+_startCameraY,(newStageRatio!==_camera.ratio||newStageAngle!==_camera.angle||newStageX!==_camera.x||newStageY!==_camera.y)&&(_lastCameraX=_camera.x,_lastCameraY=_camera.y,_lastCameraAngle=_camera.angle,_lastCameraRatio=_camera.ratio,_camera.goTo({x:newStageX,y:newStageY,angle:newStageAngle,ratio:newStageRatio}),_self.dispatchEvent("drag"))}return e.preventDefault(),!1}}function _doubleTapHandler(e){var pos,count,ratio,newRatio;return e.touches&&1===e.touches.length&&_settings("touchEnabled")?(_doubleTap=!0,ratio=1/_settings("doubleClickZoomingRatio"),newRatio=Math.max(_settings("zoomMin"),Math.min(_settings("zoomMax"),_camera.ratio*ratio)),ratio=newRatio/_camera.ratio,pos=position(e.touches[0]),_self.dispatchEvent("doubleclick",{x:pos.x-e.target.width/2,y:pos.y-e.target.height/2}),_settings("doubleClickEnabled")&&newRatio!==_camera.ratio&&(count=sigma.misc.animation.killAll(_camera),pos=_camera.cameraPosition(pos.x-e.target.width/2,pos.y-e.target.height/2,!0),sigma.misc.animation.camera(_camera,{x:pos.x*(1-ratio)+_camera.x,y:pos.y*(1-ratio)+_camera.y,ratio:newRatio},{easing:count?"quadraticOut":"quadraticInOut",duration:_settings("doubleClickZoomDuration"),onComplete:function(){_doubleTap=!1}})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1):void 0}var _startCameraX,_startCameraY,_startCameraAngle,_startCameraRatio,_lastCameraX,_lastCameraY,_lastCameraAngle,_lastCameraRatio,_startTouchX0,_startTouchY0,_startTouchX1,_startTouchY1,_startTouchAngle,_startTouchDistance,_touchMode,_isMoving,_doubleTap,_movingTimeoutId,_self=this,_target=target,_camera=camera,_settings=settings,_downTouches=[];sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(_target,"touchstart",_doubleTapHandler),_target.addEventListener("touchstart",_handleStart),_target.addEventListener("touchend",_handleLeave),_target.addEventListener("touchcancel",_handleLeave),_target.addEventListener("touchleave",_handleLeave),_target.addEventListener("touchmove",_handleMove)}}.call(window)},{}],167:[function(){angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function snake_case(name){var regexp=/[A-Z]/g,separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var defaultOptions={placement:"top",animation:!0,popupDelay:0},triggerMap={mouseenter:"mouseleave",click:"click",focus:"blur"},globalOptions={};this.options=function(value){angular.extend(globalOptions,value)},this.setTriggers=function(triggers){angular.extend(triggerMap,triggers)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function($window,$compile,$timeout,$parse,$document,$position,$interpolate){return function(type,prefix,defaultTriggerShow){function getTriggers(trigger){var show=trigger||options.trigger||defaultTriggerShow,hide=triggerMap[show]||show;return{show:show,hide:hide}}var options=angular.extend({},defaultOptions,globalOptions),directiveName=snake_case(type),startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),template="<div "+directiveName+'-popup title="'+startSym+"tt_title"+endSym+'" content="'+startSym+"tt_content"+endSym+'" placement="'+startSym+"tt_placement"+endSym+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:{},priority:-100,compile:function(){var tooltipLinker=$compile(template);return function(scope,element,attrs){function toggleTooltipBind(){scope.tt_isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){(!hasEnableExp||scope.$eval(attrs[prefix+"Enable"]))&&(scope.tt_popupDelay?(popupTimeout=$timeout(show,scope.tt_popupDelay,!1),popupTimeout.then(function(reposition){reposition()})):show()())}function hideTooltipBind(){scope.$apply(function(){hide()})}function show(){return scope.tt_content?(createTooltip(),transitionTimeout&&$timeout.cancel(transitionTimeout),tooltip.css({top:0,left:"-9999px",display:"block"}),appendToBody?$document.find("body").append(tooltip):element.after(tooltip),scope.$apply(),positionTooltip):angular.noop}function hide(){scope.tt_isOpen=!1,$timeout.cancel(popupTimeout),scope.tt_animation?transitionTimeout=$timeout(removeTooltip,500):removeTooltip()}function createTooltip(){tooltip&&removeTooltip(),tooltip=tooltipLinker(scope,function(){}),scope.$apply()}function removeTooltip(){tooltip&&(tooltip.remove(),tooltip=null)}var tooltip,transitionTimeout,popupTimeout,appendToBody=angular.isDefined(options.appendToBody)?options.appendToBody:!1,triggers=getTriggers(void 0),hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]),positionTooltip=function(){var ttPosition=$position.positionElements(element,tooltip,scope.tt_placement,appendToBody);ttPosition.top+="px",ttPosition.left+="px",tooltip.css(ttPosition),scope.tt_isOpen=!0};scope.tt_isOpen=!1,attrs.$observe(type,function(val){scope.tt_content=val,!val&&scope.tt_isOpen&&hide()}),attrs.$observe(prefix+"Title",function(val){scope.tt_title=val}),attrs.$observe(prefix+"Placement",function(val){scope.tt_placement=angular.isDefined(val)?val:options.placement}),attrs.$observe(prefix+"PopupDelay",function(val){var delay=parseInt(val,10);scope.tt_popupDelay=isNaN(delay)?options.popupDelay:delay});var unregisterTriggers=function(){element.unbind(triggers.show,showTooltipBind),element.unbind(triggers.hide,hideTooltipBind)};attrs.$observe(prefix+"Trigger",function(val){unregisterTriggers(),triggers=getTriggers(val),triggers.show===triggers.hide?element.bind(triggers.show,toggleTooltipBind):(element.bind(triggers.show,showTooltipBind),element.bind(triggers.hide,hideTooltipBind))});var animation=scope.$eval(attrs[prefix+"Animation"]);scope.tt_animation=angular.isDefined(animation)?!!animation:options.animation,attrs.$observe(prefix+"AppendToBody",function(val){appendToBody=angular.isDefined(val)?$parse(val)(scope):appendToBody}),appendToBody&&scope.$on("$locationChangeSuccess",function(){scope.tt_isOpen&&hide()}),scope.$on("$destroy",function(){$timeout.cancel(transitionTimeout),$timeout.cancel(popupTimeout),unregisterTriggers(),removeTooltip()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},template:'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">                    <div class="tooltip-arrow"></div>                    <div class="tooltip-inner" ng-bind="content"></div>                  </div>'}}).directive("tooltip",["$tooltip",function($tooltip){return $tooltip("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},template:'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">                <div class="tooltip-arrow"></div>                <div class="tooltip-inner" bind-html-unsafe="content"></div>              </div>'}}).directive("tooltipHtmlUnsafe",["$tooltip",function($tooltip){return $tooltip("tooltipHtmlUnsafe","tooltip","mouseenter")}])},{}]},{},[1]);
//# sourceMappingURL=app.min.js.map